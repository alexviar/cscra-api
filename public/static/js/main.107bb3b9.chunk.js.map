{"version":3,"sources":["commons/services/index.ts","commons/utils/isMatch.ts","commons/utils/index.ts","commons/auth/components/Login.tsx","commons/auth/components/ProtectedRoute.tsx","commons/auth/hooks/useLoggedUser.ts","commons/services/RegionalesService.ts","commons/auth/services/AuthService.ts","configs/app.ts","commons/components/PDFViewer.tsx","commons/components/Pagination.tsx","commons/components/QueryProgressModal.tsx","commons/components/VerticalEllipsisDropdownToggle.tsx","commons/components/PdfModal.tsx","commons/components/RegionalesTypeahead.tsx","commons/auth/components/ProtectedContent.tsx","commons/services/authClient.ts","commons/services/UnidadesTerritorialesService.ts","commons/auth/actions/unauthorized.ts","bootstrap/components/ToggleSidebar.tsx","bootstrap/components/MenuItem.tsx","bootstrap/components/Home.tsx","configs/yup.ts","bootstrap/components/App.tsx","commons/hooks/useNavTitle.ts","reportWebVitals.ts","commons/auth/reducers/index.ts","commons/auth/reducers/user.ts","commons/auth/reducers/isAuthenticated.ts","commons/components/layouts/reducer.ts","bootstrap/store/index.ts","index.tsx","commons/reusable-modal/useModal.ts","commons/reusable-modal/reducer.ts","commons/services/apiClient.ts","commons/auth/selectors/inputSelectors.ts"],"names":["isMatch","text","props","searchStr","str","caseSensitive","toLowerCase","ignoreDiacritics","stripDiacritics","indexOf","isArray","a","Array","isObject","o","Object","keysToCamel","n","keys","forEach","k","s","replace","$1","toUpperCase","map","i","keysToUnderscore","key","schema","yup","shape","username","required","password","Login","dispatch","useDispatch","state","useLocation","isAuthenticated","useSelector","getIsAuthenticated","useForm","resolver","yupResolver","defaultValues","remember_me","handleSubmit","register","formState","login","useMutation","AuthService","onSuccess","data","localStorage","setItem","JSON","stringify","type","payload","to","from","className","Form","onSubmit","credentials","mutate","Image","src","style","fontSize","isError","Alert","variant","error","response","message","Group","Label","Control","isInvalid","errors","Feedback","Check","label","Button","isLoading","Spinner","size","animation","ProtectedRoute","children","authorize","rest","url","pathname","ignoreAuthorization","loggedUser","useLoggedUser","undefined","render","location","user","getUser","useMemo","can","permission","allowSuperUser","every","p","allPermissions","some","up","name","this","isSuperUser","canAny","hasRole","role","roles","r","RegionalesService","obtener","apiClient","get","authClient","post","logout","apiEndpoint","process","authEndpoint","PDFViewer","height","useEffect","PDFObject","embed","fallbackLink","id","Pagination","current","total","onChange","ld","Math","min","rd","minimum","maximum","pageItems","push","Item","active","onClick","First","Prev","Next","Last","QueryProgressModal","modal","useModal","errorMessage","status","centered","show","onHide","close","Header","Body","VerticalEllipsisDropdownToggle","React","forwardRef","ref","PdfModal","title","RegionalesTypeahead","feedback","filterBy","buscar","useQuery","refetchOnMount","refetchOnReconnect","refetchOnWindowFocus","onLoad","options","console","InputGroup","hasValidation","clearButton","emptyLabel","align","regional","nombre","isFetching","labelKey","Append","refetch","ProtectedContent","authorized","axios","create","transformResponse","defaults","withCredentials","interceptors","request","use","config","headers","Accept","paramsSerializer","params","Qs","arrayFormat","encode","handleUnauthorized","watchUnauthorized","UNAUTHORIZED","unauthorized","action","removeItem","takeLatest","ToggleSidebar","match","useRouteMatch","toggleSidebar","useCallback","isExact","Navbar","Toggle","as","display","MenuItem","Home","width","Row","Col","yupMessages","transform","value","originalValue","isType","val","format","context","moment","isValid","toDate","IamApp","lazy","ClinicaApp","queryClient","useQueryClient","navTitle","iam","clinica","seguimiento","path","useNavTitle","Promise","reject","jsonUser","getItem","parse","bg","zIndex","Brand","Link","Nav","OverlayTrigger","trigger","rootClose","placement","overlay","Popover","maxWidth","Title","Content","NavDropdown","menuAlign","Divider","open","then","clear","catch","fallback","exact","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","AuthModuleReducer","combineReducers","sidebarVisibility","rootSaga","all","composeWithDevTools","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","configureStore","rootReducer","modals","queryLoader","createModalReducer","dm11Viewer","pdfModal","auth","sagaMiddleware","createSagaMiddleware","store","createStore","applyMiddleware","run","locale","QueryClient","defaultOptions","queries","retry","staleTime","Infinity","mutations","ReactDOM","FallbackComponent","resetErrorBoundary","onReset","reload","client","document","getElementById","modalState","meta","modalReducer","filter","prefix"],"mappings":"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","file":"static/js/main.107bb3b9.chunk.js","sourcesContent":["export * from \"./apiClient\"\r\nexport * from \"./authClient\"\r\nexport * from \"./Page\"\r\nexport * from \"./PaginatedResponse\"\r\n\r\nexport * from \"./UnidadesTerritorialesService\"\r\nexport * from \"./RegionalesService\"","\r\n//@ts-ignore\r\nimport { stripDiacritics } from 'react-bootstrap-typeahead/lib/utils'\r\n\r\nexport function isMatch(text: string, props: any) {\r\n  var searchStr = props.text;\r\n  var str = text;\r\n\r\n  if (!props.caseSensitive) {\r\n    searchStr = searchStr.toLowerCase();\r\n    str = str.toLowerCase();\r\n  }\r\n\r\n  if (props.ignoreDiacritics) {\r\n    searchStr = stripDiacritics(searchStr);\r\n    str = stripDiacritics(str);\r\n  }\r\n\r\n  return str.indexOf(searchStr) !== -1;\r\n}","export * from \"./latLngExpressionToString\"\r\nexport * from \"./isMatch\"\r\n\r\nexport function formatBytes(bytes: number, decimals = 2) {\r\n  if (bytes === 0) return '0 Bytes';\r\n\r\n  const k = 1024;\r\n  const dm = decimals < 0 ? 0 : decimals;\r\n  const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\r\n\r\n  const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n\r\n  return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + ' ' + sizes[i];\r\n}\r\n\r\n/**\r\n * @param {string} url\r\n */\r\nexport function removeTrailingSlashes(url: string) {\r\n  return url.replace(/\\/+$/, ''); //Removes one or more trailing slashes from URL\r\n}\r\n\r\nexport const toCamel = (s: string) => {\r\n  return s.replace(/([-_][a-z])/ig, ($1) => {\r\n    return $1.toUpperCase()\r\n      .replace('-', '')\r\n      .replace('_', '');\r\n  });\r\n}\r\n\r\nexport const toUnderscore = (key: string) => {\r\n  return key.replace( /([A-Z])/g, \"_$1\").toLowerCase();\r\n}\r\n\r\nconst isArray = function (a: any) {\r\n  return Array.isArray(a);\r\n};\r\n\r\nconst isObject = function (o: any) {\r\n  return o === Object(o) && !isArray(o) && typeof o !== 'function';\r\n}\r\n\r\nexport const keysTransform = (o: any, transform: (key: string)=>string) => {\r\n  if (isObject(o)) {\r\n    const n:any = {};\r\n\r\n    Object.keys(o)\r\n      .forEach((k) => {\r\n        n[transform(k)] = keysTransform(o[k], transform);\r\n      });\r\n\r\n    return n;\r\n  } else if (isArray(o)) {\r\n    return o.map((i: any) => {\r\n      return keysTransform(i, transform);\r\n    });\r\n  }\r\n\r\n  return o;\r\n}\r\n\r\nexport const keysToCamel = function (o: any) {\r\n  if (isObject(o)) {\r\n    const n:any = {};\r\n\r\n    Object.keys(o)\r\n      .forEach((k) => {\r\n        n[toCamel(k)] = keysToCamel(o[k]);\r\n      });\r\n\r\n    return n;\r\n  } else if (isArray(o)) {\r\n    return o.map((i: any) => {\r\n      return keysToCamel(i);\r\n    });\r\n  }\r\n\r\n  return o;\r\n}\r\n\r\nexport const keysToUnderscore = function (o: any) {\r\n  if (isObject(o)) {\r\n    const n:any = {};\r\n\r\n    Object.keys(o)\r\n      .forEach((k) => {\r\n        n[toUnderscore(k)] = keysToUnderscore(o[k]);\r\n      });\r\n\r\n    return n;\r\n  } else if (isArray(o)) {\r\n    return o.map((i: any) => {\r\n      return keysToUnderscore(i);\r\n    });\r\n  }\r\n\r\n  return o;\r\n}","import { Form, Button, Alert, Image, Spinner } from 'react-bootstrap'\r\nimport { useForm } from \"react-hook-form\"\r\nimport { useMutation } from \"react-query\"\r\nimport { useDispatch, useSelector } from \"react-redux\"\r\nimport { Redirect, useLocation } from \"react-router\"\r\nimport { yupResolver } from '@hookform/resolvers/yup'\r\nimport * as yup from \"yup\"\r\nimport { getIsAuthenticated } from \"../selectors/inputSelectors\"\r\nimport { AuthService } from \"../services/AuthService\"\r\nimport \"./auth.css\"\r\n\r\ntype Credentials = {\r\n  username: string,\r\n  password: string\r\n}\r\n\r\ntype Inputs = Credentials & {\r\n  remember_me: boolean\r\n}\r\n\r\nconst schema = yup.object().shape({\r\n  username: yup.string().required(),\r\n  password: yup.string().required()\r\n})\r\n\r\nexport const Login = () => {\r\n  const dispatch = useDispatch()\r\n  const {state} = useLocation<{from: string}>()\r\n  const isAuthenticated = useSelector(getIsAuthenticated)\r\n\r\n  const {handleSubmit, register, formState} = useForm<Inputs>({\r\n    resolver: yupResolver(schema),\r\n    defaultValues: {\r\n      username:\"\",\r\n      password: \"\",\r\n      remember_me: false\r\n    }\r\n  })\r\n\r\n  const login = useMutation(({username, password, remember_me}: Inputs)=>{\r\n    return AuthService.login(username, password, remember_me)\r\n  }, {\r\n    onSuccess: ({data}) => {\r\n      localStorage.setItem(\"user\", JSON.stringify(data))\r\n      dispatch({\r\n        type: \"SET_USER\",\r\n        payload: data\r\n      })\r\n    }\r\n  })\r\n\r\n  return isAuthenticated !== false ? \r\n    <Redirect to={state?.from || \"/\"} /> :\r\n    <div className=\"auth-wrapper bg-light\">\r\n      <div className=\"auth-inner shadow-sm\">\r\n        <Form onSubmit={handleSubmit((credentials)=>{\r\n            login.mutate(credentials)\r\n          })}\r\n        >\r\n          <div className=\"d-flex justify-content-center\"><Image src=\"/logo-lg.png\" /></div>\r\n          <h3 className=\"mb-2 text-center\" style={{ fontSize: \"1.25rem\" }}>Iniciar Sesión</h3>\r\n          {login.isError ? <Alert variant=\"danger\" >{(login.error as any)?.response?.message || (login.error as any)?.message}</Alert> :  null}\r\n          <Form.Group>\r\n            <Form.Label>Usuario</Form.Label>\r\n            <Form.Control\r\n              isInvalid={!!formState.errors.username}\r\n              {...register(\"username\")}\r\n            />\r\n            <Form.Control.Feedback type=\"invalid\" >{formState.errors.username?.message}</Form.Control.Feedback>\r\n          </Form.Group>\r\n          <Form.Group>\r\n            <Form.Label>Contraseña</Form.Label>\r\n            <Form.Control type=\"password\"\r\n              isInvalid={!!formState.errors.password}              \r\n              {...register(\"password\")}\r\n            />\r\n            <Form.Control.Feedback type=\"invalid\" >{formState.errors.password?.message}</Form.Control.Feedback>\r\n          </Form.Group>\r\n\r\n          <Form.Group>\r\n            <Form.Check\r\n              type={\"checkbox\"}\r\n              label=\"Recordar sesión\"\r\n              {...register(\"remember_me\")}\r\n            />\r\n          </Form.Group>\r\n\r\n          <Button type=\"submit\" className=\"btn btn-primary btn-block\">\r\n            {login.isLoading ? <Spinner size=\"sm\" animation=\"border\" /> : null}\r\n            <span className=\"align-middle ml-1\">Iniciar Sesión</span>\r\n          </Button>\r\n          {/* <p className=\"forgot-password text-right\">\r\n        ¿Olvidó su <a href=\"#\">contraseña?</a>\r\n      </p> */}\r\n        </Form>\r\n      </div>\r\n    </div>\r\n}\r\n\r\nexport default Login","import React from 'react'\r\nimport { Redirect, Route, RouteProps, useLocation } from 'react-router';\r\nimport { User, useLoggedUser } from '../hooks';\r\n\r\ntype Props = {\r\n  authorize?: (user: User, url: string) => boolean | undefined\r\n  children: React.ReactNode\r\n} & RouteProps\r\nexport const ProtectedRoute = ({ children, authorize, ...rest }: Props) => {\r\n  const { pathname: url, state } = useLocation<{\r\n    ignoreAuthorization?: boolean\r\n  }>()\r\n  const ignoreAuthorization = state?.ignoreAuthorization\r\n  const loggedUser = useLoggedUser()\r\n  \r\n  if(loggedUser === undefined) return null\r\n\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={({ location }) =>\r\n        loggedUser ? (\r\n          !authorize || authorize(loggedUser, url) || ignoreAuthorization ? children : <Redirect\r\n            to=\"/forbidden\"\r\n          />\r\n        ) : (\r\n          <Redirect\r\n            to={{\r\n              pathname: \"/login\",\r\n              state: { from: location }\r\n            }}\r\n          />\r\n        )\r\n      }\r\n    />\r\n  );\r\n}\r\n\r\nexport default ProtectedRoute","import { useMemo } from \"react\"\r\nimport { useSelector } from \"react-redux\"\r\nimport { getUser, getIsAuthenticated } from \"../selectors/inputSelectors\"\r\nimport { User as TUser } from \"../state\"\r\n\r\nexport const useLoggedUser = () => {\r\n  const user = useSelector(getUser) as TUser | null\r\n  const isAuthenticated = useSelector(getIsAuthenticated) as TUser | null\r\n\r\n  const loggedUser = useMemo(()=>{\r\n    if(isAuthenticated !== null){\r\n      return user && {\r\n        ...user,\r\n        can: function(permission: string | string[], allowSuperUser: boolean = true) {\r\n          if(typeof permission === \"string\") permission = [permission]\r\n          return permission.every(p => user?.allPermissions.some(up => up.name == p)) || (allowSuperUser && this.isSuperUser())\r\n        },\r\n        canAny: function(permission: string[], allowSuperUser: boolean = true) {\r\n          return permission.some(p => user?.allPermissions.some(up => up.name == p)) || (allowSuperUser && this.isSuperUser())\r\n        },\r\n        hasRole: (role: string) => {\r\n          return user?.roles.some(r=>r.name==role)\r\n        },\r\n        isSuperUser: function() {\r\n          return this.hasRole(\"super user\")\r\n        }\r\n      }\r\n    }\r\n  }, [user, isAuthenticated])\r\n\r\n  return loggedUser\r\n}\r\n\r\nexport type User = ReturnType<typeof useLoggedUser>","import apiClient from \"./apiClient\"\r\n\r\nexport type Regional = {\r\n  id: number,\r\n  nombre: string\r\n}\r\nexport const RegionalesService = {\r\n  obtener: () => {\r\n    return apiClient.get<Regional[]>(\"regionales\")\r\n  }\r\n}","import { authClient } from \"../../../commons/services\"\r\nimport { User } from \"../state\"\r\n\r\nexport const AuthService = {\r\n  login: async (username: string, password: string, remember_me: boolean) => {\r\n    await authClient.get(\"sanctum/csrf-cookie\")\r\n    return await authClient.post<User>(\"login\", {\r\n      username,\r\n      password,\r\n      remember_me\r\n    })\r\n  },\r\n  logout: () => {\r\n    return authClient.post(\"logout\")\r\n  }\r\n}","export const apiEndpoint = process.env.REACT_APP_API_ENDPOINT || \"/api/\"\r\nexport const authEndpoint = process.env.REACT_APP_AUTH_ENDPOINT || \"/\"","import React, {useEffect} from 'react'\r\nimport PDFObject from 'pdfobject'\r\n\r\nexport function PDFViewer({url, height=600}:{url: string, height?: number}) {\r\n    useEffect(()=>{\r\n      var options = {\r\n        fallbackLink: '<p>Este navegador no soporta la visualizacion de archivos PDF en linea, por favor descarga el archivo haciendo clic : <a href=\"[url]\">aquí</a></p>'\r\n      };\r\n     \r\n      PDFObject.embed(url, \"#pdfcontainer\", options);\r\n    }, [url])\r\n    return <div id=\"pdfcontainer\" style={{height}}></div>\r\n  }","import { Pagination as BSPagination } from \"react-bootstrap\"\r\n\r\ntype Props = {\r\n  // current: number,\r\n  // minimum: number,\r\n  // maximum: number,\r\n  // total: number,  \r\n  // onClickFirst: ()=>void,\r\n  // onClickLast: ()=>void,\r\n  // onClickPrev: ()=>void,\r\n  // onClickNext: ()=>void,\r\n  // onClickItem: (page: number)=>void\r\n  current: number\r\n  total: number\r\n  onChange(page: number): void\r\n}\r\nexport const Pagination = ({current, total, onChange}: Props)=>{\r\n  current = Math.min(current, total+1);\r\n  let ld = current - 1\r\n  let rd = total - current//Math.min(current, total)\r\n  ld= Math.min(2+2-Math.min(2,rd), ld)\r\n  rd = Math.min(2+2-Math.min(2,ld), rd)\r\n  const minimum = current - ld\r\n  const maximum=current + rd\r\n  const pageItems = []\r\n  if(maximum > 1 ) for(let i = minimum; i <= maximum; i++){\r\n    if(current == i)\r\n      pageItems.push(<BSPagination.Item key={i} active={true}>{i}</BSPagination.Item>)\r\n    else\r\n      pageItems.push(<BSPagination.Item key={i} onClick={()=>onChange(i)}>{i}</BSPagination.Item>)\r\n  }\r\n  \r\n  return <BSPagination>\r\n    {minimum > 1 ? <BSPagination.First\r\n      onClick={()=>onChange(1)}\r\n    /> : null}\r\n    {current > 1 ? <BSPagination.Prev \r\n      onClick={()=>onChange(current-1)}\r\n    /> : null}\r\n    \r\n    {pageItems}\r\n    \r\n    {current < total ? <BSPagination.Next\r\n      onClick={()=>onChange(current+1)}\r\n    /> : null}\r\n    {maximum < total ? <BSPagination.Last\r\n      onClick={()=>onChange(total)}\r\n    /> : null}\r\n      \r\n  </BSPagination>\r\n}\r\n\r\nexport default Pagination","import { useEffect, useState } from \"react\"\r\nimport { AxiosError } from \"axios\"\r\nimport { Alert, Modal as BSModal, Spinner } from \"react-bootstrap\"\r\nimport { useModal } from \"../reusable-modal\"\r\n\r\nexport const QueryProgressModal = ()=>{\r\n  //@ts-ignore\r\n  const modal = useModal(\"queryLoader\")\r\n\r\n  const renderModalHeader = ()=>{\r\n    if(modal.state == \"loading\"){\r\n      return \"Procesando\"\r\n    }\r\n    if(modal.state == \"error\"){\r\n      return \"Error\"\r\n    }\r\n    return null\r\n  }\r\n\r\n  const renderModalBody = ()=>{\r\n    if(modal.state == \"loading\"){\r\n      return <>\r\n        <Spinner variant=\"primary\" animation=\"border\" size=\"sm\"></Spinner>\r\n        <span className=\"ml-2 align-middle\">Espere un momento</span>\r\n      </>\r\n    }\r\n    if(modal.state == \"error\"){\r\n      return <Alert variant=\"danger\">\r\n        {errorMessage()}\r\n      </Alert>\r\n    }\r\n    return null\r\n  }\r\n  \r\n  const errorMessage = () =>{\r\n    const status = modal.error?.response?.status\r\n    switch(status){\r\n      case 403: return \"No tiene los permisos para realizar esta accion\"\r\n      default: return modal.error?.response?.data?.message || \"Ocurrio un error mientras se procesaba su solicitud\"\r\n    }\r\n  }\r\n\r\n  return <BSModal centered show={modal.show} onHide={()=>{\r\n    if(modal.state !== \"loading\") modal.close()\r\n  }}>\r\n    <BSModal.Header>\r\n      {renderModalHeader()}\r\n    </BSModal.Header>\r\n    <BSModal.Body>\r\n      {renderModalBody()}\r\n    </BSModal.Body>\r\n  </BSModal>\r\n}","import React, { ForwardedRef } from \"react\"\r\nimport { Button, ButtonProps } from \"react-bootstrap\";\r\nimport { FaEllipsisV } from \"react-icons/fa\";\r\n\r\nexport const VerticalEllipsisDropdownToggle = React.forwardRef<ForwardedRef<HTMLButtonElement>, ButtonProps>(({children, className, ...props}, ref) => (\r\n  <Button\r\n    className=\"py-0 px-1\"\r\n    {...props}\r\n    ref={ref}\r\n  >\r\n    <FaEllipsisV />\r\n  </Button>\r\n));\r\n\r\nexport default VerticalEllipsisDropdownToggle","import { useEffect, useState } from \"react\"\r\nimport { AxiosError } from \"axios\"\r\nimport { Alert, Modal as BSModal, Spinner } from \"react-bootstrap\"\r\nimport { useModal } from \"../reusable-modal\"\r\nimport { PDFViewer } from \"./PDFViewer\"\r\n\r\nexport const modalKey = \"pdfModal\"\r\n\r\nexport const PdfModal = ()=>{\r\n  //@ts-ignore\r\n  const modal = useModal(modalKey)\r\n\r\n  const renderModalHeader = ()=>{\r\n    return modal.title\r\n  }\r\n\r\n  const renderModalBody = ()=>{\r\n    return modal.url ? <PDFViewer url={modal.url} /> : null\r\n  }\r\n\r\n  return <BSModal centered show={modal.show} size=\"lg\" onHide={()=>{\r\n    modal.close()\r\n  }}>\r\n    <BSModal.Header>\r\n      {renderModalHeader()}\r\n    </BSModal.Header>\r\n    <BSModal.Body className=\"p-0\">\r\n      {renderModalBody()}\r\n    </BSModal.Body>\r\n  </BSModal>\r\n}","\r\nimport { useEffect, useMemo } from \"react\"\r\nimport { Button, Form, InputGroup } from \"react-bootstrap\"\r\nimport { Typeahead, TypeaheadProps } from 'react-bootstrap-typeahead'\r\nimport { FaSync } from 'react-icons/fa'\r\nimport { useQuery } from 'react-query'\r\nimport { Regional, RegionalesService } from \"../services/RegionalesService\";\r\nimport { isMatch } from \"../utils\";\r\nimport 'react-bootstrap-typeahead/css/Typeahead.css';\r\n\r\nexport type { Regional }\r\n\r\nexport const RegionalesTypeahead = ({isInvalid, feedback, filterBy, ...props}: {feedback?: string, onLoad?: (options: Regional[])=>void} & Omit<TypeaheadProps<Regional>, \"isLoading\" | \"options\" >) => {\r\n  const queryKey = \"regionales.buscar\"\r\n\r\n  const buscar = useQuery(queryKey, ()=>{\r\n    return RegionalesService.obtener()\r\n  }, {\r\n    refetchOnMount: false,\r\n    refetchOnReconnect: false,\r\n    refetchOnWindowFocus: false\r\n  })\r\n\r\n  useEffect(()=>{\r\n    if(buscar.data){\r\n      props.onLoad && props.onLoad(buscar.data?.data)\r\n    }\r\n  }, [buscar.data, props.onLoad])\r\n\r\n  const options = useMemo(()=>{\r\n    if(Array.isArray(buscar.data?.data)){\r\n        return buscar.data?.data!\r\n    }\r\n    else if(buscar.data?.data){\r\n        console.error(buscar.data?.data)\r\n    }\r\n    return []\r\n  }, [buscar.data?.data])\r\n\r\n  return <InputGroup hasValidation className=\"position-unset\" >\r\n    <Typeahead\r\n      clearButton\r\n      emptyLabel=\"No se encontraron resultados\"\r\n      align=\"left\"\r\n      {...props}\r\n      className={`position-unset${(buscar.isError || isInvalid) ? \" is-invalid\" : \"\"}`} \r\n      isInvalid={buscar.isError || isInvalid}\r\n      filterBy={(regional, props)=>{\r\n        return (!props.text || isMatch(regional.nombre, props)) \r\n          && (!filterBy || (typeof filterBy === \"function\" && filterBy(regional, props)))\r\n      }}\r\n      isLoading={buscar.isFetching}\r\n      //@ts-ignore\r\n      options={options}\r\n      labelKey=\"nombre\"\r\n    />\r\n\r\n    {buscar.isError ? <InputGroup.Append>\r\n      <Button variant=\"outline-danger\" onClick={()=>buscar.refetch()}><FaSync /></Button>\r\n    </InputGroup.Append> : null}\r\n    <Form.Control.Feedback type=\"invalid\">{(buscar.error as any)?.response?.message || (buscar.error as any)?.message ||feedback}</Form.Control.Feedback>\r\n  </InputGroup>\r\n}","import { PropsWithChildren } from \"react\"\r\n// import { Permisos } from \"../constants\"\r\nimport { User, useLoggedUser } from \"../hooks\"\r\n\r\n// type Values<T> = T[keyof T] \r\n\r\ntype Props = {\r\n  authorize: (user: User) => boolean | undefined\r\n}\r\n\r\nexport const ProtectedContent = ({\r\n  authorize,\r\n  children\r\n}: PropsWithChildren<Props>) => {\r\n  const loggedUser = useLoggedUser()\r\n\r\n  const authorized = authorize(loggedUser)\r\n  if(authorized || authorized === undefined && loggedUser?.isSuperUser()) return <>{children}</>\r\n\r\n\r\n  return null\r\n}","import axios, { AxiosResponseTransformer }  from 'axios'\r\nimport {authEndpoint} from '../../configs/app'\r\nimport Qs from 'qs'\r\nimport { keysToCamel } from '../utils'\r\n\r\nexport const authClient = axios.create({\r\n  \"baseURL\": authEndpoint,\r\n  \"timeout\": 30000,\r\n  transformResponse: [\r\n    ...axios.defaults.transformResponse as AxiosResponseTransformer[],\r\n    (data)=>{\r\n      const result = keysToCamel(data)\r\n      // console.log(\"TransformedResponse\", result)\r\n      return result\r\n    }\r\n  ]\r\n})\r\n\r\nauthClient.defaults.withCredentials = true\r\n\r\nauthClient.interceptors.request.use(config => {\r\n  if(!config.headers){\r\n    config.headers = {}\r\n  }\r\n  config.headers.Accept = \"application/json\"\r\n  config.paramsSerializer = params => {\r\n    // Qs is not included in the Axios package\r\n    return Qs.stringify(params, {\r\n      arrayFormat: \"brackets\",\r\n      encode: false\r\n    });\r\n  };\r\n  return config;\r\n});\r\n\r\nexport default authClient","import apiClient from \"./apiClient\"\r\n\r\nexport type Departamento = {\r\n  id: number,\r\n  nombre: string,\r\n  abreviatura: string\r\n}\r\n\r\nexport type Provincia = {\r\n  id: number,\r\n  nombre: string\r\n  departamentoId: number\r\n}\r\n\r\nexport type Municipio = {\r\n  id: number,\r\n  nombre: string\r\n  provinciaId: number\r\n}\r\n\r\nexport const UnidadesTerritorialesService = {\r\n  getDepartamentos: ()=>{\r\n    return apiClient.get<Departamento[]>(\"departamentos\")\r\n  },\r\n  getProvincias: () => {\r\n    return apiClient.get<Provincia[]>(\"provincias\")\r\n  },\r\n  getMunicipios: () => {\r\n    return apiClient.get<Municipio[]>(\"municipios\")\r\n  }\r\n}","import { takeLatest } from \"@redux-saga/core/effects\"\r\n\r\nconst UNAUTHORIZED = \"UNAUTHORIZED\"\r\n\r\nexport function unauthorized(){\r\n  return {\r\n    type: UNAUTHORIZED\r\n  }\r\n}\r\n\r\nfunction* handleUnauthorized(action: ReturnType<typeof unauthorized>){\r\n  localStorage.removeItem(\"user\")\r\n}\r\n\r\nexport function* watchUnauthorized(){\r\n  yield takeLatest(UNAUTHORIZED, handleUnauthorized)\r\n}","import { useCallback } from \"react\"\r\nimport { Button, Navbar } from \"react-bootstrap\"\r\nimport { FaBars } from \"react-icons/fa\"\r\nimport { useRouteMatch } from \"react-router-dom\"\r\nimport { useSelector, useDispatch } from \"react-redux\"\r\n\r\nexport const ToggleSidebar = ()=>{\r\n  const match = useRouteMatch([\"/\", \"/login\", \"/forbbiden\"])\r\n  const dispatch = useDispatch()\r\n\r\n  const toggleSidebar = useCallback(() => {\r\n    dispatch({\r\n      type:\"TOGGLE_SIDEBAR\"\r\n    })\r\n  }, [])\r\n\r\n  if(match!.isExact) return null\r\n  return <Navbar.Toggle as={Button} style={{display: \"initial\"}} onClick={toggleSidebar} ><FaBars /></Navbar.Toggle>\r\n}","import { NavLink, NavLinkProps } from \"react-router-dom\"\r\n\r\ntype Props = NavLinkProps\r\n\r\nexport const MenuItem = ({className, ...props}: Props)=>{\r\n  return <NavLink className={className ? className + \" nav-link\" : \"nav-link\"} {...props}/>\r\n}","import { Col, Row } from \"react-bootstrap\"\r\nimport { FaUserCircle, FaClinicMedical, FaCalendar } from \"react-icons/fa\"\r\nimport { MenuItem } from \"./MenuItem\"\r\n\r\nexport const Home = () => {\r\n  return <div>\r\n    <div className=\"pt-5 d-flex justify-content-center\">\r\n      <img src=\"/logo.png\" width={240} />\r\n    </div>\r\n    <div className=\"text-center mt-3 py-2 px-3 bg-primary\">\r\n      <h1 className=\"text-light\" style={{fontSize: \"1.5rem\"}}>Aplicaciones</h1>\r\n      <Row>\r\n        <Col>\r\n          <div className=\"d-flex justify-content-center\">\r\n            <MenuItem to=\"/iam\" className=\"text-center text-light\">\r\n              <FaUserCircle size={96} />\r\n              <span className=\"d-block my-2\">IAM</span>\r\n            </MenuItem>\r\n          </div>\r\n        </Col>\r\n        <Col>\r\n          <div className=\"d-flex justify-content-center\">\r\n            <MenuItem to=\"/clinica\" className=\"text-center text-light\">\r\n              <FaClinicMedical size={96}/>\r\n              <span className=\"d-block my-2\">Clinica</span>\r\n            </MenuItem>\r\n          </div>\r\n        </Col>\r\n        {/* <Col>\r\n          <div className=\"d-flex justify-content-center\">\r\n            <MenuItem to=\"/seguimiento\" className=\"text-center text-light\">\r\n              <FaCalendar size={96}/>\r\n              <span className=\"d-block my-2\">Seguimiento</span>\r\n            </MenuItem>\r\n          </div>\r\n        </Col> */}\r\n      </Row>\r\n    </div>\r\n  </div>\r\n}","import * as yup from 'yup'\r\nimport { yup as yupMessages } from './messages.json'\r\nimport moment from 'moment'\r\n\r\nyup.setLocale(yupMessages)\r\n\r\nyup.addMethod(yup.mixed, 'emptyStringToNull', function () {\r\n  return this.transform(function (value, originalValue) {\r\n    if (this.isType(value)) return value;\r\n\r\n    return originalValue === \"\" ? null : value;\r\n  });\r\n});\r\n\r\nyup.addMethod(yup.mixed, 'emptyStringTo', function (val) {\r\n  return this.transform(function (value, originalValue) {\r\n    if (this.isType(value)) return value;\r\n\r\n    return originalValue === \"\" ? val : value;\r\n  });\r\n});\r\n\r\nyup.addMethod(yup.date, 'format', function(format=\"L\"){\r\n  return this.transform((value, originalValue, context) => {\r\n    // check to see if the previous transform already parsed the date\r\n    if (context.isType(value)) return value;\r\n\r\n    // the default coercion failed so let's try it with Moment.js instead\r\n    value = moment(originalValue, format);\r\n\r\n    // if it's valid return the date object, otherwise return an `InvalidDate`\r\n    return value.isValid() ? value.toDate() : value;\r\n  });\r\n})","import React, { useEffect, Suspense } from 'react';\r\nimport { Button, Col, Image, Navbar, Nav, NavDropdown, Popover, OverlayTrigger, Row } from 'react-bootstrap'\r\nimport {\r\n  Switch,\r\n  Route,\r\n  Link,\r\n} from \"react-router-dom\"\r\nimport { MdApps } from 'react-icons/md'\r\nimport { FaBell, FaUserCircle, FaBars, FaClinicMedical, FaCalendar } from 'react-icons/fa'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { useQueryClient } from 'react-query'\r\nimport { QueryProgressModal, PdfModal } from \"../../commons/components\"\r\nimport { useNavTitle } from \"../../commons/hooks\"\r\nimport { useModal } from \"../../commons/reusable-modal\"\r\nimport {Login, ProtectedRoute} from \"../../commons/auth/components\"\r\nimport { getUser } from \"../../commons/auth/selectors/inputSelectors\"\r\nimport { AuthService } from '../../commons/auth/services';\r\nimport { apiClient } from '../../commons/services';\r\nimport { unauthorized } from '../../commons/auth/actions';\r\nimport { ToggleSidebar } from './ToggleSidebar'\r\nimport { Home } from './Home'\r\nimport \"../../configs/yup\"\r\nimport './App.css'\r\n\r\nconst IamApp = React.lazy(()=>import(\"../../apps/iam/IamApp\"))\r\nconst ClinicaApp = React.lazy(()=>import(\"../../apps/clinica/ClinicaApp\"))\r\n\r\nexport default ()=>{\r\n  const dispatch = useDispatch()\r\n  const user = useSelector(getUser)\r\n\r\n  const modal = useModal(\"queryLoader\")\r\n\r\n  const queryClient = useQueryClient()\r\n\r\n  const navTitle = useNavTitle()\r\n\r\n  useEffect(()=>{\r\n    apiClient.interceptors.response.use(\r\n      response=>response,\r\n      error => {\r\n        if(error.response?.status == 401 || error.response?.status == 419){\r\n          dispatch(unauthorized())\r\n        }\r\n        return Promise.reject(error);\r\n      }\r\n    )\r\n\r\n    const jsonUser = localStorage.getItem(\"user\")\r\n    dispatch({\r\n      type: \"SET_USER\",\r\n      payload: jsonUser ? JSON.parse(jsonUser) : null\r\n    })\r\n    // apiClient.get('/user')\r\n  }, [])\r\n\r\n  return <>\r\n    <Navbar className=\"shadow-sm border-bottom\" bg=\"primary\" variant=\"dark\" style={{zIndex: 1}}>\r\n      <ToggleSidebar />\r\n      <Navbar.Brand className=\"overflow-hidden text-truncate\" as={Link} to=\"/\" >\r\n        <Image className=\"mx-1\" width={32} src=\"/logo-sm.png\" />\r\n        {navTitle}\r\n      </Navbar.Brand>\r\n      <Nav className=\"ml-auto\">\r\n        <OverlayTrigger\r\n          trigger=\"click\"\r\n          rootClose\r\n          placement=\"bottom\"\r\n          overlay={\r\n            <Popover id=\"apps\" style={{maxWidth: \"none\"}}>\r\n              <Popover.Title className=\"text-center\" as=\"h3\">Aplicaciones</Popover.Title>\r\n              <Popover.Content>\r\n                <Row>\r\n                  <Col className=\"text-center\"><Link to=\"/iam\"><FaUserCircle className=\"d-block mx-auto\" size={48} /><span >IAM</span></Link></Col>\r\n                  <Col className=\"text-center\"><Link to=\"/clinica\" ><FaClinicMedical className=\"d-block mx-auto\"  size={48} /><span>Clínica</span></Link></Col>\r\n                  {/* <Col className=\"text-center\"><Link to=\"/seguimiento\" ><FaCalendar className=\"d-block mx-auto\"  size={48} /><span>Planes</span></Link></Col> */}\r\n               </Row>\r\n              </Popover.Content>\r\n            </Popover>\r\n          }\r\n        >\r\n          <Nav.Link><MdApps size=\"1.5em\" /></Nav.Link>\r\n        </OverlayTrigger>\r\n        {/* {user ? <OverlayTrigger\r\n          trigger=\"click\"\r\n          rootClose\r\n          placement=\"bottom\"\r\n          overlay={\r\n            <Popover id=\"apps\">\r\n              <Popover.Title className=\"text-center\" as=\"h3\">Notificaciones</Popover.Title>\r\n              <Popover.Content>\r\n                \r\n              </Popover.Content>\r\n            </Popover>\r\n          }\r\n        >\r\n          <Nav.Link style={{whiteSpace: \"nowrap\"}}>\r\n            <FaBell />\r\n            <div className=\"pulse bg-danger\" style={{\r\n              left: \"0.65rem\",\r\n              top: \"-1.35rem\",\r\n              width: \"0.5rem\",\r\n              height: \"0.5rem\",\r\n              borderRadius: \"50%\"\r\n            }}></div>\r\n          </Nav.Link>\r\n        </OverlayTrigger> : null} */}\r\n        {user ? <NavDropdown \r\n          menuAlign=\"right\"\r\n          title={<>\r\n            <FaUserCircle />\r\n            <span className=\"d-none d-sm-inline ml-1\">{user.username}</span>\r\n          </>} id=\"collasible-nav-dropdown\">\r\n          {/* <NavDropdown.Item href=\"#action/3.2\">Cuenta</NavDropdown.Item>\r\n          <NavDropdown.Item href=\"#action/3.3\">Configuracion</NavDropdown.Item> */}\r\n          <NavDropdown.Item as={Link} to={`/iam/usuarios/cambiar-contrasena`}>Cambiar contraseña</NavDropdown.Item>\r\n          <NavDropdown.Divider />\r\n          <NavDropdown.Item as={Button} className=\"btn-link\" onClick={()=>{\r\n            modal.open({\r\n              state: \"loading\"\r\n            })\r\n            AuthService.logout().then(()=>{\r\n              localStorage.removeItem(\"user\")\r\n              queryClient.clear()\r\n              dispatch(unauthorized())\r\n              modal.close()\r\n            }).catch((error)=>modal.open({\r\n              state: \"error\",\r\n              error\r\n            }))\r\n          }} >Cerrar sesión</NavDropdown.Item>\r\n        </NavDropdown> : <Nav.Link as={Link} className=\"text-nowrap\" to=\"/login\">Iniciar sesión</Nav.Link>}\r\n      </Nav>\r\n    </Navbar>\r\n\r\n    <QueryProgressModal />\r\n    <PdfModal />\r\n    <Suspense fallback={<div>Cargando...</div>}>\r\n      <Switch>\r\n        <ProtectedRoute path=\"/iam\">\r\n          <IamApp />\r\n        </ProtectedRoute>\r\n        <ProtectedRoute path=\"/clinica\">\r\n          <ClinicaApp />\r\n        </ProtectedRoute>\r\n        <Route exact path=\"/login\">\r\n          <Login></Login>\r\n        </Route>        \r\n        <Route path=\"/\">\r\n          <Home />\r\n        </Route>\r\n      </Switch>\r\n    </Suspense>\r\n  </>\r\n};\r\n","import { useRouteMatch } from \"react-router-dom\"\r\n\r\nexport const useNavTitle = () => {\r\n  const iam = '/iam'\r\n  const clinica = '/clinica'\r\n  const seguimiento = '/seguimiento'\r\n  const match = useRouteMatch([\r\n    iam,\r\n    clinica,\r\n    seguimiento\r\n  ])\r\n\r\n  switch(match?.path){\r\n    case iam: return 'IAM'\r\n    case clinica: return 'Transferencias'\r\n    case seguimiento: return 'Plan de seguimiento'\r\n    default: return 'Caja de salud de caminos y R.A.'\r\n  }\r\n}","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import { combineReducers } from 'redux'\r\nimport user from './user'\r\nimport isAuthenticated from './isAuthenticated'\r\n\r\nexport const AuthModuleReducer = combineReducers({\r\n  user,\r\n  isAuthenticated\r\n})\r\n\r\nexport type AuthModuleState = ReturnType<typeof AuthModuleReducer>\r\n\r\nexport default AuthModuleReducer","import { User } from \"../state\"\r\n\r\nexport default (state: User|null=null, action: any): User|null => {\r\n  const {type, payload, error} = action\r\n  switch(type){\r\n    case \"SET_USER\":\r\n      return error ? state : payload\r\n    case \"UNAUTHORIZED\":\r\n      return null\r\n    default:\r\n      return state\r\n  }\r\n}","export default (state: boolean|null=null, action: any): boolean|null => {\r\n  const {type, payload, error} = action\r\n  switch(type){\r\n    case \"SET_USER\":\r\n      return !!payload\r\n    case \"UNAUTHORIZED\":\r\n      return false\r\n    default:\r\n      return state\r\n  }\r\n}","\r\nexport function sidebarVisibility(state=true, action: any){\r\n  if(action.type == \"TOGGLE_SIDEBAR\"){\r\n    return !state\r\n  }\r\n  if(action.type == \"CLOSE_SIDEBAR\"){\r\n    return false\r\n  }\r\n  return state\r\n}","import { all } from \"@redux-saga/core/effects\";\r\nimport createSagaMiddleware from \"redux-saga\"\r\nimport { combineReducers, createStore, applyMiddleware, compose } from \"redux\";\r\nimport { watchUnauthorized } from \"../../commons/auth/actions\";\r\nimport auth from \"../../commons/auth/reducers\";\r\nimport { createModalReducer } from \"../../commons/reusable-modal\"\r\nimport { sidebarVisibility } from \"../../commons/components/layouts/reducer\";\r\n\r\nfunction* rootSaga() {\r\n  yield all([\r\n    watchUnauthorized()\r\n  ])\r\n}\r\n\r\n//@ts-ignore\r\nconst composeWithDevTools = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\r\nexport const configureStore = () => {\r\n  const rootReducer = combineReducers({\r\n    modals: combineReducers({\r\n      queryLoader: createModalReducer(\"queryLoader\"),\r\n      dm11Viewer: createModalReducer(\"dm11Viewer\"),\r\n      pdfModal: createModalReducer(\"pdfModal\")\r\n    }),\r\n    sidebarVisibility,\r\n    auth\r\n  })\r\n\r\n  // create the saga middleware\r\n  const sagaMiddleware = createSagaMiddleware()\r\n  // mount it on the Store\r\n  const store = createStore(\r\n    rootReducer,\r\n    composeWithDevTools(\r\n      applyMiddleware(sagaMiddleware)\r\n    )\r\n  )\r\n\r\n  // then run the saga\r\n  sagaMiddleware.run(rootSaga)\r\n\r\n  return store\r\n}\r\n\r\n\r\nexport default configureStore","import 'core-js/es/map';\r\nimport 'core-js/es/set';\r\nimport 'core-js/es/string';\r\nimport 'core-js/es/object';\r\nimport 'core-js/es/promise';\r\nimport ReactDOM from 'react-dom';\r\nimport { ErrorBoundary, FallbackProps } from 'react-error-boundary'\r\nimport { Alert, Button } from 'react-bootstrap'\r\nimport App from \"./bootstrap/components/App\"\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { QueryClient, QueryClientProvider } from 'react-query';\r\nimport { BrowserRouter as Router } from 'react-router-dom'\r\nimport { Provider } from 'react-redux';\r\nimport configureStore from './bootstrap/store';\r\nimport './bootstrap/components/custom.scss';\r\nimport './index.css';\r\nimport moment from 'moment'\r\nimport 'moment/locale/es'\r\n\r\nmoment.locale('es')\r\n\r\n// if (process.env.NODE_ENV === 'development') {\r\n//   const { worker } = require('./__mocks__/browser')\r\n//   worker.start()\r\n// }\r\n\r\nconst queryClient = new QueryClient({\r\n  defaultOptions: {\r\n    queries: { retry: 0, staleTime: Infinity },\r\n    mutations: { retry: 0 }\r\n  }\r\n})\r\n\r\nconst ErrorFallback = ({error, resetErrorBoundary}: FallbackProps) => {\r\n  return (\r\n    <Alert>\r\n      <p>Algo salió mal:</p>\r\n      <pre>{error.message}</pre>\r\n      <Button onClick={resetErrorBoundary}>Intentar de nuevo</Button>\r\n    </Alert>\r\n  )\r\n}\r\n\r\nReactDOM.render(\r\n  <ErrorBoundary\r\n    FallbackComponent={ErrorFallback}\r\n    onReset={()=>{\r\n        window.location.reload()\r\n    }}\r\n  >\r\n    <Router>\r\n      <QueryClientProvider client={queryClient}>\r\n        <Provider store={configureStore()}>\r\n          <App />\r\n        </Provider>\r\n      </QueryClientProvider>\r\n    </Router>\r\n  </ErrorBoundary>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n","import { useDispatch, useSelector } from \"react-redux\"\r\n\r\nexport const useModal = <Props = {[k: string]: any}>(key: string = \"modal\") => {\r\n  const modalState = useSelector<{\r\n    modals: {[k: string]: {\r\n      show: boolean\r\n    }}\r\n  }>(state=>state.modals[key]) as {\r\n    show: boolean\r\n  } & Props\r\n\r\n  const dispatch = useDispatch()\r\n\r\n  return {\r\n    ...modalState,\r\n    open: (payload: Props)=>{\r\n      dispatch({\r\n        type: \"OPEN_MODAL\",\r\n        payload,\r\n        meta: { key }\r\n      })\r\n    },\r\n    close: () => {\r\n      dispatch({\r\n        type: \"CLOSE_MODAL\",\r\n        meta: { key }\r\n      })\r\n    }\r\n  }\r\n}","type State = {\r\n  show: boolean\r\n  [key: string]: any\r\n}\r\n\r\nconst modalReducer = (state: State, action: any): State =>{\r\n  const { type, payload } = action\r\n  switch(type) {\r\n    case \"OPEN_MODAL\":\r\n      return {\r\n        show: true,\r\n        ...payload\r\n      }\r\n    case \"CLOSE_MODAL\":\r\n      return {show: false}\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const createModalReducer = (key: string) => {\r\n  return (state: State = {show: false}, action: any) => {\r\n    const { meta } = action\r\n    return meta?.key === key ? modalReducer(state, action) : state\r\n  }\r\n}","import axios, { AxiosResponseTransformer } from 'axios'\r\nimport {apiEndpoint} from '../../configs/app'\r\nimport Qs from 'qs'\r\nimport { keysToCamel } from '../utils'\r\n\r\nexport const apiClient = axios.create({\r\n  \"baseURL\": apiEndpoint,\r\n  \"timeout\": 30000,\r\n  \"headers\": {\r\n    \"Accept\": \"application/json\"\r\n  },\r\n  transformResponse: [\r\n    ...axios.defaults.transformResponse as AxiosResponseTransformer[],\r\n    (data)=>{\r\n      const result = keysToCamel(data)\r\n      // console.log(\"TransformedResponse\", result)\r\n      return result\r\n    }\r\n  ]\r\n})\r\n\r\napiClient.defaults.withCredentials = true\r\n\r\napiClient.interceptors.request.use(config => {\r\n  if(!config.headers){\r\n    config.headers = {}\r\n  }\r\n  config.headers.Accept = \"application/json\"\r\n  config.paramsSerializer = params => {\r\n    // Qs is not included in the Axios package\r\n    return Qs.stringify(params, {\r\n      arrayFormat: \"brackets\",\r\n      encode: false,\r\n      filter: (prefix, value)=>{\r\n        if(typeof value === \"boolean\"){\r\n          return value ? 1 : 0\r\n        }\r\n        return value\r\n      }\r\n    });\r\n  };\r\n  // console.log(\"Axios config\", config)\r\n  return config;\r\n});\r\n\r\nexport default apiClient","export const getUser = (state:any)=>state.auth.user\r\nexport const getIsAuthenticated = (state:any)=>state.auth.isAuthenticated"],"sourceRoot":""}