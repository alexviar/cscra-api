{"version":3,"sources":["commons/auth/constants/Permisos.ts","commons/auth/index.ts","commons/click-outside-handler/useOnClickOutside.ts","commons/click-outside-handler/ClickOutsideHandler.tsx","commons/components/layouts/Sidebar.tsx","commons/components/layouts/SidebarLayout.tsx","apps/clinica/mora/services/EmpleadorService.ts","apps/clinica/mora/services/ListaMoraService.ts","apps/clinica/mora/components/ListaMoraFilterForm.tsx","apps/clinica/mora/policies/index.ts","apps/clinica/mora/components/RowOptions.tsx","apps/clinica/mora/components/ListaMoraIndex.tsx","apps/clinica/mora/components/ListaMoraItemForm.tsx","commons/components/icons/FcDebt.tsx","apps/clinica/solicitud_atencion_externa/services/SolicitudesAtencionExternaService.ts","apps/clinica/solicitud_atencion_externa/components/SolicitudAtencionExternaFilterForm.tsx","apps/clinica/solicitud_atencion_externa/components/RowOptions.tsx","apps/clinica/solicitud_atencion_externa/policies/index.ts","apps/clinica/solicitud_atencion_externa/components/SolicitudAtencionExternaIndex.tsx","apps/clinica/solicitud_atencion_externa/components/AseguradoChooser.tsx","apps/clinica/solicitud_atencion_externa/services/AseguradosService.ts","apps/clinica/solicitud_atencion_externa/components/AseguradoCard.tsx","apps/clinica/solicitud_atencion_externa/components/PrestacionesSolicitadasCard.tsx","apps/clinica/solicitud_atencion_externa/utils/EstadosAfi.ts","apps/clinica/solicitud_atencion_externa/utils/EstadosEmp.ts","apps/clinica/solicitud_atencion_externa/components/SolicitudAtencionExternaForm.tsx","apps/clinica/ClinicaApp.tsx"],"names":["VER_SOLICITUDES_DE_ATENCION_EXTERNA","VER_SOLICITUDES_DE_ATENCION_EXTERNA_MISMA_REGIONAL","VER_SOLICITUDES_DE_ATENCION_EXTERNA_REGISTRADO_POR","REGISTRAR_SOLICITUDES_DE_ATENCION_EXTERNA","REGISTRAR_SOLICITUDES_DE_ATENCION_EXTERNA_MISMA_REGIONAL","EMITIR_SOLICITUDES_DE_ATENCION_EXTERNA","EMITIR_SOLICITUDES_DE_ATENCION_EXTERNA_MISMA_REGIONAL","EMITIR_SOLICITUDES_DE_ATENCION_EXTERNA_REGISTRADO_POR","VER_USUARIOS","VER_USUARIOS_DE_LA_MISMA_REGIONAL_QUE_EL_USUARIO","REGISTRAR_USUARIOS","REGISTRAR_USUARIOS_DE_LA_MISMA_REGIONAL_QUE_EL_USUARIO","EDITAR_USUARIOS","EDITAR_USUARIOS_DE_LA_MISMA_REGIONAL_QUE_EL_USUARIO","BLOQUEAR_USUARIOS","BLOQUEAR_USUARIOS_DE_LA_MISMA_REGIONAL_QUE_EL_USUARIO","DESBLOQUEAR_USUARIOS","DESBLOQUEAR_USUARIOS_DE_LA_MISMA_REGIONAL_QUE_EL_USUARIO","CAMBIAR_CONTRASEÑA","CAMBIAR_CONTRASEÑA_DE_LA_MISMA_REGIONAL_QUE_EL_USUARIO","VER_ROLES","REGISTRAR_ROLES","EDITAR_ROLES","ELIMINAR_ROLES","VER_LISTA_DE_MORA","VER_LISTA_DE_MORA_REGIONAL","AGREGAR_EMPLEADOR_EN_MORA","AGREGAR_EMPLEADOR_EN_MORA_DE_LA_MISMA_REGIONAL","QUITAR_EMPLEADOR_EN_MORA","QUITAR_EMPLEADOR_EN_MORA_DE_LA_MISMA_REGIONAL","VER_MEDICOS","VER_MEDICOS_REGIONAL","REGISTRAR_MEDICOS","REGISTRAR_MEDICOS_REGIONAL","EDITAR_MEDICOS","EDITAR_MEDICOS_REGIONAL","BAJA_MEDICOS","BAJA_MEDICOS_REGIONAL","VER_PROVEEDORES","VER_PROVEEDORES_REGIONAL","REGISTRAR_PROVEEDORES","REGISTRAR_PROVEEDORES_REGIONAL","EDITAR_PROVEEDORES","EDITAR_PROVEEDORES_REGIONAL","BAJA_PROVEEDOR","BAJA_PROVEEDOR_REGIONAL","VER_CONTRATOS_PROVEEDOR","VER_CONTRATOS_PROVEEDOR_REGIONAL","REGISTRAR_CONTRATOS_PROVEEDOR","REGISTRAR_CONTRATOS_PROVEEDOR_REGIONAL","CONSUMIR_CONTRATOS_PROVEEDOR","CONSUMIR_CONTRATOS_PROVEEDOR_REGIONAL","EXTENDER_CONTRATOS_PROVEEDOR","EXTENDER_CONTRATOS_PROVEEDOR_REGIONAL","ANULAR_CONTRATOS_PROVEEDOR","ANULAR_CONTRATOS_PROVEEDOR_REGIONAL","VER_ESPECIALIDADES","REGISTRAR_ESPECIALIDADES","EDITAR_ESPECIALIDADES","ELIMINAR_ESPECIALIDADES","IMPORTAR_ESPECIALIDADES","VER_PRESTACIONES","REGISTRAR_PRESTACIONES","EDITAR_PRESTACIONES","ELIMINAR_PRESTACIONES","IMPORTAR_PRESTACIONES","useOnClickOutside","ref","handler","useEffect","listener","event","el","current","contains","target","document","querySelector","addEventListener","removeEventListener","ClickOutsideHandler","children","onClickOutside","props","containerRef","useRef","SidebarItem","item","match","useRouteMatch","path","ListGroup","Item","as","Link","to","action","active","className","style","padding","icon","verticalAlign","marginLeft","title","id","items","map","subitem","paddingLeft","Sidebar","side","header","renderItem","left","right","variant","SidebarLayout","sidebar","showSidebar","useSelector","state","sidebarVisibility","dispatch","useDispatch","onClickOutsideHandler","React","useCallback","toggle","type","Container","EmpleadorService","numeroPatronal","apiClient","get","params","numero_patronal","ListaMoraService","filter","page","keysToUnderscore","idEmpleador","post","empleador_id","ListaMoraFilterForm","useForm","handleSubmit","register","reset","Form","onSubmit","inputs","nombre","onApply","Row","Group","Col","sm","Label","Control","xs","Button","onClick","ListaMoraPolicy","index","user","canAny","Permisos","view","agregar","quitar","RowOptions","queryKey","modal","useModal","queryClient","useQueryClient","useMutation","empleadorId","onSuccess","close","setQueryData","oldData","console","log","data","records","i","status","open","error","Dropdown","Toggle","VerticalEllipsisDropdownToggle","Menu","authorize","href","window","confirm","mutate","useState","size","setPage","loggedUser","useLoggedUser","can","regionalId","setFilter","filterFormVisible","showFilterForm","buscar","useQuery","enabled","refetchOnWindowFocus","refetchOnReconnect","total","meta","fontSize","refetch","visible","Collapse","in","value","onChange","e","parseInt","Table","responsive","width","isFetching","colSpan","Spinner","animation","isError","response","message","length","lineHeight","renderRows","Math","ceil","schema","yup","shape","label","trim","uppercase","required","mode","resolver","yupResolver","defaultValues","watch","setError","clearErrors","setValue","trigger","formState","formErrors","errors","history","useHistory","buscarEmpleador","guardar","invalidateQueries","replace","Object","keys","forEach","key","localKey","isSuccess","Alert","InputGroup","hasValidation","isInvalid","Append","then","valid","Feedback","readOnly","isLoading","FcDebt","GenIcon","SolicitudesAtencionExternaService","regional_id","asegurado_id","medico","especialidad","proveedor","prestaciones_solicitadas","SolicitudAtencionExternaFilterForm","control","input","onFilter","numero","matriculaAsegurado","matricula","desde","hasta","solicitud","position","url","urlDm11","SolicitudATPolicy","emit","SolicitudAtencionExternaIndex","useLocation","pathname","setTotal","getDefaultFilter","registradoPor","ProtectedContent","fecha","asegurado","AseguradoChooser","Modal","Header","Body","asegurados","scope","matriculaComplemento","nombreCompleto","estadoText","onSelect","AseguradosService","include","AseguradoCard","useFormContext","aseguradoChooserVisible","showAseguradoChooser","empleador","apellidoPaterno","apellidoMaterno","nombres","afiliacion","baja","fechaValidezSeguro","moment","format","fechaBaja","enMora","tipo","titular","extincion","fechaExtincion","parentesco","code","getParentesco","dirtyFields","hasErrors","Card","Accordion","eventKey","lg","md","htmlFor","FormControl","aria-describedby","validation","Text","muted","estado","show","onHide","PrestacionesSolicitadasCard","useFieldArray","name","fields","append","remove","prestacionesSolicitadas","prestacionSolicitada","textTransform","prestacion","EstadosAfi","1","2","EstadosEmp","3","hoy","estadoAfiSchema","oneOf","values","notOneOf","fechaRegistro","bajaAfiSchema","emptyStringTo","nullable","min","estadoEmpSchema","when","notRequired","toDate","test","context","createError","NaN","is","subtract","regional","of","max","SolicitudAtencionExternaForm","setAsegurado","formMethods","dm11Viewer","registrar","registrarError","defaultActiveKey","render","field","fieldState","inputProps","filterBy","feedback","selected","onBlur","ClinicaApp","sidebarItems","useMemo","push","Image","src","exact","ListaMoraItemForm","ListaMoraIndex"],"mappings":"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","file":"static/js/4.3d2af5b7.chunk.js","sourcesContent":["/**\r\n * Permisos de solicitud de transferencia externa\r\n */\r\nexport const VER_SOLICITUDES_DE_ATENCION_EXTERNA = \"Ver solicitudes de atencion externa\";\r\nexport const VER_SOLICITUDES_DE_ATENCION_EXTERNA_MISMA_REGIONAL = \"Ver solicitudes de atencion externa (misma regional)\";\r\nexport const VER_SOLICITUDES_DE_ATENCION_EXTERNA_REGISTRADO_POR = \"Ver solicitudes de atencion externa (registrado por)\";\r\nexport const REGISTRAR_SOLICITUDES_DE_ATENCION_EXTERNA = \"Registrar solicitudes de atencion externa\";\r\nexport const REGISTRAR_SOLICITUDES_DE_ATENCION_EXTERNA_MISMA_REGIONAL = \"Registrar solicitudes de atencion externa (misma regional)\";\r\n// export const REGISTRAR_SOLICITUDES_DE_ATENCION_EXTERNA_REGISTRADO_POR = \"Registrar solicitudes de atencion externa (registrado por)\";\r\nexport const EMITIR_SOLICITUDES_DE_ATENCION_EXTERNA = \"Emitir solicitudes de atencion externa\";\r\nexport const EMITIR_SOLICITUDES_DE_ATENCION_EXTERNA_MISMA_REGIONAL = \"Emitir solicitudes de atencion externa (misma regional)\";\r\nexport const EMITIR_SOLICITUDES_DE_ATENCION_EXTERNA_REGISTRADO_POR = \"Emitir solicitudes de atencion externa (registrado por)\";\r\n  \r\n/**\r\n * Permisos de usuarios\r\n */\r\nexport const VER_USUARIOS = \"Ver usuarios\";\r\nexport const VER_USUARIOS_DE_LA_MISMA_REGIONAL_QUE_EL_USUARIO = \"Ver usuarios (misma regional)\";\r\nexport const REGISTRAR_USUARIOS = \"Registrar usuarios\";\r\nexport const REGISTRAR_USUARIOS_DE_LA_MISMA_REGIONAL_QUE_EL_USUARIO = \"Registrar usuarios (misma regional)\";\r\nexport const EDITAR_USUARIOS = \"Editar usuarios\";\r\nexport const EDITAR_USUARIOS_DE_LA_MISMA_REGIONAL_QUE_EL_USUARIO = \"Editar usuarios (misma regional)\";\r\nexport const BLOQUEAR_USUARIOS = \"Bloquear usuarios\";\r\nexport const BLOQUEAR_USUARIOS_DE_LA_MISMA_REGIONAL_QUE_EL_USUARIO = \"Bloquear usuarios (misma regional)\";\r\nexport const DESBLOQUEAR_USUARIOS = \"Desbloquear usuarios\";\r\nexport const DESBLOQUEAR_USUARIOS_DE_LA_MISMA_REGIONAL_QUE_EL_USUARIO = \"Desbloquear usuarios (misma regional)\";\r\nexport const CAMBIAR_CONTRASEÑA = \"Cambiar contraseña\";\r\nexport const CAMBIAR_CONTRASEÑA_DE_LA_MISMA_REGIONAL_QUE_EL_USUARIO = \"Cambiar contraseña (misma regional)\";\r\n\r\n/**\r\n * Permisos de roles\r\n */\r\nexport const VER_ROLES = \"Ver roles\";\r\nexport const REGISTRAR_ROLES = \"Registrar roles\";\r\nexport const EDITAR_ROLES = \"Editar roles\";\r\nexport const ELIMINAR_ROLES = \"Eliminar roles\";\r\n\r\n\r\n/**\r\n * Permisos de lista de mora\r\n */\r\nexport const VER_LISTA_DE_MORA = \"Ver lista de mora\"\r\nexport const VER_LISTA_DE_MORA_REGIONAL = \"Ver lista de mora (regional)\"\r\nexport const AGREGAR_EMPLEADOR_EN_MORA = \"Agregar empleador en mora\";\r\nexport const AGREGAR_EMPLEADOR_EN_MORA_DE_LA_MISMA_REGIONAL = \"Agregar empleador en mora (misma regional)\";\r\nexport const QUITAR_EMPLEADOR_EN_MORA = \"Quitar empleador en mora\";\r\nexport const QUITAR_EMPLEADOR_EN_MORA_DE_LA_MISMA_REGIONAL = \"Quitar empleador en mora (misma regional)\";\r\n\r\n\r\n\r\n/**\r\n * Medicos\r\n */\r\nexport const VER_MEDICOS = \"Ver médicos\";\r\nexport const VER_MEDICOS_REGIONAL = \"Ver médicos (regional)\";\r\nexport const REGISTRAR_MEDICOS = \"Registrar médicos\";\r\nexport const REGISTRAR_MEDICOS_REGIONAL = \"Registrar médicos (regional)\";\r\nexport const EDITAR_MEDICOS = \"Editar médicos\";\r\nexport const EDITAR_MEDICOS_REGIONAL = \"Editar médicos (regional)\";\r\nexport const BAJA_MEDICOS = \"Baja médicos\";\r\nexport const BAJA_MEDICOS_REGIONAL = \"Baja médicos (regional)\";\r\n\r\n/**\r\n* Proveedores\r\n*/\r\nexport const VER_PROVEEDORES = \"Ver proveedores\";\r\nexport const VER_PROVEEDORES_REGIONAL = \"Ver proveedores (regional)\";\r\nexport const REGISTRAR_PROVEEDORES = \"Registrar proveedores\";\r\nexport const REGISTRAR_PROVEEDORES_REGIONAL = \"Registrar proveedores (regional)\";\r\nexport const EDITAR_PROVEEDORES = \"Editar proveedores\";\r\nexport const EDITAR_PROVEEDORES_REGIONAL = \"Editar proveedores (regional)\";\r\nexport const BAJA_PROVEEDOR = \"Baja proveedores\";\r\nexport const BAJA_PROVEEDOR_REGIONAL = \"Baja proveedores (regional)\";\r\n\r\nexport const VER_CONTRATOS_PROVEEDOR = \"Ver contratos de proveedores\";\r\nexport const VER_CONTRATOS_PROVEEDOR_REGIONAL = \"Ver contratos de proveedores (regional)\";\r\nexport const REGISTRAR_CONTRATOS_PROVEEDOR = \"Registrar contratos de proveedores\";\r\nexport const REGISTRAR_CONTRATOS_PROVEEDOR_REGIONAL = \"Registrar contratos de proveedores (regional)\";\r\nexport const CONSUMIR_CONTRATOS_PROVEEDOR = \"Consumir contratos de proveedores\";\r\nexport const CONSUMIR_CONTRATOS_PROVEEDOR_REGIONAL = \"Consumir contratos de proveedores (regional)\";\r\nexport const EXTENDER_CONTRATOS_PROVEEDOR = \"Extender contratos de proveedores\";\r\nexport const EXTENDER_CONTRATOS_PROVEEDOR_REGIONAL = \"Extender contratos de proveedores (regional)\";\r\nexport const ANULAR_CONTRATOS_PROVEEDOR = \"Anular contratos de proveedores\";\r\nexport const ANULAR_CONTRATOS_PROVEEDOR_REGIONAL = \"Anular contratos de proveedores (regional)\";\r\n\r\n/**\r\n* Especialidades\r\n*/\r\nexport const VER_ESPECIALIDADES = \"Ver especialidades\";\r\nexport const REGISTRAR_ESPECIALIDADES = \"Registrar especialidades\";\r\nexport const EDITAR_ESPECIALIDADES = \"Editar especialidades\";\r\nexport const ELIMINAR_ESPECIALIDADES = \"Eliminar especialidades\";\r\nexport const IMPORTAR_ESPECIALIDADES = \"Importar especialidades\";\r\n\r\n/**\r\n* Prestaciones\r\n*/\r\nexport const VER_PRESTACIONES = \"Ver prestaciones\";\r\nexport const REGISTRAR_PRESTACIONES = \"Registrar prestaciones\";\r\nexport const EDITAR_PRESTACIONES = \"Editar prestaciones\";\r\nexport const ELIMINAR_PRESTACIONES = \"Eliminar prestaciones\";\r\nexport const IMPORTAR_PRESTACIONES = \"Importar prestaciones\";","export { ProtectedContent, ProtectedRoute } from \"./components\"\r\nexport * from \"./hooks\"\r\nexport { Permisos } from \"./constants\"","import { RefObject, useEffect } from 'react'\r\n\r\ntype AnyEvent = MouseEvent | TouchEvent\r\n\r\nexport function useOnClickOutside<T extends HTMLElement = HTMLElement>(\r\n  ref: RefObject<T>,\r\n  handler: (event: AnyEvent) => void,\r\n) {\r\n  useEffect(() => {\r\n    const listener = (event: AnyEvent) => {\r\n      const el = ref?.current\r\n\r\n      // Do nothing if clicking ref's element or descendent elements\r\n      if (!el || el.contains(event.target as Node) || document.querySelector('html') == event.target) {\r\n        return\r\n      }\r\n      handler(event)\r\n    }\r\n\r\n    document.addEventListener(`mousedown`, listener)\r\n    document.addEventListener(`touchstart`, listener)\r\n\r\n    return () => {\r\n      document.removeEventListener(`mousedown`, listener)\r\n      document.removeEventListener(`touchstart`, listener)\r\n    }\r\n\r\n    // Reload only if ref or handler changes\r\n  }, [ref, handler])\r\n}\r\n\r\nexport default useOnClickOutside\r\n","import { FC, useRef, ComponentProps } from 'react'\r\nimport { useOnClickOutside } from './useOnClickOutside'\r\n\r\ntype Props = {\r\n  onClickOutside: (event: MouseEvent | TouchEvent) => void\r\n} & ComponentProps<\"div\">\r\nexport const ClickOutsideHandler:FC<Props> = ({children, onClickOutside, ...props}) => {\r\n  const containerRef = useRef<HTMLDivElement>(null)\r\n  useOnClickOutside(containerRef, onClickOutside)\r\n  return <div ref={containerRef} {...props}>\r\n    {children}\r\n  </div>\r\n}","import React, { ComponentProps } from 'react'\r\nimport { ListGroup } from 'react-bootstrap';\r\nimport { Link, useRouteMatch } from 'react-router-dom'\r\n\r\ntype MenuItem = {\r\n  id: string,\r\n  title: string,\r\n  path: string,\r\n  icon?: React.ReactNode,\r\n  items?: undefined\r\n} | {\r\n  id: string,\r\n  title: string,\r\n  path?: string,\r\n  icon?: React.ReactNode,\r\n  items: {\r\n    id: string,\r\n    title: string,\r\n    path: string,\r\n    icon?: React.ReactNode,\r\n  }[]\r\n}\r\n\r\nconst SidebarItem = (item: MenuItem)=>{\r\n  const match = useRouteMatch(item.path || \"\")\r\n\r\n  return <>\r\n    {item.path ?\r\n      <ListGroup.Item as={Link} to={item.path} \r\n        action\r\n        active={!!match}\r\n        className=\"border-0 text-nowrap\"\r\n        style={{\r\n          padding: \".5rem 1rem\"\r\n        }}\r\n        key={item.id}>\r\n          {item.icon}<span style={{verticalAlign: 'middle', marginLeft: '0.5rem'}}>{item.title}</span>\r\n      </ListGroup.Item> : \r\n      <div\r\n        className=\"list-group-item border-0 text-nowrap\"\r\n        style={{\r\n          padding: \".5rem 1rem\"\r\n        }}\r\n        key={item.id}>\r\n          {item.icon}<span style={{verticalAlign: 'middle', marginLeft: '0.5rem'}}>{item.title}</span>\r\n      </div>\r\n    }\r\n    {item.items && item.items.map(subitem=>{\r\n      return <Link to={subitem.path} \r\n        style={{\r\n          padding: \".5rem 1rem\",\r\n          paddingLeft: \"2rem\"\r\n        }}\r\n        className=\"list-group-item list-group-item-action border-0 text-nowrap\" \r\n        key={subitem.id}>\r\n          {subitem.icon || null}<span style={{verticalAlign: 'middle', marginLeft: '0.5rem'}}>{subitem.title}</span>\r\n      </Link>\r\n    })}\r\n  </>\r\n}\r\n\r\nexport type SidebarProps = ComponentProps<\"div\"> & {\r\n  side?: 'left' | 'right',\r\n  header?: string | JSX.Element,\r\n  items?: MenuItem[],\r\n  renderItem?: (item: MenuItem) => JSX.Element\r\n}\r\nexport const Sidebar = (props: SidebarProps) => {\r\n  const {className=\"\", side=\"right\", header=\"\", items=[], renderItem} = props\r\n  const borderClass = {left: 'border-left', right: 'border-right'}\r\n  return <div className={`${className}  ${borderClass[side]}`} id=\"sidebar-wrapper\">\r\n    <div className=\"sidebar-heading mt-2\">{header}</div>\r\n    <hr className=\"mx-2\"></hr>\r\n    <ListGroup variant=\"flush\">\r\n      {items.map(item=>(\r\n        <SidebarItem key={item.id} {...item} />\r\n      ))}      \r\n    </ListGroup>\r\n    {/* <div className=\"list-group list-group-flush\">\r\n      {items.map(item=><a href=\"#\" className=\"list-group-item list-group-item-action\" key={item.id}>{renderItem ? renderItem(item):item.title}</a>)}\r\n    </div> */}\r\n  </div>\r\n  \r\n}","import React from 'react'\r\nimport { Container } from 'react-bootstrap'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { ClickOutsideHandler } from '../../click-outside-handler'\r\nimport { Sidebar, SidebarProps } from './Sidebar'\r\nimport \"./simple-sidebar.css\"\r\n\r\ntype Props = {\r\n  sidebar: SidebarProps\r\n  children: React.ReactNode\r\n}\r\nexport const SidebarLayout = ({sidebar, children}: Props) => {\r\n  const showSidebar = useSelector((state:any) => state.sidebarVisibility)\r\n  const dispatch = useDispatch()\r\n\r\n  const onClickOutsideHandler = React.useCallback((event: MouseEvent | TouchEvent)=>{\r\n    const toggle = document.querySelector('[aria-label=\"Toggle navigation\"]')\r\n    if(!toggle?.contains(event.target as Node)){\r\n      dispatch({\r\n        type: \"CLOSE_SIDEBAR\"\r\n      })\r\n    }\r\n  }, [showSidebar])\r\n  \r\n  return <div className={\"position-relative d-flex flex-grow-1 bg-light\" + (showSidebar ? \" toggled\" : \"\")}  id=\"wrapper\">\r\n    <ClickOutsideHandler onClickOutside={onClickOutsideHandler}>\r\n      <Sidebar className=\"bg-white shadow-sm\" {...sidebar}/>\r\n    </ClickOutsideHandler>\r\n    <Container className=\"d-flex flex-column flex-grow-1\">\r\n      <div className=\"d-flex flex-column bg-white rounded-lg shadow-sm m-2 p-3 flex-grow-1\">\r\n        {children}\r\n      </div>\r\n    </Container>\r\n  </div>\r\n}\r\n\r\nexport default SidebarLayout","import apiClient from \"../../../../commons/services/apiClient\"\r\n\r\ntype Empleador = {\r\n  id: number,\r\n  numeroPatronal: string,\r\n  nombre: string\r\n}\r\n\r\nexport const EmpleadorService = {\r\n  buscarPorPatronal: (numeroPatronal: string) => {\r\n    return apiClient.get<Empleador>(\"empleadores/buscar-por-patronal\", {\r\n      params: {\r\n        numero_patronal: numeroPatronal\r\n      }\r\n    })\r\n  }\r\n}","import { apiClient, Page, PaginatedResponse} from \"../../../../commons/services\"\r\nimport { keysToUnderscore } from \"../../../../commons/utils\"\r\n\r\nexport type ListaMoraFilter = {\r\n  numeroPatronal?: string,\r\n  nombre?: string,\r\n  nit?: number,\r\n  regionalId?: number\r\n}\r\n\r\nexport type ListaMoraItem = {\r\n  id: number,\r\n  empleadorId: number,\r\n  numeroPatronal: string,\r\n  nombre: string\r\n}\r\n\r\nexport const ListaMoraService = {\r\n  buscar: (filter: ListaMoraFilter, page: Page)=>{\r\n    return apiClient.get<PaginatedResponse<ListaMoraItem>>(\"/lista-mora\", {\r\n      params: keysToUnderscore({\r\n        page, filter\r\n      })\r\n    })\r\n  },\r\n  agregar: (idEmpleador: number) =>{\r\n    return apiClient.post<ListaMoraItem>(\"lista-mora/agregar\", {\r\n      empleador_id: idEmpleador\r\n    })\r\n  },\r\n  quitar: (idEmpleador: number) =>{\r\n    return apiClient.post<ListaMoraItem>(\"lista-mora/quitar\", {\r\n      empleador_id: idEmpleador\r\n    })\r\n  }\r\n}","import { Button, Col, Form } from \"react-bootstrap\"\r\nimport { useForm } from \"react-hook-form\"\r\nimport { ListaMoraFilter as Filter } from \"../services\"\r\n\r\ntype Inputs = {\r\n  numeroPatronal: string\r\n  nombre: string\r\n}\r\n\r\ntype Props = {\r\n  onApply: (filter: Filter) => void\r\n}\r\n\r\nexport const ListaMoraFilterForm = (props: Props)=>{\r\n  const {\r\n    handleSubmit,\r\n    register,\r\n    reset\r\n  } = useForm<Inputs>()\r\n\r\n  return <Form onSubmit={handleSubmit((inputs)=>{\r\n    const filter: Filter = {}\r\n    if(inputs.nombre) filter.nombre = inputs.nombre\r\n    if(inputs.numeroPatronal) filter.numeroPatronal = inputs.numeroPatronal\r\n    props.onApply(filter)\r\n  })}>\r\n    <Form.Row>\r\n      <Form.Group as={Col} sm={4}>\r\n        <Form.Label>Nº Patronal</Form.Label>\r\n        <Form.Control {...register(\"numeroPatronal\")} />\r\n      </Form.Group>\r\n      <Form.Group as={Col} sm={8}>\r\n        <Form.Label>Nombre</Form.Label>\r\n        <Form.Control {...register(\"nombre\")} />\r\n      </Form.Group>\r\n    </Form.Row>\r\n    <Form.Row>\r\n      <Col xs=\"auto\">\r\n        <Button type=\"submit\">Aplicar</Button>\r\n      </Col>\r\n      <Col xs=\"auto\">\r\n        <Button variant=\"secondary\" onClick={()=>reset()}>Limpiar</Button>\r\n      </Col>\r\n    </Form.Row>\r\n  </Form>\r\n}","import { Permisos } from \"../../../../commons/auth/constants\";\r\nimport { User } from \"../../../../commons/auth/hooks\";\r\n\r\nexport const ListaMoraPolicy = {\r\n  index: (user: User) => {\r\n    return user?.canAny([\r\n      Permisos.VER_LISTA_DE_MORA,\r\n      Permisos.VER_LISTA_DE_MORA_REGIONAL,\r\n      Permisos.AGREGAR_EMPLEADOR_EN_MORA,\r\n      Permisos.AGREGAR_EMPLEADOR_EN_MORA_DE_LA_MISMA_REGIONAL\r\n    ])\r\n  },\r\n  view: (user: User) => {\r\n    return user?.canAny([\r\n      Permisos.VER_LISTA_DE_MORA,\r\n      Permisos.VER_LISTA_DE_MORA_REGIONAL\r\n    ])\r\n  },\r\n  agregar: (user: User) => {\r\n    return user?.canAny([\r\n      Permisos.AGREGAR_EMPLEADOR_EN_MORA,\r\n      Permisos.AGREGAR_EMPLEADOR_EN_MORA_DE_LA_MISMA_REGIONAL\r\n    ])\r\n  },\r\n  quitar: (user: User) => {\r\n    return user?.canAny([\r\n      Permisos.QUITAR_EMPLEADOR_EN_MORA,\r\n      Permisos.QUITAR_EMPLEADOR_EN_MORA_DE_LA_MISMA_REGIONAL\r\n    ])\r\n  },\r\n}","import { useEffect } from \"react\"\r\nimport { Dropdown } from \"react-bootstrap\"\r\nimport { useMutation, useQueryClient, QueryKey } from \"react-query\"\r\nimport { VerticalEllipsisDropdownToggle } from \"../../../../commons/components\"\r\nimport { useModal } from \"../../../../commons/reusable-modal\"\r\nimport { ProtectedContent } from \"../../../../commons/auth/components\"\r\nimport { ListaMoraItem, ListaMoraService } from \"../services\"\r\nimport { ListaMoraPolicy } from \"../policies\"\r\n\r\ntype Props = {\r\n  item: ListaMoraItem\r\n  queryKey: QueryKey\r\n}\r\nexport const RowOptions = ({item, queryKey}: Props) => {\r\n\r\n  const modal = useModal(\"queryLoader\")\r\n\r\n  const queryClient = useQueryClient()\r\n\r\n  const quitar = useMutation(()=>{\r\n    return ListaMoraService.quitar(item.empleadorId)\r\n  }, {\r\n    onSuccess: ()=>{\r\n      modal.close()\r\n      queryClient.setQueryData(queryKey, (oldData: any) => {\r\n        console.log(oldData)\r\n        return {\r\n          ...oldData,\r\n          data: {\r\n            ...oldData.data,\r\n            records: oldData.data.records.filter((i: any)=>{\r\n              return i !== item\r\n            })\r\n          }\r\n        }\r\n      })\r\n    }\r\n  })\r\n\r\n  useEffect(()=>{\r\n    if(quitar.status == \"loading\"){\r\n      modal.open({\r\n        state: \"loading\"\r\n      })\r\n    }\r\n    else if(quitar.status == \"error\"){\r\n      console.error(quitar.error)\r\n      modal.open({\r\n        state: \"error\",\r\n        error: quitar.error\r\n      })\r\n    }\r\n  }, [quitar.status])\r\n\r\n  return <Dropdown>\r\n    <Dropdown.Toggle as={VerticalEllipsisDropdownToggle}\r\n      variant=\"link\" id={`dropdown-${item.id}`}\r\n    />\r\n    \r\n    <Dropdown.Menu>\r\n      <ProtectedContent\r\n        authorize={ListaMoraPolicy.quitar}\r\n      >\r\n        <Dropdown.Item className=\"text-danger\" href=\"#\" onClick={() => {\r\n          if (window.confirm(\"¿Está seguro?\")) {\r\n            quitar.mutate()\r\n          }\r\n        }}>Quitar</Dropdown.Item>\r\n      </ProtectedContent>\r\n    </Dropdown.Menu>\r\n  </Dropdown>  \r\n}","import { AxiosError } from \"axios\"\r\nimport { useEffect, useRef, useState } from \"react\"\r\nimport { Button, Col, Collapse, Form, Spinner, Table } from \"react-bootstrap\"\r\nimport { FaFilter, FaSync, FaPlus } from \"react-icons/fa\"\r\nimport { useQuery } from \"react-query\"\r\nimport { Link } from \"react-router-dom\"\r\nimport {Pagination} from \"../../../../commons/components\"\r\nimport { useLoggedUser, ProtectedContent, Permisos } from \"../../../../commons/auth\"\r\nimport { ListaMoraService, ListaMoraFilter as Filter } from \"../services\"\r\nimport { ListaMoraFilterForm } from \"./ListaMoraFilterForm\"\r\nimport { RowOptions } from \"./RowOptions\"\r\nimport { ListaMoraPolicy } from \"../policies\"\r\n\r\nexport default () => {\r\n  const [page, setPage] = useState({\r\n    current: 1,\r\n    size: 10\r\n  })\r\n\r\n  const loggedUser = useLoggedUser();\r\n  \r\n  const getDefaultFilter = ()=>{\r\n    const filter: Filter = {}\r\n    if(!loggedUser?.can(Permisos.VER_LISTA_DE_MORA)){\r\n      if(loggedUser?.can(Permisos.VER_LISTA_DE_MORA_REGIONAL)){\r\n        filter.regionalId = loggedUser.regionalId;\r\n      }\r\n    }\r\n    return filter\r\n  }\r\n\r\n  const [filter, setFilter] = useState<Filter>(getDefaultFilter)\r\n\r\n  const [filterFormVisible, showFilterForm] = useState(false)\r\n\r\n  const queryKey = [\"listaMora.buscar\", filter, page]\r\n  const buscar = useQuery(queryKey, () => {\r\n    return ListaMoraService.buscar(filter, page)\r\n  }, {\r\n    enabled: ListaMoraPolicy.view(loggedUser),\r\n    // refetchOnMount: false,\r\n    refetchOnWindowFocus: false,\r\n    refetchOnReconnect: false\r\n  })\r\n\r\n  const total = buscar.data?.data?.meta?.total || 0\r\n\r\n  const renderRows = () => {\r\n    if (buscar.isFetching) {\r\n      return <tr>\r\n        <td className=\"bg-light text-center\" colSpan={100}>\r\n          <Spinner className=\"mr-2\" variant=\"primary\" animation=\"border\" size=\"sm\" />\r\n          Cargando\r\n        </td>\r\n      </tr>\r\n    }\r\n    else if (buscar.isError) {\r\n      const { error } = buscar\r\n      return <tr>\r\n        <td className=\"bg-danger text-light text-center\" colSpan={100}>\r\n          {(error as AxiosError).response?.data?.message || (error as AxiosError).message}\r\n        </td>\r\n      </tr>\r\n    }\r\n    if(buscar.data)\r\n    {\r\n      const records = buscar.data!.data.records\r\n      if(records.length == 0){\r\n        return  <tr>\r\n          <td className=\"bg-light text-center\" colSpan={100}>\r\n            No se encontraron resultados\r\n          </td>\r\n      </tr>\r\n      }\r\n      return records.map((item, index) => {\r\n        return <tr key={item.id}>\r\n          <td style={{ lineHeight: \"26px\" }}>\r\n            {index + 1}\r\n          </td>\r\n          <td style={{ lineHeight: \"26px\" }}>\r\n            {item.numeroPatronal}\r\n          </td>\r\n          <td style={{ lineHeight: \"26px\" }}>\r\n            {item.nombre}\r\n          </td>\r\n          <td>\r\n            <RowOptions item={item} queryKey={queryKey} />\r\n          </td>\r\n        </tr>\r\n      })\r\n    }    \r\n  }\r\n\r\n  return <div className=\"px-1\">\r\n    <h1 style={{ fontSize: \"1.75rem\" }}>Empleadores en mora</h1>\r\n    <div className=\"d-flex my-2\">\r\n      <Form.Row className=\"ml-auto flex-nowrap\">\r\n        <ProtectedContent\r\n          authorize={ListaMoraPolicy.view}\r\n        >\r\n          <Col xs=\"auto\" >\r\n            <Button className=\"my-2\" onClick={() => {\r\n              buscar.refetch()\r\n            }}><FaSync /></Button>\r\n          </Col>\r\n          <Col xs=\"auto\" >\r\n            <Button className=\"my-2\" onClick={() => {\r\n              showFilterForm(visible => !visible)\r\n            }}><FaFilter /></Button>\r\n          </Col>\r\n        </ProtectedContent>\r\n        <ProtectedContent\r\n          authorize={ListaMoraPolicy.agregar}\r\n        >\r\n          <Col xs=\"auto\">\r\n            <Button as={Link}\r\n              to=\"/clinica/lista-mora/agregar\"\r\n              className=\"my-2\"\r\n            >\r\n              <FaPlus className=\"mr-1\" />\r\n              Agregar\r\n            </Button>\r\n          </Col>\r\n        </ProtectedContent>\r\n      </Form.Row>\r\n    </div>\r\n    <ProtectedContent\r\n      authorize={ListaMoraPolicy.view}\r\n    >\r\n      <Collapse in={filterFormVisible}>\r\n        <div>\r\n          <ListaMoraFilterForm\r\n            onApply={(filter) => {\r\n              setFilter(filter)\r\n              setPage(page => ({...page, current: 1}))\r\n            }}\r\n          />\r\n        </div>\r\n      </Collapse>\r\n      <div className=\"d-flex\">\r\n        <div className=\"ml-auto mb-2\">\r\n          <div className=\"d-flex flex-row flex-nowrap align-items-center\">\r\n            <span>Mostrar</span>\r\n            <Form.Control className=\"mx-2\" as=\"select\" value={page.size} onChange={(e) => {\r\n              const value = e.target.value\r\n              setPage((page) => ({\r\n                ...page,\r\n                size: parseInt(value)\r\n              }))\r\n            }}>\r\n              <option value={10}>10</option>\r\n              <option value={20}>20</option>\r\n              <option value={30}>30</option>\r\n              <option value={50}>50</option>\r\n              <option value={100}>100</option>\r\n            </Form.Control>\r\n            <span>filas</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <Table responsive className=\"text-nowrap\">\r\n        <thead>\r\n          <tr>\r\n            <th style={{ width: 1 }}>#</th>\r\n            <th style={{ width: 1 }}>Nº Patronal</th>\r\n            <th >Nombre</th>\r\n            <th style={{ width: 1 }}></th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {renderRows()}\r\n        </tbody>\r\n      </Table>\r\n      {buscar.status === \"success\" ? <div className=\"d-flex flex-row\">\r\n          <span className=\"mr-auto\">{`Se encontraron ${total} resultados`}</span>\r\n          <Pagination\r\n            current={page.current}\r\n            total={Math.ceil((total - page.size) / page.size) + 1}\r\n            onChange={(current) => setPage((page) => ({ ...page, current }))}\r\n          />\r\n        </div> : null}\r\n    </ProtectedContent>\r\n  </div>\r\n}","import { AxiosError, AxiosResponse } from 'axios'\r\nimport { useEffect } from 'react'\r\nimport { Alert, Button, Col, Form, InputGroup, Spinner } from 'react-bootstrap'\r\nimport { useForm } from 'react-hook-form'\r\nimport { useHistory } from \"react-router-dom\"\r\nimport { FaSearch } from 'react-icons/fa'\r\nimport { useMutation, useQuery, useQueryClient } from 'react-query'\r\nimport { yupResolver } from '@hookform/resolvers/yup'\r\nimport * as yup from \"yup\"\r\nimport { EmpleadorService, ListaMoraItem, ListaMoraService } from '../services'\r\n\r\ntype Inputs = {\r\n  numeroPatronal: string,\r\n  nombre: string\r\n}\r\n\r\nconst schema = yup.object().shape({\r\n  numeroPatronal: yup.string().label(\"número patronal\").trim().uppercase().required(),\r\n  nombre: yup.string().required()\r\n})\r\n\r\nexport default ()=>{\r\n  const {\r\n    handleSubmit,\r\n    register,\r\n    watch,\r\n    setError,\r\n    clearErrors,\r\n    setValue,\r\n    reset,\r\n    trigger,\r\n    formState\r\n  } = useForm<Inputs>({\r\n    mode: \"onBlur\",\r\n    resolver: yupResolver(schema),\r\n    defaultValues: {\r\n      nombre: \"\",\r\n      numeroPatronal: \"\"\r\n    }\r\n  })\r\n\r\n  const formErrors = formState.errors\r\n\r\n  const history = useHistory()\r\n\r\n  const queryClient = useQueryClient()\r\n  \r\n  const onBuscarEmpleadorSuccess = ({data}: any) => {\r\n    setValue(\"nombre\", data.nombre)\r\n  }\r\n  const numeroPatronal = watch(\"numeroPatronal\")\r\n  const buscarEmpleador = useQuery([\"buscarEmpleadorPorPatronal\", numeroPatronal], ()=>{\r\n    return EmpleadorService.buscarPorPatronal(numeroPatronal)\r\n  }, {\r\n    enabled: false,\r\n    onSuccess: onBuscarEmpleadorSuccess\r\n  })\r\n\r\n  const guardar = useMutation((empleadorId: number)=>{\r\n    return ListaMoraService.agregar(empleadorId)\r\n  }, {\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries(\"listaMora.buscar\")\r\n      history.replace(\"/clinica/lista-mora\")\r\n    }\r\n  })\r\n\r\n  useEffect(()=>{\r\n    const error = buscarEmpleador.error as any\r\n    if(error?.response?.status == 404) {\r\n        setError(\"numeroPatronal\", {\r\n          type: \"searchError\",\r\n          message:  \"Empleador no encontrado\"\r\n        })\r\n    }\r\n    else if(error){\r\n      console.error(error)\r\n        setError(\"numeroPatronal\", {\r\n        type: \"searchError\",\r\n        message:  \"Ocurrio un error al realizar la busqueda\"\r\n      })\r\n    }\r\n  }, [buscarEmpleador.isError])\r\n\r\n  useEffect(()=>{\r\n    const error = guardar.error as any\r\n    if(error?.response?.status == 422) {\r\n      const {errors} = error?.response?.data\r\n      Object.keys(errors).forEach((key: any)=>{\r\n        let localKey = key\r\n        if(key == \"empleadorId\") localKey = \"numeroPatronal\"\r\n        setError(localKey, {type: \"serverError\", message: errors[key]})\r\n      })\r\n    }\r\n    else if(error){\r\n      console.error(error)\r\n    }\r\n  }, [guardar.isError])\r\n\r\n  const renderAlert = ()=>{\r\n    if(guardar.isSuccess){\r\n      return <Alert variant=\"success\">\r\n        La operacion se realizó exitosamente\r\n      </Alert>\r\n    }\r\n    if(guardar.isError){\r\n      return <Alert variant=\"danger\">\r\n        Ocurrio un error al procesar la solicitud\r\n      </Alert>\r\n    }\r\n    return null\r\n  }\r\n\r\n  return <Form id=\"form-empleador-mora\"\r\n    onSubmit={handleSubmit(()=>{\r\n      guardar.mutate(buscarEmpleador.data!.data.id)\r\n    })}\r\n  >\r\n    <h1 style={{fontSize: \"1.75rem\"}}>Agregar empleador en mora</h1>\r\n    {renderAlert()}\r\n    <Form.Row>\r\n      <Form.Group as={Col} sm={4}>\r\n        <Form.Label>\r\n          Nº Patronal\r\n        </Form.Label>\r\n        <InputGroup hasValidation className=\"mb-2\">\r\n          <Form.Control\r\n            isInvalid={!!formErrors.numeroPatronal}\r\n            className=\"text-uppercase\" {...register(\"numeroPatronal\")} />\r\n          <InputGroup.Append >\r\n            <Button variant={formErrors.numeroPatronal ? \"danger\" : \"outline-secondary\"} onClick={()=>{\r\n              trigger(\"numeroPatronal\")\r\n              .then((valid)=>{\r\n                if(!formErrors.numeroPatronal){\r\n                  clearErrors()\r\n                  buscarEmpleador.refetch()\r\n                }\r\n              })\r\n            }}>\r\n              {buscarEmpleador.isFetching ? <Spinner animation=\"border\" size=\"sm\" /> : <FaSearch />}\r\n            </Button>\r\n          </InputGroup.Append>\r\n          <Form.Control.Feedback type=\"invalid\">{formErrors.numeroPatronal?.message}</Form.Control.Feedback>\r\n        </InputGroup>\r\n      </Form.Group>\r\n    </Form.Row>\r\n    <Form.Row>\r\n      <Form.Group as={Col}>\r\n          <Form.Label>\r\n            Nombre\r\n          </Form.Label>\r\n          <Form.Control\r\n            readOnly\r\n            isInvalid={!!formState.errors.nombre}\r\n            {...register(\"nombre\")}\r\n          />\r\n          <Form.Control.Feedback type=\"invalid\">{formState.errors.nombre?.message}</Form.Control.Feedback>\r\n      </Form.Group>\r\n    </Form.Row>\r\n    <Button type=\"subimt\">\r\n      {guardar.isLoading ? <Spinner className=\"mr-2\" animation=\"border\" size=\"sm\" /> : null}\r\n      <span className=\"\"></span>Agregar\r\n    </Button>\r\n  </Form>\r\n}","import { GenIcon, IconBaseProps } from \"react-icons/lib\";\r\n\r\nexport const FcDebt = function FcDebt (props: IconBaseProps) {\r\n  //@ts-ignore\r\n  return GenIcon({\"tag\":\"svg\",\"attr\":{\"version\":\"1\",\"viewBox\":\"0 0 48 48\",\"enableBackground\":\"new 0 0 48 48\"},\"child\":[{\"tag\":\"path\",\"attr\":{\"d\":\"M10,12c-2.8,0-5-2.2-5-5s2.2-5,5-5s5,2.2,5,5S12.8,12,10,12z\"}},{\"tag\":\"path\",\"attr\":{\"d\":\"M2,22v8l3,2l1,14h8l1-14l3-2v-8c0-4.4-3.6-8-8-8h0C5.6,14,2,17.6,2,22z\"}},{\"tag\":\"g\",\"attr\":{},\"child\":[{\"tag\":\"path\",\"attr\":{\"d\":\"M22.4,40.4c-0.6,2.5-1,3.6-2.4,3.6c-0.6,0-1.2-0.5-1.9-1.1c-1-0.8-2.2-1.9-4.1-1.9v2c1.1,0,1.9,0.7,2.8,1.4 c0.9,0.7,1.9,1.6,3.2,1.6c3.1,0,3.8-2.9,4.4-5.2C25,38.2,25.4,37,27,37v-2C23.7,35,22.9,38.1,22.4,40.4z\"}},{\"tag\":\"polygon\",\"attr\":{\"points\":\"14.4,40 10,40 10,44 14.1,44\"}}]},\r\n    //@ts-ignore\r\n    {\"tag\":\"circle\",\"attr\":{\"cx\":\"36\",\"cy\":\"36\",\"r\":\"10\"}},\r\n    //@ts-ignore\r\n    {\"tag\":\"path\",\"attr\":{\"fill\":\"#fff\",\"d\":\"M35,34c0.1,0.2,0.1,0.3,0.3,0.4c0.1,0.1,0.3,0.2,0.5,0.4c0.2,0.1,0.5,0.2,0.8,0.3c0.5,0.2,0.9,0.4,1.3,0.6 c0.4,0.2,0.7,0.4,1,0.7c0.3,0.3,0.5,0.6,0.7,0.9c0.2,0.4,0.2,0.8,0.2,1.3c0,0.4-0.1,0.8-0.2,1.2c-0.1,0.4-0.3,0.7-0.6,0.9 c-0.3,0.3-0.6,0.5-0.9,0.6c-0.4,0.2-0.8,0.3-1.2,0.3v1.5h-1.2v-1.5c-0.4,0-0.8-0.1-1.2-0.3c-0.4-0.2-0.7-0.4-1-0.6 c-0.3-0.3-0.5-0.6-0.7-1.1c-0.2-0.4-0.3-0.9-0.3-1.5h2.2c0,0.4,0,0.7,0.1,0.9c0.1,0.2,0.2,0.4,0.4,0.6c0.2,0.1,0.3,0.2,0.5,0.3 c0.2,0.1,0.4,0.1,0.6,0.1c0.2,0,0.4,0,0.6-0.1c0.2-0.1,0.3-0.2,0.4-0.3c0.1-0.1,0.2-0.3,0.3-0.4c0.1-0.2,0.1-0.3,0.1-0.5 c0-0.2,0-0.4-0.1-0.6c-0.1-0.2-0.1-0.3-0.3-0.4c-0.1-0.1-0.3-0.3-0.5-0.4c-0.2-0.1-0.4-0.2-0.7-0.3c-0.5-0.2-0.9-0.4-1.3-0.6 c-0.4-0.2-0.7-0.4-1-0.7c-0.3-0.3-0.5-0.6-0.7-0.9c-0.2-0.4-0.2-0.8-0.2-1.3c0-0.4,0.1-0.8,0.2-1.2c0.1-0.3,0.3-0.7,0.6-0.9 c0.3-0.3,0.6-0.5,0.9-0.6c0.4-0.2,0.8-0.3,1.2-0.3v-1.6h1.2v1.6c0.4,0.1,0.8,0.2,1.2,0.4c0.4,0.2,0.6,0.4,0.9,0.7 c0.2,0.3,0.4,0.6,0.6,1c0.1,0.4,0.2,0.9,0.2,1.4h-2.2c0-0.6-0.1-1-0.4-1.3c-0.2-0.3-0.6-0.4-1-0.4c-0.2,0-0.4,0-0.6,0.1 c-0.2,0.1-0.3,0.2-0.4,0.3C35.1,32.7,35,32.8,35,33s-0.1,0.3-0.1,0.5C34.9,33.7,34.9,33.9,35,34z\"}}\r\n    // //@ts-ignore\r\n    // {\"tag\":\"path\",\"attr\":{\"d\":\"M34.36918731037488,32.43804760584102 c0.2049905379011744,-0.1362195187343288 0.4575917813793953,-0.25921384147503324 0.7498686128384906,-0.353112733029765 v2.2456382797173764 a3.04840767653036,3.04840767653036 0 0 1 -0.7498686128384906,-0.353112733029765 C33.88911269580633,33.657410676453175 33.79653632385097,33.358521246997256 33.79653632385097,33.207754012669945 c0,-0.1507672343273157 0.09257637195536918,-0.449656663783222 0.5726509865239253,-0.7697064068289254 zM37.764095121938205,39.620651549978284 v-2.2456382797173764 c0.2909543118597318,0.09389889155473126 0.5448780749373151,0.21689321429543612 0.7498686128384906,0.353112733029765 c0.4813971341679188,0.3213722626450675 0.5726509865239253,0.6189391725016105 0.5726509865239253,0.7697064068289254 c0,0.1507672343273157 -0.09257637195536918,0.449656663783222 -0.5726509865239253,0.7697064068289254 a3.04840767653036,3.04840767653036 0 0 1 -0.7498686128384906,0.353112733029765 z\"}},\r\n    // //@ts-ignore\r\n    // {\"tag\":\"path\",\"attr\":{\"fill-rule\":\"evenodd\", \"clip-rule\": \"evenodd\",\"d\":\"M36.456693151701,46.34645688299114 a10.519685476315033,10.519685476315033 0 1 0 0,-21.039370952630065 a10.519685476315033,10.519685476315033 0 0 0 0,21.039370952630065 zm1.314960684539379,-17.094488899011928 a1.314960684539379,1.314960684539379 0 1 0 -2.629921369078758,0 v0.120976382977623 a5.963346704386084,5.963346704386084 0 0 0 -2.203874107288,0.8705039731650693 C31.988456745636196,30.874629468700803 31.196850413543487,31.89372399921882 31.196850413543487,33.19685003759734 c0,1.3018110776939853 0.7916063320927069,2.320905608212004 1.741007946330138,2.9534016974754462 c0.6311811285789025,0.4207874190526019 1.385968561504506,0.7166535730739616 2.203874107288,0.8705039731650693 v2.5523386886909347 c-0.5141496276548978,-0.16700000693650122 -0.8941732654867787,-0.4168425369989835 -1.108511857066697,-0.662740185007847 a1.314960684539379,1.314960684539379 0 1 0 -1.9855906336544624,1.7225984967465875 c0.7390079047111311,0.8534094842660581 1.8580394472541435,1.414897696564372 3.094102490721159,1.6476457377278424 V42.401574829373004 a1.314960684539379,1.314960684539379 0 1 0 2.629921369078758,0 v-0.120976382977623 a5.963346704386084,5.963346704386084 0 0 0 2.203874107288,-0.8705039731650693 C40.92492955776581,40.77891334465141 41.71653588985852,39.75981881413339 41.71653588985852,38.45669277575487 c0,-1.3018110776939853 -0.7916063320927069,-2.320905608212004 -1.741007946330138,-2.9534016974754462 A5.963346704386084,5.963346704386084 0 0 0 37.77165383624038,34.63278710511435 V32.08044841642341 c0.5141496276548978,0.16700000693650122 0.8941732654867787,0.4168425369989835 1.108511857066697,0.662740185007847 a1.314960684539379,1.314960684539379 0 1 0 1.9869055943390022,-1.7225984967465875 c-0.7403228653956706,-0.8534094842660581 -1.8580394472541435,-1.414897696564372 -3.0954174514056985,-1.6476457377278424 V29.25196798397921 z\"}}\r\n  ]})(props);\r\n}","import { apiClient, PaginatedResponse, Page } from \"../../../../commons/services\"\r\nimport { keysToUnderscore } from \"../../../../commons/utils\"\r\n\r\nexport type SolicitudesAtencionExternaFilter = {\r\n  numero?: number\r\n  desde?: string\r\n  hasta?: string\r\n  numeroPatronal?: string\r\n  matriculaAsegurado?: string\r\n  medico?: string\r\n  proveedor?: string\r\n  regionalId?: number\r\n  registradoPor?: number\r\n}\r\n\r\nexport type SolicitudAtencionExterna = {\r\n  id: number,\r\n  numero: number,\r\n  fecha: string,\r\n  asegurado: {\r\n    matricula: string\r\n  },\r\n  medico: string,\r\n  especialidad: string,\r\n  proveedor: string,\r\n  urlDm11: string\r\n}\r\n\r\nexport const SolicitudesAtencionExternaService = {\r\n  buscar: (filter: SolicitudesAtencionExternaFilter, page: Page)=>{\r\n    return apiClient.get<PaginatedResponse<SolicitudAtencionExterna>>(\"solicitudes-atencion-externa\", {\r\n      params: keysToUnderscore({filter, page})\r\n    })\r\n  },\r\n  generarDm11: (solicitud_id: number) => {\r\n    return apiClient.put<{url: string}>(`solicitudes-atencion-externa/${solicitud_id}/generar-dm11`)\r\n  },\r\n  registrar: (regional_id: number, asegurado_id: string, medico: string, especialidad: string, proveedor: string, prestaciones_solicitadas: { prestacion: string }[]) => {\r\n    return apiClient.post(\"solicitudes-atencion-externa\", {\r\n      regional_id,\r\n      asegurado_id,\r\n      medico,\r\n      especialidad,\r\n      proveedor,\r\n      prestaciones_solicitadas\r\n    })\r\n  }\r\n}","import React from \"react\"\r\nimport { Button, Col, Form } from 'react-bootstrap'\r\nimport { useForm, Controller }  from 'react-hook-form'\r\nimport { SolicitudesAtencionExternaFilter } from \"../services/SolicitudesAtencionExternaService\"\r\n// import { Medico, MedicosTypeahead } from \"./MedicosTypeahead\"\r\n// import { Proveedor, ProveedoresTypeahead } from \"./ProveedoresTypeahead\"\r\n\r\ntype Inputs = {\r\n  numero: string\r\n  desde: string\r\n  hasta: string\r\n  numeroPatronal: string\r\n  matricula: string\r\n  // medico: Medico[]\r\n  medico: string\r\n  // proveedor: Proveedor[]\r\n  proveedor: string\r\n}\r\n\r\ntype Props = {\r\n  onFilter: (filter: SolicitudesAtencionExternaFilter)=>void\r\n}\r\nexport const SolicitudAtencionExternaFilterForm = (props: Props)=>{\r\n  const {\r\n    control,\r\n    formState,\r\n    handleSubmit,\r\n    register,\r\n    reset\r\n  } = useForm<Inputs>({\r\n    defaultValues: {\r\n      medico: \"\",\r\n      proveedor: \"\"\r\n    }\r\n  })\r\n  \r\n  return <Form className={\"mb-2\"} onSubmit={handleSubmit((input)=>{\r\n    const filter: SolicitudesAtencionExternaFilter = {}\r\n    \r\n    props.onFilter({\r\n      numero: parseInt(input.numero),\r\n      numeroPatronal: input.numeroPatronal,\r\n      matriculaAsegurado: input.matricula,\r\n      desde: input.desde,\r\n      hasta: input.hasta,\r\n      medico: input.medico,\r\n      proveedor: input.proveedor\r\n    })\r\n  })}>\r\n    <Form.Row>\r\n      <Form.Group as={Col}>\r\n        <Form.Label>Número de solicitud</Form.Label>\r\n        <Form.Control {...register(\"numero\")}/>\r\n      </Form.Group>\r\n      <Form.Group as={Col}>\r\n        <Form.Label>Nº Patronal</Form.Label>\r\n        <Form.Control {...register(\"numeroPatronal\")} />\r\n      </Form.Group>\r\n      <Form.Group as={Col}>\r\n        <Form.Label>Matricula</Form.Label>\r\n        <Form.Control {...register(\"matricula\")} />\r\n      </Form.Group>\r\n    </Form.Row>\r\n    <Form.Row>\r\n      <Form.Group as={Col}>\r\n        <Form.Label>Médico</Form.Label>\r\n        <Form.Control\r\n          {...register(\"medico\")}\r\n        />\r\n      </Form.Group>\r\n      <Form.Group as={Col}>\r\n        <Form.Label>Proveedor</Form.Label>\r\n        <Form.Control\r\n            {...register(\"proveedor\")}\r\n          />\r\n      </Form.Group>\r\n    </Form.Row>\r\n    <Form.Row>\r\n      <Form.Group as={Col} sm={4}>\r\n          <Form.Label>Desde</Form.Label>\r\n          <Form.Control\r\n            type=\"date\"\r\n            {...register(\"desde\")}\r\n          />\r\n        </Form.Group>\r\n        <Form.Group as={Col} sm={4}>\r\n          <Form.Label>Hasta</Form.Label>\r\n          <Form.Control\r\n            type=\"date\"\r\n            {...register(\"hasta\")}\r\n          />\r\n        </Form.Group>\r\n    </Form.Row>\r\n    <Form.Row>\r\n      <Col xs=\"auto\">\r\n        <Button type=\"submit\">Aplicar</Button>\r\n      </Col>\r\n      <Col xs=\"auto\">\r\n        <Button variant=\"secondary\" onClick={()=>reset()}>Limpiar</Button>\r\n      </Col>\r\n    </Form.Row>\r\n  </Form>\r\n}","import { Dropdown } from \"react-bootstrap\"\r\nimport { Link } from \"react-router-dom\"\r\nimport { VerticalEllipsisDropdownToggle } from \"../../../../commons/components\"\r\nimport { useModal } from \"../../../../commons/reusable-modal\"\r\nimport { ProtectedContent } from \"../../../../commons/auth/components\"\r\nimport { SolicitudATPolicy } from \"../policies\"\r\nimport { SolicitudAtencionExterna } from \"../services\"\r\n\r\ntype Props = {\r\n  solicitud: SolicitudAtencionExterna\r\n}\r\nexport const RowOptions = ({solicitud}: Props) => {\r\n\r\n  const modal = useModal(\"pdfModal\")\r\n\r\n  return   <Dropdown style={{position: \"initial\"}}>\r\n    <Dropdown.Toggle as={VerticalEllipsisDropdownToggle}\r\n      variant=\"link\" id={`dropdown-solicitud-${solicitud.id}`}\r\n    />\r\n    <Dropdown.Menu >\r\n      <Dropdown.Item href=\"#\" onClick={() => {\r\n        modal.open({\r\n          title: \"Formulario D.M. - 11\",\r\n          url: solicitud.urlDm11\r\n        })\r\n      }}>Ver D.M. - 11</Dropdown.Item>\r\n    </Dropdown.Menu>\r\n  </Dropdown>\r\n}","import { Permisos, User } from \"../../../../commons/auth\";\r\n\r\nexport const SolicitudATPolicy = {\r\n  index: function(user: User){\r\n    return user?.canAny([\r\n      Permisos.VER_SOLICITUDES_DE_ATENCION_EXTERNA,\r\n      Permisos.VER_SOLICITUDES_DE_ATENCION_EXTERNA_MISMA_REGIONAL,\r\n      Permisos.VER_SOLICITUDES_DE_ATENCION_EXTERNA_REGISTRADO_POR,\r\n      Permisos.REGISTRAR_SOLICITUDES_DE_ATENCION_EXTERNA,\r\n      Permisos.REGISTRAR_SOLICITUDES_DE_ATENCION_EXTERNA_MISMA_REGIONAL\r\n    ])\r\n  },\r\n  register: function(user: User){\r\n    return user?.canAny([\r\n      Permisos.REGISTRAR_SOLICITUDES_DE_ATENCION_EXTERNA,\r\n      Permisos.REGISTRAR_SOLICITUDES_DE_ATENCION_EXTERNA_MISMA_REGIONAL\r\n    ])\r\n  },\r\n  view: function(user: User){\r\n    return user?.canAny([\r\n      Permisos.VER_SOLICITUDES_DE_ATENCION_EXTERNA,\r\n      Permisos.VER_SOLICITUDES_DE_ATENCION_EXTERNA_MISMA_REGIONAL,\r\n      Permisos.VER_SOLICITUDES_DE_ATENCION_EXTERNA_REGISTRADO_POR,\r\n    ])\r\n  },\r\n  emit: function(user: User){\r\n    return user?.canAny([\r\n      Permisos.EMITIR_SOLICITUDES_DE_ATENCION_EXTERNA,\r\n      Permisos.EMITIR_SOLICITUDES_DE_ATENCION_EXTERNA_MISMA_REGIONAL,\r\n      Permisos.EMITIR_SOLICITUDES_DE_ATENCION_EXTERNA_REGISTRADO_POR\r\n    ])\r\n  }\r\n}","import { useState} from \"react\"\r\nimport { AxiosError } from \"axios\"\r\nimport { Button, Col, Collapse, Form, Spinner, Table } from \"react-bootstrap\"\r\nimport {FaFilter, FaPlus, FaSync} from \"react-icons/fa\"\r\nimport { Link, useLocation } from \"react-router-dom\"\r\nimport { useQuery } from \"react-query\"\r\nimport { Pagination } from \"../../../../commons/components\"\r\nimport { Page } from \"../../../../commons/services/Page\"\r\nimport { SolicitudesAtencionExternaFilter as Filter, SolicitudesAtencionExternaService } from \"../services/SolicitudesAtencionExternaService\"\r\nimport { SolicitudAtencionExternaFilterForm } from \"./SolicitudAtencionExternaFilterForm\"\r\nimport { Permisos } from \"../../../../commons/auth/constants\"\r\nimport { useLoggedUser } from \"../../../../commons/auth/hooks\"\r\nimport { ProtectedContent } from \"../../../../commons/auth/components/ProtectedContent\"\r\nimport { RowOptions } from \"./RowOptions\"\r\nimport { SolicitudATPolicy } from \"../policies\"\r\n\r\nexport const SolicitudAtencionExternaIndex = ()=>{\r\n  const {pathname: path} = useLocation()\r\n  const [total, setTotal] = useState(0)\r\n  const [page, setPage] = useState<Page>({\r\n    current: 1,\r\n    size: 10\r\n  })\r\n\r\n  const loggedUser = useLoggedUser();\r\n\r\n  const [filterFormVisible, showFilterForm] = useState(false)\r\n\r\n  const getDefaultFilter = ()=>{\r\n    const filter: Filter = {}\r\n    if(!loggedUser?.can(Permisos.VER_SOLICITUDES_DE_ATENCION_EXTERNA)){\r\n      if(loggedUser?.can(Permisos.VER_SOLICITUDES_DE_ATENCION_EXTERNA_MISMA_REGIONAL)){\r\n        filter.regionalId = loggedUser.regionalId;\r\n      }\r\n      if(loggedUser?.can(Permisos.VER_SOLICITUDES_DE_ATENCION_EXTERNA_REGISTRADO_POR)){\r\n        filter.registradoPor = loggedUser.id;\r\n      }\r\n    }\r\n    return filter\r\n  }\r\n\r\n  const [filter, setFilter] = useState<Filter>(getDefaultFilter)\r\n\r\n  const buscar = useQuery([\"solicitudesAtencionExterna.buscar\", page, filter], ()=>{\r\n    return SolicitudesAtencionExternaService.buscar({...filter, ...getDefaultFilter()}, page)\r\n  }, {\r\n    enabled: loggedUser?.canAny([\r\n      Permisos.VER_SOLICITUDES_DE_ATENCION_EXTERNA,\r\n      Permisos.VER_SOLICITUDES_DE_ATENCION_EXTERNA_MISMA_REGIONAL,\r\n      Permisos.VER_SOLICITUDES_DE_ATENCION_EXTERNA_REGISTRADO_POR,\r\n    ]),\r\n    refetchOnReconnect: false,\r\n    refetchOnWindowFocus: false,\r\n    onSuccess: ({data: {meta}}) => {\r\n      setTotal(meta.total)\r\n    }\r\n  })\r\n\r\n  const renderRows = ()=>{\r\n    if (buscar.isFetching) {\r\n      return <tr>\r\n        <td className=\"bg-light text-center\" colSpan={100}>\r\n          <Spinner className=\"mr-2\" variant=\"primary\" animation=\"border\" size=\"sm\" />\r\n          Cargando\r\n        </td>\r\n      </tr>\r\n    }\r\n    if (buscar.isError) {\r\n      const { error } = buscar\r\n      return <tr>\r\n        <td className=\"bg-danger text-light text-center\" colSpan={100}>\r\n          {(error as AxiosError).response?.data?.message || (error as AxiosError).message}\r\n        </td>\r\n      </tr>\r\n    }\r\n    if (buscar.data){\r\n      const records = buscar.data!.data.records\r\n      if(records.length === 0){\r\n        return  <tr>\r\n          <td className=\"bg-light text-center\" colSpan={100}>\r\n            No se encontraron resultados\r\n          </td>\r\n      </tr>\r\n      }\r\n      return records.map((solicitud, index)=>{\r\n        return <tr key={solicitud.id}>\r\n          <td>{index + 1}</td>\r\n          <td>{solicitud.numero}</td>\r\n          <td>{solicitud.fecha}</td>\r\n          <td>{solicitud.asegurado.matricula}</td>\r\n          <td>{solicitud.medico}</td>\r\n          <td>{solicitud.proveedor}</td>\r\n          <td>\r\n            <RowOptions solicitud={solicitud} />\r\n          </td>\r\n        </tr>\r\n      })\r\n    }\r\n  }\r\n\r\n  return <div className=\"px-1\">\r\n    <h1 style={{fontSize: \"1.75rem\"}}>Solicitudes de atención externa</h1>\r\n    <div className=\"d-flex my-2\">\r\n      <Form.Row className=\"ml-auto flex-nowrap\" >\r\n        <ProtectedContent\r\n          authorize={SolicitudATPolicy.view}\r\n        >\r\n          <Col xs=\"auto\" >\r\n            <Button onClick={()=>{\r\n              buscar.refetch()\r\n            }}><FaSync /></Button>\r\n          </Col>\r\n          <Col xs=\"auto\" >\r\n            <Button onClick={()=>{\r\n              showFilterForm(visible=>!visible)\r\n            }}><FaFilter /></Button>\r\n          </Col>\r\n        </ProtectedContent>\r\n        <ProtectedContent\r\n          authorize={SolicitudATPolicy.register}\r\n        >\r\n          <Col xs=\"auto\">\r\n            <Button\r\n              as={Link}\r\n              to={`${path}/registrar`}\r\n              className=\"d-flex align-items-center\">\r\n                <FaPlus className=\"mr-1\" /><span>Nuevo</span>\r\n            </Button>\r\n          </Col>\r\n        </ProtectedContent>\r\n      </Form.Row>\r\n    </div>\r\n    <ProtectedContent\r\n      authorize={SolicitudATPolicy.view}\r\n    >\r\n      <Form.Row className=\"mb-2\">\r\n        <Col xs={12}>\r\n          <Collapse in={filterFormVisible}>\r\n            <div>\r\n              <SolicitudAtencionExternaFilterForm onFilter={(filter)=>{\r\n                setFilter(filter)\r\n                setPage(page=>({ ...page, current: 1 }))\r\n              }} />\r\n            </div>\r\n          </Collapse>\r\n        </Col>\r\n        <Col className=\"ml-auto\" xs={\"auto\"}>\r\n          <div className=\"d-flex flex-row flex-nowrap align-items-center\">\r\n              <span>Mostrar</span>\r\n              <Form.Control className=\"mx-2\" as=\"select\" value={page.size} onChange={(e) => {\r\n                const value = e.target.value\r\n                setPage((page) => ({\r\n                  ...page,\r\n                  size: parseInt(value)\r\n                }))\r\n              }}>\r\n                <option value={10}>10</option>\r\n                <option value={20}>20</option>\r\n                <option value={30}>30</option>\r\n                <option value={50}>50</option>\r\n                <option value={100}>100</option>\r\n              </Form.Control>\r\n              <span>filas</span>\r\n          </div>\r\n        </Col>\r\n      </Form.Row>\r\n      <Table responsive>\r\n        <thead>\r\n          <tr>\r\n            <th style={{width: 1}}>#</th>\r\n            <th>Nº</th>\r\n            <th>Fecha y hora</th>\r\n            <th>Matrícula asegurado</th>\r\n            <th>Doctor</th>\r\n            <th>Proveedor</th>\r\n            <th style={{width: 1}}></th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {renderRows()}\r\n        </tbody>\r\n      </Table>\r\n      {buscar.status === \"success\" ? <div className=\"d-flex flex-row\">\r\n        <span className=\"mr-auto\">{`Se encontraron ${total} resultados`}</span>\r\n        <Pagination\r\n          current={page.current}\r\n          total={Math.ceil((total - page.size) / page.size) + 1}\r\n          onChange={(current) => setPage((page) => ({ ...page, current }))}\r\n        />\r\n      </div> : null}\r\n    </ProtectedContent>\r\n  </div>\r\n}","import React, { forwardRef, useImperativeHandle, useRef, useCallback } from \"react\"\r\nimport { Button, Modal, ModalProps, Table } from \"react-bootstrap\"\r\nimport { Asegurado } from \"../services\"\r\n\r\ntype Props = Omit<ModalProps, \"children\"> & {\r\n  asegurados: Asegurado[]\r\n  onSelect: (asegurado: Asegurado) => void\r\n  title: string\r\n}\r\n\r\nexport const AseguradoChooser = (props: Props) => {\r\n  return <Modal {...props} >\r\n    <Modal.Header>\r\n      {props.title}\r\n    </Modal.Header>\r\n    <Modal.Body>\r\n      <Table responsive className=\"small\">\r\n        <thead>\r\n          <tr>\r\n            <th style={{width: 1}}>#</th>\r\n            <th>Matricula</th>\r\n            <th>Nombre completo</th>\r\n            <th>Estado</th>\r\n            <th></th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {!!props.asegurados.length ? props.asegurados.map((asegurado, index)=>{\r\n            return <tr key={asegurado.id}>\r\n              <th scope=\"row\">{index+1}</th>\r\n              <td>{asegurado.matricula}-{asegurado.matriculaComplemento}</td>\r\n              <td>{asegurado.nombreCompleto}</td>\r\n              <td className={asegurado.estadoText ? \"\" : \"bg-ligth\"}>{asegurado.estadoText || \"Desconocido\"}</td>\r\n              <td><Button onClick={()=>{\r\n                props.onSelect(asegurado)\r\n              }}\r\n              >Seleccionar</Button></td>\r\n            </tr>\r\n          }) : <tr><td className=\"bg-light text-center\" colSpan={100}>No se encontraron resultados</td></tr>}\r\n        </tbody>\r\n      </Table>\r\n    </Modal.Body>\r\n  </Modal>\r\n}","import { apiClient, Page, PaginatedResponse } from \"../../../../commons/services\"\r\n\r\n// export type Titular = {\r\n//   id: string,\r\n//   matricula: string,\r\n//   apellidoPaterno: string | null,\r\n//   apellidoMaterno: string,\r\n//   nombres: string,\r\n//   estado: string,\r\n//   fechaBaja?: string,\r\n//   fechaExtinsion?: string,\r\n//   empleador: {\r\n//     id: number,\r\n//     numeroPatronal: string,\r\n//     nombre: string,\r\n//     estado: string,\r\n//     aportes: string\r\n//   }\r\n// }\r\n\r\n// type Beneficiario = Titular & {\r\n//   fechaExtinsion?: string\r\n// }\r\n\r\ninterface Afiliacion {\r\n  id: string\r\n  baja: {\r\n    regDate: string,\r\n    fechaValidezSeguro: string\r\n  } | null\r\n}\r\n\r\ninterface AfiliacionBeneficiario extends Afiliacion  {\r\n  parentesco: number\r\n  idAfiliacionTitular: string\r\n  fechaExtincion: string | null\r\n}\r\n\r\ninterface Afiliado {\r\n  id: string\r\n  matricula: string\r\n  matriculaComplemento: string\r\n  apellidoPaterno: string | null\r\n  apellidoMaterno: string | null\r\n  nombres: string\r\n  nombreCompleto: string\r\n  estado: number\r\n  estadoText: string\r\n  tipo: number\r\n  empleador: {\r\n    id: number\r\n    numeroPatronal: string\r\n    nombre: string\r\n    estado: number\r\n    estadoText: string\r\n    fechaBaja: string\r\n    enMora: boolean\r\n  }\r\n}\r\n\r\nexport interface Titular extends Afiliado {\r\n  tipo: 1\r\n  afiliacion: Afiliacion\r\n}\r\n\r\nexport interface Beneficiario extends Afiliado {\r\n  tipo: 2\r\n  titular: Titular\r\n  afiliacion: AfiliacionBeneficiario\r\n}\r\n\r\nexport type Asegurado = Titular | Beneficiario\r\n\r\n// export type Asegurado = {\r\n//   id: string,\r\n//   matricula: string,\r\n//   matriculaComplemento: string,\r\n//   apellidoPaterno: string | null,\r\n//   apellidoMaterno: string,\r\n//   nombres: string,\r\n//   tipo_id: number,\r\n//   estado: number,\r\n//   baja: {\r\n//     regDate: string,\r\n//     fechaValidezSeguro: string\r\n//   },\r\n//   fechaExtinsion?: string\r\n//   titularId: string\r\n//   empleador: {\r\n//     id: number,\r\n//     numeroPatronal: string,\r\n//     nombre: string,\r\n//     estado: string,\r\n//     fechaBaja: string,\r\n//     aportes: string\r\n//   }\r\n//   titular?: {\r\n//     id: string,\r\n//     matricula: string,\r\n//     apellidoPaterno: string | null,\r\n//     apellidoMaterno: string | null,\r\n//     nombres: string,\r\n//     estado: string,\r\n//     baja: {\r\n//       regDate: string,\r\n//       fechaValidezSeguro: string\r\n//     },\r\n//   }\r\n// }\r\n\r\nexport const AseguradosService = {\r\n  buscarPorMatricula: (matricula: string) =>{\r\n    return apiClient.get<PaginatedResponse<Asegurado>>(\"asegurados\", {\r\n      params: {\r\n        filter: {\r\n          matricula\r\n        },\r\n        page: {\r\n          size: 10\r\n        },\r\n        include: \"empleador,titular\"\r\n      },\r\n      // transformResponse: [...apiClient.defaults.transformResponse as AxiosTransformer[], (response:any)=>{\r\n      //   console.log(response)\r\n      //   return response\r\n      // }]\r\n    })\r\n  }\r\n}","import { useEffect, useState, useRef } from \"react\"\r\nimport { Accordion, Alert, Card, Form, Col, InputGroup, FormControl, Button, Spinner } from \"react-bootstrap\"\r\nimport { useFormContext } from \"react-hook-form\"\r\nimport { FaSearch } from \"react-icons/fa\"\r\nimport { useQuery } from \"react-query\"\r\nimport { AseguradoChooser } from \"./AseguradoChooser\"\r\nimport { Asegurado, AseguradosService } from \"../services/AseguradosService\"\r\nimport moment from 'moment';\r\n\r\nexport type AseguradoInputs = {\r\n  asegurado: {\r\n    matricula: string\r\n    apellidoPaterno: string\r\n    apellidoMaterno: string\r\n    nombres: string\r\n    parentesco: string\r\n    estado: string\r\n    baja: {\r\n      fechaValidezSeguro: string\r\n    }\r\n    fechaExtincion: string\r\n  }\r\n  titular: {\r\n    matricula: string\r\n    apellidoPaterno: string\r\n    apellidoMaterno: string\r\n    nombres: string\r\n    estado: string\r\n    baja: {\r\n      fechaValidezSeguro: string\r\n    }\r\n  }\r\n  empleador: {\r\n    numeroPatronal: string\r\n    nombre: string\r\n    estado: string\r\n    fechaBaja: string\r\n    enMora: string\r\n  }\r\n}\r\n\r\nexport const AseguradoCard = (props: {\r\n  value: Asegurado | null\r\n  onChange(asegurado: Asegurado | null): void\r\n}) => {\r\n\r\n  const {\r\n    register,\r\n    formState,\r\n    trigger,\r\n    setValue,\r\n    clearErrors,\r\n    control,\r\n    watch\r\n  } = useFormContext<AseguradoInputs>()\r\n\r\n  const [aseguradoChooserVisible, showAseguradoChooser] = useState(false)\r\n\r\n  const asegurado = props.value\r\n  const matricula = watch(\"asegurado.matricula\")\r\n  const buscar = useQuery([\"asegurados.buscar\", matricula], () => {\r\n    return AseguradosService.buscarPorMatricula(matricula)\r\n  }, {\r\n    enabled: false,\r\n    onSuccess: ({ data: { records } }) => {\r\n      if (records.length == 1) {\r\n        const asegurado = records[0]\r\n        console.log(\"Choosed\", asegurado)\r\n        props.onChange(asegurado)\r\n      }\r\n      else {\r\n        showAseguradoChooser(true)\r\n      }\r\n    }\r\n  })\r\n\r\n  const getParentesco = (code: number) => {\r\n    switch(code){\r\n      case 1: return \"Hijo(a)\"\r\n      case 2: return \"Esposa\"\r\n      case 3: return \"Conviviente\"\r\n      case 4: return \"Madre\"\r\n      case 5: return \"Padre\"\r\n      case 6: return \"Hermano(a)\"\r\n      case 7: return \"Esposo\"\r\n      case 8: return \"Derechohabiente\"\r\n      default: return \"\"\r\n    }\r\n  }\r\n\r\n  useEffect(()=>{\r\n    const empleador = asegurado?.empleador\r\n    // setValue(\"asegurado.matricula\", asegurado?.matricula || \"\")\r\n    setValue(\"asegurado.apellidoPaterno\", asegurado?.apellidoPaterno || \"\")\r\n    setValue(\"asegurado.apellidoMaterno\", asegurado?.apellidoMaterno || \"\")\r\n    setValue(\"asegurado.nombres\", asegurado?.nombres || \"\")\r\n    setValue(\"asegurado.estado\", asegurado?.estadoText || \"\")\r\n    // const valSeguro = asegurado?.afiliacion?.baja?.fechaValidezSeguro\r\n    if(asegurado?.afiliacion?.baja?.fechaValidezSeguro) setValue(\"asegurado.baja.fechaValidezSeguro\",  moment(asegurado?.afiliacion?.baja?.fechaValidezSeguro).format('L'))\r\n    setValue(\"empleador.numeroPatronal\", empleador?.numeroPatronal || \"\")\r\n    setValue(\"empleador.nombre\", empleador?.nombre || \"\")\r\n    setValue(\"empleador.estado\", empleador?.estadoText || \"\")\r\n    setValue(\"empleador.fechaBaja\", empleador?.fechaBaja ? moment(empleador?.fechaBaja).format(\"L\") : \"\")\r\n    setValue(\"empleador.enMora\", empleador?.enMora ? \"Sí\" : empleador?.enMora === false ? \"No\" : \"\")\r\n\r\n    if(asegurado?.tipo == 2) {\r\n      const titular = asegurado?.titular\r\n      const extincion = asegurado?.afiliacion?.fechaExtincion\r\n      const parentesco = getParentesco(asegurado?.afiliacion?.parentesco);\r\n\r\n      setValue(\"asegurado.parentesco\", parentesco)\r\n      setValue(\"asegurado.fechaExtincion\", extincion ? moment(extincion).format('L') : \"\")\r\n      setValue(\"titular.matricula\", titular?.matricula || \"\")\r\n      setValue(\"titular.apellidoPaterno\", titular?.apellidoPaterno || \"\")\r\n      setValue(\"titular.apellidoMaterno\", titular?.apellidoMaterno || \"\")\r\n      setValue(\"titular.nombres\", titular?.nombres || \"\")\r\n      setValue(\"titular.estado\", titular?.estadoText)\r\n      // const valSeguroTit = titular?.afiliacion?.baja?.fechaValidezSeguro\r\n      if(titular?.afiliacion?.baja?.fechaValidezSeguro) setValue(\"titular.baja.fechaValidezSeguro\", moment(titular?.afiliacion?.baja?.fechaValidezSeguro).format('L'))\r\n    }\r\n  }, [asegurado])\r\n\r\n  useEffect(() => {\r\n    if (asegurado && formState.dirtyFields.asegurado?.matricula) {\r\n      props.onChange(null)\r\n    }\r\n  }, [matricula])\r\n\r\n  const formErrors = formState.errors\r\n  const hasErrors = formErrors.asegurado || formErrors.titular || formErrors.empleador\r\n\r\n  const buscarAseguradoHandler = () => {\r\n    trigger(\"asegurado.matricula\")\r\n      .then((validation) => {\r\n        if (!formErrors.asegurado?.matricula) {\r\n          if (formState.dirtyFields.asegurado?.matricula)\r\n            delete formState.dirtyFields.asegurado.matricula\r\n          clearErrors([\"asegurado\", \"titular\", \"empleador\"])\r\n          if (!buscar.data) {\r\n            buscar.refetch()\r\n          }\r\n          else {\r\n            const { data: { records } } = buscar.data\r\n            if (records.length == 1) {\r\n              const asegurado = records[0]\r\n              props.onChange(asegurado)\r\n            }\r\n            else {\r\n              showAseguradoChooser(true)\r\n            }\r\n          }\r\n        }\r\n      })\r\n  }\r\n\r\n  return <Card >\r\n    <Accordion.Toggle as={Card.Header} className={\"text-light \" + (hasErrors ? \"bg-danger\" : \"bg-primary\")} eventKey=\"0\">\r\n      Asegurado\r\n    </Accordion.Toggle>\r\n    <Accordion.Collapse eventKey=\"0\">\r\n      <Card.Body>\r\n        <div>\r\n          {(formErrors.asegurado as any)?.message ? <Alert variant=\"danger\">\r\n            {(formErrors.asegurado as any)?.message}\r\n          </Alert> : null}\r\n          <Form.Row>\r\n            <Form.Group as={Col} lg={3} md={6}>\r\n              <Form.Label htmlFor=\"asegurado-matricula\">\r\n                Matrícula\r\n              </Form.Label>\r\n              <InputGroup hasValidation>\r\n                <FormControl id=\"asegurado-matricula\"\r\n                  isInvalid={!!formErrors.asegurado?.matricula || buscar.isError}\r\n                  className=\"text-uppercase\" {...register(\"asegurado.matricula\")}\r\n                  aria-describedby=\"matriculaHelpBlock\" />\r\n                <InputGroup.Append >\r\n                  <Button variant={(formErrors.asegurado?.matricula || buscar.isError) ? \"outline-danger\" : \"outline-secondary\"} onClick={buscarAseguradoHandler}>\r\n                    {buscar.isFetching ? <Spinner animation=\"border\" size=\"sm\" /> : <FaSearch />}\r\n                  </Button>\r\n                </InputGroup.Append>\r\n                <Form.Control.Feedback type=\"invalid\">{\r\n                    (buscar.error as any)?.response?.message || (buscar.error as any)?.message\r\n                    || formErrors.asegurado?.matricula?.message\r\n                  }\r\n                </Form.Control.Feedback>\r\n              </InputGroup>            \r\n              {!formErrors.asegurado?.matricula && !buscar.isError ? <Form.Text id=\"matriculaHelpBlock\" muted>Ej: 98-0824-ABC</Form.Text> : null}\r\n            </Form.Group>\r\n            <Form.Group as={Col} lg={3} md={6}>\r\n              <Form.Label>Apellido Paterno</Form.Label>\r\n              <Form.Control\r\n                readOnly\r\n                {...register(\"asegurado.apellidoPaterno\")}\r\n              />\r\n            </Form.Group>\r\n            <Form.Group as={Col} lg={3} md={6}>\r\n              <Form.Label>Apellido Materno</Form.Label>\r\n              <Form.Control\r\n                readOnly\r\n                {...register(\"asegurado.apellidoMaterno\")}\r\n              />\r\n            </Form.Group>\r\n            <Form.Group as={Col} lg={3} md={6}>\r\n              <Form.Label>Nombre</Form.Label>\r\n              <Form.Control\r\n                readOnly\r\n                {...register(\"asegurado.nombres\")}\r\n              />\r\n            </Form.Group>\r\n          </Form.Row>\r\n          <Form.Row>\r\n            {!!asegurado && <Form.Group as={Col} sm={3}>\r\n              <Form.Label>Estado</Form.Label>\r\n              <Form.Control\r\n                readOnly\r\n                className=\"text-uppercase\"\r\n                isInvalid={!!formErrors.asegurado?.estado}\r\n                {...register(\"asegurado.estado\")}\r\n              >\r\n              </Form.Control>\r\n              <Form.Control.Feedback type=\"invalid\">{formErrors.asegurado?.estado?.message}</Form.Control.Feedback>\r\n            </Form.Group>}\r\n            {asegurado?.tipo == 2 && <Form.Group as={Col} sm={3}>\r\n              <Form.Label>Parentesco</Form.Label>\r\n              <Form.Control\r\n                readOnly\r\n                className=\"text-uppercase\"\r\n                {...register(\"asegurado.parentesco\")}\r\n              />\r\n            </Form.Group>}\r\n            {asegurado?.afiliacion?.baja && <Form.Group as={Col} sm={3}>\r\n              <Form.Label>Validez del seguro</Form.Label>\r\n              <Form.Control\r\n                readOnly\r\n                isInvalid={!!formErrors.asegurado?.baja?.fechaValidezSeguro}\r\n                {...register(\"asegurado.baja.fechaValidezSeguro\")}\r\n              />\r\n              <Form.Control.Feedback type=\"invalid\">{\r\n                formErrors.asegurado?.baja?.fechaValidezSeguro?.message\r\n              }</Form.Control.Feedback>\r\n            </Form.Group>}\r\n            {asegurado?.tipo == 2 ? <Form.Group as={Col} sm={3}>\r\n              <Form.Label>Fecha de extinción</Form.Label>\r\n              <Form.Control\r\n                readOnly\r\n                isInvalid={!!formErrors.asegurado?.fechaExtincion}\r\n                {...register(\"asegurado.fechaExtincion\")}\r\n              />\r\n              <Form.Control.Feedback type=\"invalid\">{formErrors.asegurado?.fechaExtincion?.message}</Form.Control.Feedback>\r\n            </Form.Group> : null}\r\n          </Form.Row>\r\n        </div>\r\n        {asegurado?.tipo == 2 && <div /*className={asegurado.tipo == 2 ? \"\" : \"d-none\"}*/ >\r\n          {/* {watch(\"titular.id\") ? <> */}\r\n          <hr />\r\n          <h2 style={{ fontSize: \"1.25rem\" }}>Titular</h2>          \r\n          {(formErrors.titular as any)?.message ? <Alert variant=\"danger\">\r\n            {(formErrors.titular as any)?.message}\r\n          </Alert> : null}\r\n          <Form.Row>\r\n            <Form.Group as={Col} lg={3} md={6}>\r\n              <Form.Label>Matricula</Form.Label>\r\n              <Form.Control\r\n                readOnly\r\n                {...register(\"titular.matricula\")}\r\n              />\r\n            </Form.Group>\r\n            <Form.Group as={Col} lg={3} md={6}>\r\n              <Form.Label>Apellido Paterno</Form.Label>\r\n              <Form.Control\r\n                readOnly\r\n                {...register(\"titular.apellidoPaterno\")}\r\n              />\r\n            </Form.Group>\r\n            <Form.Group as={Col} lg={3} md={6}>\r\n              <Form.Label>Apellido Materno</Form.Label>\r\n              <Form.Control\r\n                readOnly\r\n                {...register(\"titular.apellidoMaterno\")}\r\n              />\r\n            </Form.Group>\r\n            <Form.Group as={Col} lg={3} md={6}>\r\n              <Form.Label>Nombre</Form.Label>\r\n              <Form.Control\r\n                readOnly\r\n                {...register(\"titular.nombres\")}\r\n              />\r\n            </Form.Group>\r\n          </Form.Row>\r\n          <Form.Row>\r\n            <Form.Group as={Col} sm={4}>\r\n              <Form.Label>Estado</Form.Label>\r\n              <Form.Control\r\n                readOnly\r\n                className=\"text-uppercase\"\r\n                isInvalid={!!formErrors.titular?.estado}\r\n                {...register(\"titular.estado\")}\r\n              />\r\n              <Form.Control.Feedback type=\"invalid\">{formErrors.titular?.estado?.message}</Form.Control.Feedback>\r\n            </Form.Group>\r\n            {asegurado?.titular?.afiliacion?.baja && <Form.Group as={Col} sm={4}>\r\n              <Form.Label>Validez del seguro</Form.Label>\r\n              <Form.Control\r\n                readOnly\r\n                isInvalid={!!formErrors.titular?.baja?.fechaValidezSeguro}\r\n                {...register(\"titular.baja.fechaValidezSeguro\")}\r\n              />\r\n              <Form.Control.Feedback type=\"invalid\">{formErrors.titular?.baja?.fechaValidezSeguro?.message}</Form.Control.Feedback>\r\n            </Form.Group>}\r\n          </Form.Row>\r\n        </div>}\r\n        {!!asegurado && <div>\r\n          <hr />\r\n          <h2 style={{ fontSize: \"1.25rem\"}}>Empleador</h2>\r\n          {(formErrors.empleador as any)?.message ? <Alert variant=\"danger\">\r\n            {(formErrors.empleador as any)?.message}\r\n          </Alert> : null}\r\n          <Form.Row>\r\n            <Form.Group as={Col} md={3}>\r\n              <Form.Label>Nº Patronal</Form.Label>\r\n              <Form.Control\r\n                readOnly\r\n                isInvalid={!!formErrors.empleador?.numeroPatronal}\r\n                {...register(\"empleador.numeroPatronal\")}\r\n              />\r\n              <Form.Control.Feedback type=\"invalid\">{formErrors.empleador?.numeroPatronal?.message}</Form.Control.Feedback>\r\n            </Form.Group>\r\n            <Form.Group as={Col} md={9}>\r\n              <Form.Label>Nombre</Form.Label>\r\n              <Form.Control\r\n                readOnly\r\n                {...register(\"empleador.nombre\")}\r\n              />\r\n            </Form.Group>\r\n          </Form.Row>\r\n          <Form.Row>\r\n            <Form.Group as={Col} sm={3}>\r\n              <Form.Label>Estado</Form.Label>\r\n              <Form.Control\r\n                readOnly\r\n                className=\"text-uppercase\"\r\n                isInvalid={!!formErrors.empleador?.estado}\r\n                {...register(\"empleador.estado\")}\r\n              />\r\n              <Form.Control.Feedback type=\"invalid\">{formErrors.empleador?.estado?.message}</Form.Control.Feedback>\r\n            </Form.Group>\r\n            <Form.Group as={Col} sm={3}>\r\n              <Form.Label>Fecha de baja</Form.Label>\r\n              <Form.Control\r\n                readOnly\r\n                isInvalid={!!formErrors.empleador?.fechaBaja}\r\n                {...register(\"empleador.fechaBaja\")}\r\n              />\r\n              <Form.Control.Feedback type=\"invalid\">{formErrors.empleador?.fechaBaja?.message}</Form.Control.Feedback>\r\n            </Form.Group>\r\n            <Form.Group as={Col} sm={3}>\r\n              <Form.Label>En mora</Form.Label>\r\n              <Form.Control\r\n                readOnly\r\n                className=\"text-uppercase\"\r\n                isInvalid={!!formErrors.empleador?.enMora}\r\n                {...register(\"empleador.enMora\")}\r\n              />\r\n              <Form.Control.Feedback type=\"invalid\">{formErrors.empleador?.enMora?.message}</Form.Control.Feedback>\r\n            </Form.Group>\r\n          </Form.Row>\r\n        </div>}\r\n        <AseguradoChooser\r\n          title=\"Resultados\"\r\n          show={aseguradoChooserVisible}\r\n          asegurados={buscar.data?.data.records || []}\r\n          onSelect={(asegurado: Asegurado) => {\r\n            // asegurado.matricula = watch(\"asegurado.matricula\")\r\n            props.onChange(asegurado)\r\n            showAseguradoChooser(false)\r\n          }}\r\n          onHide={()=>showAseguradoChooser(false)}\r\n        />\r\n      </Card.Body>\r\n    </Accordion.Collapse>\r\n  </Card>\r\n}","import { useState } from \"react\"\r\nimport { Card, Accordion, Form, Table, Button } from \"react-bootstrap\"\r\nimport { useFormContext, useFieldArray, Controller, useController } from \"react-hook-form\"\r\nimport { FaPlus, FaMinus } from \"react-icons/fa\"\r\nimport { Regional } from \"../../../../commons/services\"\r\n\r\nexport type PrestacionesSolicitadasInputs = {\r\n  regional: Regional[],\r\n  prestacionesSolicitadas: {\r\n    id: number,\r\n    prestacion: string\r\n  }[],\r\n  proveedor?: string\r\n}\r\n\r\nexport const PrestacionesSolicitadasCard = () => {\r\n  const [count, setCount] = useState(1)\r\n  const { register, control, formState, watch } = useFormContext<PrestacionesSolicitadasInputs>()\r\n\r\n  const { fields, append, remove } = useFieldArray({\r\n    control,\r\n    name: \"prestacionesSolicitadas\"\r\n  })\r\n\r\n  const formErrors = formState.errors\r\n  const hasErrors = !!formErrors.prestacionesSolicitadas || !!formErrors.proveedor\r\n\r\n  return <Card className=\"overflow-visible\">\r\n    <div className=\"overflow-hidden\">\r\n      <Accordion.Toggle as={Card.Header} className={\"text-light \" + (hasErrors ? \"bg-danger\" : \"bg-primary\")} eventKey=\"3\">\r\n        Prestaciones\r\n      </Accordion.Toggle>\r\n      <Accordion.Collapse eventKey=\"3\">\r\n        <div>\r\n          <Table className={formErrors.prestacionesSolicitadas ? \"is-invalid\": \"\"}>\r\n            <thead>\r\n              <tr>\r\n                <th style={{ width: 1 }}>#</th>\r\n                <th>Prestacion</th>\r\n                <th>Proveedor</th>\r\n                <th style={{ width: 1 }}></th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {fields.map((prestacionSolicitada, index) => {\r\n                return <tr key={prestacionSolicitada.id}>\r\n                  <td>{index + 1}</td>\r\n                  <td>\r\n                    <Form.Control \r\n                      style={{textTransform: \"uppercase\"}}\r\n                      isInvalid={!!(formState.errors.prestacionesSolicitadas && formState.errors.prestacionesSolicitadas[index]?.prestacion)}\r\n                      {...register(`prestacionesSolicitadas.${index}.prestacion` as const)}\r\n                    />\r\n                    <Form.Control.Feedback type=\"invalid\">{\r\n                      formState.errors.prestacionesSolicitadas && \r\n                      formState.errors.prestacionesSolicitadas[index]?.prestacion?.message\r\n                    }</Form.Control.Feedback>\r\n                  </td>\r\n                  <td>\r\n                    <Form.Control\r\n                      style={{textTransform: \"uppercase\"}}\r\n                      isInvalid={!!formState.errors.proveedor}\r\n                      {...register(\"proveedor\")}\r\n                    />\r\n                    <Form.Control.Feedback type=\"invalid\">{\r\n                      formState.errors.proveedor?.message\r\n                    }</Form.Control.Feedback>\r\n                  </td>\r\n                  <td>\r\n                    {/* <Button variant=\"link\" onClick={() => {\r\n                      console.log(\"Remove\", index)\r\n                      remove(index)\r\n                    }} className=\"btn-icon\"><FaMinus /></Button> */}\r\n                  </td>\r\n                </tr>\r\n              })}\r\n              {/* <tr>\r\n                <td></td>\r\n                <td></td>\r\n                <td></td>\r\n                <td></td>\r\n                <td>\r\n                  <Button variant=\"link\" onClick={() => {\r\n                    console.log(count)\r\n                    append({\r\n                      id: count\r\n                    })\r\n                    setCount(count => count+1)\r\n                  }} className=\"btn-icon\"><FaPlus /></Button>\r\n                </td>\r\n              </tr> */}\r\n            </tbody>\r\n          </Table>\r\n          <Form.Control.Feedback type=\"invalid\">{\r\n            //@ts-ignore\r\n            formErrors.prestacionesSolicitadas?.message}</Form.Control.Feedback>\r\n        </div>\r\n      </Accordion.Collapse>\r\n    </div>\r\n  </Card>\r\n}","export const EstadosAfi: {[k: number]: string} = {\r\n  1: \"Activo\",\r\n  2: \"Baja\"\r\n}","export const EstadosEmp: {[k: number]: string} = {\r\n  1: \"Activo\",\r\n  2: \"Baja\",\r\n  3: \"Baja temporal\"\r\n}","import { useEffect, useState } from \"react\"\r\nimport { AxiosError } from \"axios\"\r\nimport { Accordion, Alert, Button, Card,Col,Form, Spinner } from \"react-bootstrap\"\r\nimport { useForm, Controller, FormProvider } from \"react-hook-form\"\r\nimport moment from \"moment\"\r\nimport { yupResolver } from '@hookform/resolvers/yup'\r\nimport * as yup from \"yup\"\r\nimport { AseguradoCard, AseguradoInputs } from \"./AseguradoCard\"\r\nimport { PrestacionesSolicitadasInputs, PrestacionesSolicitadasCard } from \"./PrestacionesSolicitadasCard\"\r\nimport { useMutation } from \"react-query\"\r\nimport { Asegurado, SolicitudesAtencionExternaService } from \"../services\"\r\nimport { Regional, RegionalesTypeahead } from \"../../../../commons/components\"\r\nimport { useModal } from \"../../../../commons/reusable-modal\"\r\nimport { Permisos } from \"../../../../commons/auth/constants\"\r\nimport { useLoggedUser } from \"../../../../commons/auth/hooks\"\r\nimport { EstadosAfi, EstadosEmp } from \"../utils\"\r\n\r\ntype Inputs = AseguradoInputs & PrestacionesSolicitadasInputs & {\r\n  regional: Regional[]\r\n  medico: string\r\n  especialidad: string\r\n}\r\n\r\nconst hoy = moment()\r\n\r\nconst estadoAfiSchema = function(asegurado: any, schema: any) {\r\n  schema.oneOf(Object.values(EstadosAfi), \"Estado desconocido\")\r\n  if(asegurado.afiliacion.baja)\r\n    return schema.notOneOf([EstadosAfi[1]], `El asegurado figura como activo, pero hay un registro de su baja con fecha ${asegurado.afiliacion.baja.fechaRegistro}.`)\r\n  else\r\n    return schema.notOneOf([EstadosAfi[2]], `El asegurado figura como dado de baja, aunque no se encontraron registros de la misma.`)\r\n}\r\n\r\nconst bajaAfiSchema = function(asegurado: any, schema: any) {\r\n  return asegurado.afiliacion.baja ? schema.shape({\r\n    fechaValidezSeguro: yup.date().format().emptyStringTo(null).nullable()\r\n      .min(hoy, \"El seguro ya no tiene validez\")\r\n      .required(\"Fecha sin especificar, se asume que el seguro ya no tiene validez\")\r\n  }) : schema\r\n}\r\n\r\nconst estadoEmpSchema = function(empleador: any, schema: any) {\r\n  schema.oneOf(Object.values(EstadosEmp), \"Estado desconocido\")\r\n  if(empleador.fechaBaja){\r\n    schema.notOneOf(EstadosEmp[1], \"El empleador figura como activo, pero tiene fecha de baja\")\r\n  }\r\n  return schema\r\n}\r\n\r\nconst schema = yup.object().shape({\r\n  asegurado: yup.object().when(\"$asegurado\", function(asegurado: any, schema: any) {\r\n    if(!asegurado) return schema.test(\"\", \"\", function(value: any, context: any){\r\n      return context.createError({\r\n        message: \"Debe proporcionar los datos del afiliado\"\r\n      })\r\n    })\r\n    else return schema.shape({\r\n      matricula: yup.string().label(\"matricula\").trim().uppercase().required(),  // .matches(/^\\d{2}-\\d{4}-[a-zA-ZñÑ]{2,3}$/, \"Formato incorrecto.\"),\r\n      estado: estadoAfiSchema(asegurado, yup.string().label(\"estado\")),\r\n      fechaExtincion: yup.date().format().emptyStringTo(null).nullable().label(\"fecha de extinsion\").notRequired()\r\n        .min(hoy.toDate(), \"Fecha de extinsion alcanzada\"),\r\n      baja: bajaAfiSchema(asegurado, yup.object())\r\n    })\r\n  }),\r\n  titular: yup.object().when(\"$asegurado\", function(asegurado: any, schema: any){\r\n    if(asegurado?.tipo == 2) {\r\n      if(!asegurado.titular){\r\n        return schema.oneOf([NaN], \"No se encontraron datos del titular\")\r\n      }\r\n      if(asegurado?.afiliacion?.parentesco != 8)\r\n        return schema.shape({\r\n          estado: estadoAfiSchema(asegurado.titular, yup.string().label(\"estado\")),\r\n          baja: bajaAfiSchema(asegurado, yup.object())\r\n        })\r\n    }\r\n  }),\r\n  empleador: yup.object().when(\"$asegurado\", function(asegurado: any, schema: any){\r\n    if(asegurado){\r\n      const empleador = asegurado.empleador\r\n      return !!empleador ? schema.shape({\r\n        estado: estadoEmpSchema(empleador, yup.string().label(\"estado\")),\r\n        fechaBaja: yup.date().format().emptyStringTo(null).nullable().when(\"estado\", {\r\n          is: (estado: string) => estado == EstadosEmp[2] || estado == EstadosEmp[3],\r\n          then: (schema) => schema.required(\"Fecha sin especificar, se asume que el seguro ya no tiene validez\")\r\n                   .min(hoy.subtract(2, \"months\").toDate(), \"Han pasado mas de 2 meses desde la baja, el seguro ya no tiene validez\")\r\n        }),\r\n        enMora: yup.string().oneOf([\"No\"], \"El empleador esta en mora\")\r\n      }) : schema.oneOf([NaN], \"No se encontraron datos del empleador\")\r\n    }\r\n  }),\r\n  regional: yup.array().length(1, \"Debe seleccionar una regional\"),\r\n  medico: yup.string().trim().uppercase().required(),\r\n  especialidad: yup.string().trim().uppercase().required(),\r\n  proveedor: yup.string().trim().uppercase().required(),\r\n  prestacionesSolicitadas: yup.array().of(yup.object().shape({\r\n    prestacion: yup.string().trim().uppercase().required(\"Debe indicar una prestacion\")\r\n  })).min(1, \"Debe solicitar un servicio\").max(1, \"Solo puede solicitar un servicio\")\r\n})\r\n\r\nexport const SolicitudAtencionExternaForm = ()=>{\r\n  const [asegurado, setAsegurado] = useState<Asegurado|null>(null)\r\n  \r\n  const formMethods = useForm<Inputs>({\r\n    mode: \"onBlur\",\r\n    context: {\r\n      asegurado\r\n    },\r\n    resolver: yupResolver(schema),\r\n    defaultValues: {\r\n      regional: [],\r\n      medico: \"\",\r\n      proveedor: \"\",\r\n      prestacionesSolicitadas: [{\r\n        id: 0,\r\n        prestacion: \"\"\r\n      }],\r\n      asegurado: {},\r\n      titular: {},\r\n      empleador: {}\r\n    }\r\n  })\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    formState,\r\n    control,\r\n    reset,\r\n    setValue,\r\n    setError,\r\n    watch\r\n  } = formMethods\r\n\r\n  const dm11Viewer = useModal(\"pdfModal\")\r\n\r\n  const loggedUser = useLoggedUser()\r\n  \r\n  const registrar = useMutation((values: Inputs)=>{\r\n    return SolicitudesAtencionExternaService.registrar(\r\n      values.regional![0].id,\r\n      asegurado!.id,\r\n      values.medico,\r\n      values.especialidad,\r\n      values.proveedor!,\r\n      values.prestacionesSolicitadas.map(({prestacion})=>({prestacion}))\r\n    )\r\n  }, {\r\n    onSuccess: ({data: {urlDm11, regionalId}}) => {\r\n      if(loggedUser?.canAny([\r\n        Permisos.EMITIR_SOLICITUDES_DE_ATENCION_EXTERNA,\r\n        Permisos.EMITIR_SOLICITUDES_DE_ATENCION_EXTERNA_REGISTRADO_POR\r\n      ]) || (loggedUser?.can(Permisos.EMITIR_SOLICITUDES_DE_ATENCION_EXTERNA_MISMA_REGIONAL) && regionalId == loggedUser?.regionalId)){\r\n        dm11Viewer.open({url: urlDm11, title: \"Formulario D.M. - 11\"})\r\n        reset()\r\n        setAsegurado(null)\r\n      }\r\n    }\r\n  })\r\n\r\n  const formErrors = formState.errors\r\n  const registrarError = registrar.error as AxiosError\r\n\r\n  useEffect(()=>{\r\n    if(registrarError?.response?.status == 422){\r\n      const {errors} = registrarError.response?.data\r\n      Object.keys(errors).forEach((key: any)=>{\r\n        let localKey = key\r\n        if(key == \"asegurado.id\") localKey = \"asegurado.matricula\"\r\n        if(key == \"empleador.aportes\") localKey = \"empleador.enMora\"\r\n        setError(localKey, {type: \"serverError\", message: errors[key]})\r\n      })\r\n    }\r\n  }, [registrarError])\r\n\r\n  const renderAlert = ()=>{\r\n    if(registrar.isSuccess){\r\n      return <Alert variant=\"success\">\r\n        La operacion se realizó exitosamente\r\n      </Alert>\r\n    }\r\n    if(registrar.isError){\r\n      return <Alert variant=\"danger\">\r\n        Ocurrio un error al procesar la solicitud\r\n      </Alert>\r\n    }\r\n    return null\r\n  }\r\n\r\n  return <FormProvider {...formMethods}>\r\n    <Form onSubmit={handleSubmit((values)=>{\r\n      registrar.mutate(values)\r\n    })}>\r\n      <h1 style={{fontSize: \"1.75rem\"}}>Solicitud de atención externa</h1>\r\n      {renderAlert()}\r\n      <Accordion className=\"mt-3\"  defaultActiveKey=\"0\">\r\n        <AseguradoCard value={asegurado} onChange={(asegurado)=>{\r\n          setAsegurado(asegurado)\r\n        }} />\r\n        <Card className=\"overflow-visible\">\r\n          <div className=\"overflow-hidden\">\r\n            <Accordion.Toggle as={Card.Header} className={\"text-light \" + (formErrors.regional ? \"bg-danger\" : \"bg-primary\")} eventKey=\"1\">\r\n              Regional\r\n            </Accordion.Toggle>\r\n            <Accordion.Collapse eventKey=\"1\">\r\n              <Card.Body>\r\n                <Form.Row>\r\n                  <Form.Group as={Col} className=\"position-unset\">\r\n                    <Form.Label>Nombre</Form.Label>\r\n                    <Controller \r\n                      control={control}\r\n                      name=\"regional\"\r\n                      render={({field, fieldState})=>{\r\n                        return <RegionalesTypeahead\r\n                          //@ts-ignore\r\n                          style={{textTransform: \"uppercase\"}}                        \r\n                          inputProps={{\r\n                            style: {textTransform: \"uppercase\"}\r\n                          }}\r\n                          id=\"solicitud-atencion-externa-form/regionales\"\r\n                          filterBy={(regional: Regional)=>{\r\n                            return (loggedUser?.can(Permisos.REGISTRAR_SOLICITUDES_DE_ATENCION_EXTERNA) ? true : \r\n                              (regional.id == loggedUser?.regionalId))\r\n                          }}\r\n                          isInvalid={!!fieldState.error}\r\n                          feedback={fieldState.error?.message}\r\n                          selected={field.value}\r\n                          onBlur={field.onBlur}\r\n                          onChange={(regional)=>{\r\n                            setValue(\"medico\", \"\")\r\n                            setValue(\"proveedor\", \"\")\r\n                            field.onChange(regional)\r\n                          }}\r\n                        />\r\n                      }}\r\n                    />\r\n                  </Form.Group> \r\n                </Form.Row>\r\n              </Card.Body>\r\n            </Accordion.Collapse>\r\n          </div>\r\n        </Card>\r\n        <Card className=\"overflow-visible\">\r\n          <div className=\"overflow-hidden\">\r\n            <Accordion.Toggle as={Card.Header}  className={\"text-light \" + (formErrors.medico ? \"bg-danger\" : \"bg-primary\")} eventKey=\"2\">\r\n              Médico\r\n            </Accordion.Toggle>\r\n            <Accordion.Collapse eventKey=\"2\">\r\n              <Card.Body>\r\n                <Form.Row>\r\n                  <Form.Group as={Col}>\r\n                    <Form.Label>Nombre</Form.Label>\r\n                    <Form.Control\r\n                      style={{textTransform: \"uppercase\"}}\r\n                      isInvalid={!!formState.errors.medico}\r\n                      {...register(\"medico\")}\r\n                    />\r\n                    <Form.Control.Feedback type=\"invalid\">{formState.errors?.medico?.message}</Form.Control.Feedback>\r\n                  </Form.Group>\r\n                  <Form.Group as={Col}>\r\n                    <Form.Label>Especialidad</Form.Label>\r\n                    <Form.Control\r\n                      style={{textTransform: \"uppercase\"}}\r\n                      isInvalid={!!formState.errors.especialidad}\r\n                      {...register(\"especialidad\")}\r\n                    />\r\n                    <Form.Control.Feedback type=\"invalid\">{formState.errors?.especialidad?.message}</Form.Control.Feedback>\r\n                  </Form.Group>\r\n                </Form.Row>\r\n              </Card.Body>\r\n            </Accordion.Collapse>\r\n          </div>\r\n        </Card>\r\n        <PrestacionesSolicitadasCard />\r\n      </Accordion>\r\n      <Button className=\"mt-3\" type=\"submit\">\r\n        {registrar.isLoading ? <Spinner className=\"mr-2\" animation=\"border\" size=\"sm\"/> : null}\r\n        <span>Guardar</span>\r\n      </Button>\r\n    </Form>\r\n  </FormProvider>\r\n}","import { useMemo } from \"react\"\r\nimport { Route, Switch, useRouteMatch } from 'react-router-dom';\r\nimport SidebarLayout from '../../commons/components/layouts/SidebarLayout';\r\nimport { FaProcedures, /*FaCoins,*/ FaHandshake, FaUserMd } from 'react-icons/fa';  \r\nimport { GiRodOfAsclepius } from 'react-icons/gi';  \r\nimport { BiTransfer } from 'react-icons/bi';\r\nimport ListaMoraIndex from './mora/components/ListaMoraIndex';\r\nimport ListaMoraItemForm from './mora/components/ListaMoraItemForm';\r\nimport { FcDebt } from '../../commons/components/icons/FcDebt';\r\nimport { SolicitudAtencionExternaIndex } from './solicitud_atencion_externa/components/SolicitudAtencionExternaIndex';\r\nimport { SolicitudAtencionExternaForm } from './solicitud_atencion_externa/components/SolicitudAtencionExternaForm';\r\nimport { SolicitudATPolicy } from './solicitud_atencion_externa/policies';\r\nimport { Permisos, ProtectedRoute, useLoggedUser } from '../../commons/auth';\r\nimport { ListaMoraPolicy } from \"./mora/policies\";\r\nimport { Image } from \"react-bootstrap\";\r\n\r\nexport const ClinicaApp = ()=>{\r\n  const { url } = useRouteMatch()\r\n  const loggedUser = useLoggedUser()\r\n\r\n  const sidebarItems = useMemo(()=>{\r\n    const items = [] as any[]\r\n\r\n    if(ListaMoraPolicy.index(loggedUser)){\r\n      items.push(\r\n        {\r\n          id: \"lista-mora\",\r\n          path: `${url}/lista-mora`,\r\n          title: \"Lista de mora\",\r\n          icon: <FcDebt  />\r\n        }\r\n      )\r\n    }\r\n\r\n    if(SolicitudATPolicy.index(loggedUser)) {\r\n      items.push({\r\n        id: \"atencion-externa\",\r\n        path: `${url}/atencion-externa`,\r\n        title: \"Atención externa\",\r\n        icon: <BiTransfer />\r\n      })\r\n    }\r\n    // if(MedicoPolicy.index(loggedUser)){\r\n    //   items.push({\r\n    //     id: \"medicos\",\r\n    //     path: `${url}/medicos`,\r\n    //     title: \"Medicos\",\r\n    //     icon: <FaUserMd />,\r\n    //   })\r\n    // }\r\n    // if(ProveedorPolicy.index(loggedUser)){\r\n    //   items.push({\r\n    //     id: \"proveedores\",\r\n    //     path: `${url}/proveedores`,\r\n    //     title: \"Proveedores\",\r\n    //     icon: <FaHandshake />\r\n    //   })\r\n    // }\r\n\r\n    // items.push(\r\n    //       {\r\n    //         id: \"especialidades\",\r\n    //         path: `${url}/especialidades`,\r\n    //         title: \"Especialidades\",\r\n    //         icon: <GiRodOfAsclepius />,\r\n    //       },\r\n    //       {\r\n    //         id: \"prestaciones\",\r\n    //         path: `${url}/prestaciones`,\r\n    //         title: \"Prestaciones\",\r\n    //         icon: <FaProcedures />,\r\n    //       }\r\n    // )\r\n    return items\r\n  }, [loggedUser])\r\n\r\n  return <SidebarLayout sidebar={{\r\n    header: <div className=\"d-flex justify-content-center\"><Image src=\"/logo-lg.png\" /></div>,\r\n    items: sidebarItems\r\n  }}>\r\n    <Switch>\r\n      <ProtectedRoute exact path={`${url}/lista-mora/agregar`}\r\n        authorize={ListaMoraPolicy.index}>\r\n        <ListaMoraItemForm />\r\n      </ProtectedRoute>\r\n      <Route path={`${url}/lista-mora`}>\r\n        <ListaMoraIndex />\r\n      </Route>\r\n      <ProtectedRoute exact path={`${url}/atencion-externa`}\r\n        authorize={SolicitudATPolicy.index}>\r\n        <SolicitudAtencionExternaIndex />\r\n      </ProtectedRoute>\r\n      <ProtectedRoute exact path={`${url}/atencion-externa/registrar`}\r\n        authorize={SolicitudATPolicy.register}\r\n      >\r\n        <SolicitudAtencionExternaForm />\r\n      </ProtectedRoute>\r\n      {/* <ProtectedRoute exact path={`${url}/medicos`}\r\n        authorize={MedicoPolicy.index}\r\n      >\r\n        <MedicosIndex />\r\n      </ProtectedRoute>\r\n      <ProtectedRoute exact path={[`${url}/medicos/registrar`, `${url}/medicos/:id/editar`]}\r\n        authorize={(user, path) => path == `${url}/medicos/registrar` ? MedicoPolicy.register(user) : MedicoPolicy.edit(user) }\r\n      >\r\n        <MedicosForm />\r\n      </ProtectedRoute>\r\n      <ProtectedRoute exact path={`${url}/medicos/:id`}\r\n        authorize={MedicoPolicy.view}\r\n      >\r\n        <MedicoView />\r\n      </ProtectedRoute>\r\n      <ProtectedRoute exact path={`${url}/proveedores`}\r\n        authorize={ProveedorPolicy.index}\r\n      >\r\n        <ProveedoresIndex />\r\n      </ProtectedRoute>\r\n      <ProtectedRoute exact path={`${url}/proveedores/registrar`}\r\n        authorize={ProveedorPolicy.register}\r\n      >\r\n        <ProveedorWizard />\r\n      </ProtectedRoute>\r\n      <ProtectedRoute exact path={`${url}/proveedores/:id`}\r\n        authorize={ProveedorPolicy.view}\r\n      >\r\n        <ProveedorView />\r\n      </ProtectedRoute>\r\n      <ProtectedRoute exact path={`${url}/proveedores/:id/editar`}\r\n        authorize={ProveedorPolicy.edit}>\r\n        <ProveedorForm />\r\n      </ProtectedRoute>\r\n      <ProtectedRoute exact path={`${url}/proveedores/:idProveedor/editar-contacto`}\r\n        authorize={(user)=>ProveedorPolicy.register(user) || ProveedorPolicy.edit(user)}\r\n      >\r\n        <ContactoForm />\r\n      </ProtectedRoute>\r\n      <ProtectedRoute exact path={`${url}/proveedores/:idProveedor/contratos/registrar`}\r\n        authorize={ContratoPolicy.register}\r\n      >\r\n        <ContratoForm />\r\n      </ProtectedRoute>\r\n      <ProtectedRoute exact path={`${url}/proveedores/:idProveedor/contratos/:id`}\r\n        authorize={ProveedorPolicy.view}\r\n      >\r\n        <ContratoView />\r\n      </ProtectedRoute>\r\n      <Route path={`${url}/especialidades`}>\r\n        <EspecialidadesIndex />\r\n      </Route>\r\n      <Route path={`${url}/prestaciones`}>\r\n        <PrestacionesIndex />\r\n      </Route> */}\r\n    </Switch>\r\n    \r\n    {/* <Route exact path={[`${url}/prestaciones/registrar`, `${url}/prestaciones/:id/editar`]}>\r\n      <PrestacionForm />\r\n    </Route>\r\n    <Route exact path={[`${url}/especialidades/registrar`, `${url}/especialidades/:id/editar`]}>\r\n      <EspecialidadForm />\r\n    </Route> */}\r\n  </SidebarLayout>\r\n}\r\n\r\nexport default ClinicaApp"],"sourceRoot":""}