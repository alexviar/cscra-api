/*! For license information please see main.89792469.chunk.js.LICENSE.txt */
(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{111:function(e){e.exports=JSON.parse('{"a":{"required":"Este campo es requerido.","maxLength":"Este campo no debe tener mas de {0} caracteres","pattern":"El valor no coincide con el patron esperado. {0}"}}')},136:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var r=a(54),n=a.n(r),c=a(92),s=a(73),i=a.n(s),o=a(93),l=n.a.create({baseURL:c.b,timeout:3e4,transformResponse:[function(e){try{var t=Object(o.a)(JSON.parse(e));return console.log("TransformedResponse",t),t}catch(a){console.error("OnTransformResponse",e,a)}return e}]});l.defaults.withCredentials=!0,l.interceptors.request.use((function(e){return e.headers.Accept="application/json",e.paramsSerializer=function(e){return i.a.stringify(e,{arrayFormat:"brackets",encode:!1})},e}))},137:function(e,t){},138:function(e,t){},166:function(e,t,a){},191:function(e,t){},206:function(e,t,a){},207:function(e,t,a){},209:function(e,t,a){},210:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a.n(r),c=a(36),s=a.n(c),i=a(231),o=a(238),l=a(232),d=a(233),j=a(219),u=a(147),b=a(224),O=a(146),h=a(30),m=a(18),x=a(154),p=a(17),f=a(6),v=a(217),g=a(34),y=a(56),C=a(2),N=function(e){return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)(h.b,{to:e.path,className:"list-group-item list-group-item-action border-0 text-nowrap",style:{padding:".5rem 1rem"},children:[e.icon,Object(C.jsx)("span",{style:{verticalAlign:"middle",marginLeft:"0.5rem"},children:e.title})]},e.id),e.items&&e.items.map((function(e){return Object(C.jsxs)(h.b,{to:e.path,style:{padding:".5rem 1rem",paddingLeft:"2rem"},className:"list-group-item list-group-item-action border-0 text-nowrap",children:[e.icon,Object(C.jsx)("span",{style:{verticalAlign:"middle",marginLeft:"0.5rem"},children:e.title})]},e.id)}))]})},w=function(e){var t=e.className,a=void 0===t?"":t,r=e.side,n=void 0===r?"right":r,c=e.title,s=void 0===c?"":c,i=e.items,o=void 0===i?[]:i;e.renderItem,Object(y.a)(e,["className","side","title","items","renderItem"]);return Object(C.jsxs)("div",{className:"".concat(a,"  ").concat({left:"border-left",right:"border-right"}[n]),id:"sidebar-wrapper",children:[Object(C.jsx)("div",{className:"sidebar-heading",children:s}),Object(C.jsx)("div",{className:"list-group",children:o.map((function(e){return Object(C.jsx)(N,Object(f.a)({},e),e.id)}))})]})},S=(a(166),function(e){var t=e.sidebar,a=e.children,r=Object(g.c)((function(e){return e.main.showSidebar})),n=Object(m.j)();n.path,n.url;return Object(C.jsxs)("div",{className:"position-relative d-flex flex-grow-1 bg-light"+(r?"":" toggled"),id:"wrapper",children:[Object(C.jsx)(w,Object(f.a)({className:"bg-white shadow-sm"},t)),Object(C.jsx)(v.a,{className:"d-flex flex-column flex-grow-1",style:{overflow:"auto"},children:Object(C.jsx)("div",{className:"d-flex flex-column bg-white rounded-lg shadow-sm m-2 p-3 flex-grow-1",children:a})})]})}),I=a(152),k=a(15),E=a(218),L=a(65),F=a(226),z=a(220),R=a(228),P=a(235),M=a(234),A=function(e){for(var t=e.current,a=e.minimum,r=e.maximum,n=e.total,c=Object(y.a)(e,["current","minimum","maximum","total"]),s=[],i=function(e){t==e?s.push(Object(C.jsx)(M.a.Item,{active:!0,children:e},e)):s.push(Object(C.jsx)(M.a.Item,{onClick:function(){return c.onClickItem(e)},children:e},e))},o=a;o<=r;o++)i(o);return Object(C.jsxs)(M.a,{children:[a>1?Object(C.jsx)(M.a.First,{onClick:c.onClickFirst}):null,t>1?Object(C.jsx)(M.a.Prev,{onClick:c.onClickPrev}):null,s,t<n?Object(C.jsx)(M.a.Next,{onClick:c.onClickNext}):null,r<n?Object(C.jsx)(M.a.Last,{onClick:c.onClickLast}):null]})},T=n.a.forwardRef((function(e,t){e.children,e.className;var a=Object(y.a)(e,["children","className"]);return Object(C.jsx)(O.a,Object(f.a)(Object(f.a)({className:"py-0 px-1"},a),{},{ref:t,children:Object(C.jsx)(p.f,{})}))})),_=a(29),G=function(e){return _.b.get("empleadores",{params:{filter:{numero_patronal:e},first:!0}})},B=function(e,t){return _.b.get("/lista-mora",{params:{page:e,filter:{numero_patronal:t.numeroPatronal,nombre:t.nombre,nit:t.nit,regional_id:t.regionalId}}})},D=function(e){return _.b.post("lista-mora/agregar",{empleador_id:e})},U=function(e){return console.log(e),_.b.post("lista-mora/quitar",{empleador_id:e})},q=function(e){return null},K=function(){var e=Object(r.useState)(0),t=Object(k.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)({current:1,size:10}),s=Object(k.a)(c,2),i=s[0],o=s[1],l=Object(r.useState)({}),d=Object(k.a)(l,2),b=d[0],m=d[1],x=Object(r.useState)(!1),v=Object(k.a)(x,2),g=(v[0],v[1]),y=Object(R.a)(["fetchListaMora",i.current,i.size],(function(){return B(i,b)}),{keepPreviousData:!0,refetchOnWindowFocus:!1,refetchOnReconnect:!1,onSuccess:function(e){var t=e.data.meta;n(t.total)}}),N=Object(P.a)((function(e){return U(e)}),{onSuccess:function(){y.refetch()}});return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("h1",{style:{fontSize:"2rem"},children:"Empleadores en mora"}),Object(C.jsxs)("div",{className:"d-flex flex-nowrap",children:[Object(C.jsx)(j.a,{className:"mr-auto flex-nowrap",children:Object(C.jsxs)(u.a,{className:"d-flex flex-nowrap align-items-center",children:[Object(C.jsx)("span",{children:"Mostrar"}),Object(C.jsxs)(F.a.Control,{className:"mx-2",as:"select",value:i.size,onChange:function(e){var t=e.target.value;o((function(e){return Object(f.a)(Object(f.a)({},e),{},{size:parseInt(t)})}))},children:[Object(C.jsx)("option",{value:10,children:"10"}),Object(C.jsx)("option",{value:20,children:"20"}),Object(C.jsx)("option",{value:30,children:"30"}),Object(C.jsx)("option",{value:50,children:"50"}),Object(C.jsx)("option",{value:100,children:"100"})]}),Object(C.jsx)("span",{children:"filas"})]})}),Object(C.jsxs)(j.a,{className:"ml-auto flex-nowrap",children:[Object(C.jsx)(u.a,{className:"pr-0",xs:"auto",children:Object(C.jsx)(O.a,{className:"my-2",onClick:function(){y.refetch()},children:Object(C.jsx)(p.k,{})})}),Object(C.jsx)(u.a,{className:"pr-0",xs:"auto",children:Object(C.jsx)(O.a,{className:"my-2",onClick:function(){g((function(e){return!e}))},children:Object(C.jsx)(p.g,{})})}),Object(C.jsx)(u.a,{xs:"auto",children:Object(C.jsx)(O.a,{as:h.b,to:"/clinica/lista-mora/agregar",className:"my-2",children:"+Agregar"})})]})]}),Object(C.jsx)(q,{onApply:function(e){m(e)}}),Object(C.jsxs)(z.a,{responsive:!0,className:"text-nowrap",children:[Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{style:{width:1},children:"#"}),Object(C.jsx)("th",{style:{width:1},children:"N\xba Patronal"}),Object(C.jsx)("th",{children:"Nombre"}),Object(C.jsx)("th",{style:{width:1}})]})}),Object(C.jsx)("tbody",{children:function(){if(y.isFetching)return Object(C.jsx)("tr",{children:Object(C.jsxs)("td",{className:"bg-light text-center",colSpan:100,children:[Object(C.jsx)(E.a,{className:"mr-2",variant:"primary",animation:"border",size:"sm"}),"Cargando"]})});if(y.isError){var e,t,a=y.error;return Object(C.jsx)("tr",{children:Object(C.jsx)("td",{className:"bg-danger text-light text-center",colSpan:100,children:(null===(e=a.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||a.message})})}return y.data.data.records.map((function(e,t){return Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{style:{lineHeight:"26px"},children:t+1}),Object(C.jsx)("td",{style:{lineHeight:"26px"},children:e.numeroPatronal}),Object(C.jsx)("td",{style:{lineHeight:"26px"},children:e.nombre}),Object(C.jsx)("td",{children:Object(C.jsxs)(L.a,{children:[Object(C.jsx)(L.a.Toggle,{as:T,variant:"link",id:"dropdown-".concat(e.id)}),Object(C.jsx)(L.a.Menu,{children:Object(C.jsx)(L.a.Item,{className:"text-danger",href:"#",onClick:function(){window.confirm("\xbfEst\xe1 seguro?")&&N.mutate(e.empleadorId)},children:"Quitar"})})]})})]},e.id)}))}()})]}),Object(C.jsxs)(j.a,{children:[Object(C.jsx)(u.a,{children:Object(C.jsx)("span",{children:"Se encontraron ".concat(a," resultados")})}),Object(C.jsx)(u.a,{children:Object(C.jsx)(A,{current:i.current,minimum:Math.max(1,i.current-4),maximum:Math.min(Math.trunc((a-i.size)/i.size)+1,i.current+4),total:(a-i.size)/i.size+1,onClickFirst:function(){return o((function(e){return Object(f.a)(Object(f.a)({},e),{},{current:1})}))},onClickPrev:function(){return o((function(e){return Object(f.a)(Object(f.a)({},e),{},{current:e.current-1})}))},onClickItem:function(e){return o((function(e){return Object(f.a)(Object(f.a)({},e),{},{current:e.current})}))},onClickNext:function(){return o((function(e){return Object(f.a)(Object(f.a)({},e),{},{current:e.current+1})}))},onClickLast:function(){return o((function(e){return Object(f.a)(Object(f.a)({},e),{},{current:(a-e.size)/e.size+1})}))}})})]})]})},H=a(221),V=a(23),Q=a(111),W=function(){return{value:!0,message:Q.a.required}},J=function(){var e,t,a,n=Object(V.d)({mode:"onBlur",defaultValues:{nombre:"",numeroPatronal:""}}),c=n.handleSubmit,s=n.register,i=n.watch,o=n.setValue,l=n.reset,d=n.formState,j=i("numeroPatronal"),b=Object(R.a)(["buscarEmpleadorPorPatronal",j],(function(){return G(j)}),{enabled:!1}),h=Object(P.a)((function(e){return D(e)}));return console.log(h),Object(r.useEffect)((function(){b.data&&o("nombre",b.data.data.nombre)}),[b.data]),Object(r.useEffect)((function(){h.data&&l({nombre:"",numeroPatronal:""})}),[h.data]),Object(C.jsxs)(F.a,{id:"form-empleador-mora",onSubmit:c((function(e){h.mutate(b.data.data.id)})),children:[Object(C.jsx)("h1",{style:{fontSize:"2rem"},children:"Agregar empleador en mora"}),b.isError?Object(C.jsx)(H.a,{variant:"danger",children:(null===(e=b.error.response)||void 0===e?void 0:e.message)||b.error.message}):null,h.isError?Object(C.jsx)(H.a,{variant:"danger",children:(null===(t=h.error.response)||void 0===t?void 0:t.message)||h.error.message}):null,Object(C.jsx)(F.a.Row,{children:Object(C.jsxs)(F.a.Group,{as:u.a,sm:4,children:[Object(C.jsx)(F.a.Label,{children:"N\xba Patronal"}),Object(C.jsx)(F.a.Control,Object(f.a)({},s("numeroPatronal")))]})}),Object(C.jsxs)(O.a,{className:"mb-3",onClick:function(){l({numeroPatronal:j,nombre:""}),b.refetch()},children:[b.isFetching?Object(C.jsx)(E.a,{className:"mr-2",animation:"border",size:"sm"}):Object(C.jsx)(p.j,{className:"mr-2"}),"Buscar"]}),Object(C.jsx)(F.a.Row,{children:Object(C.jsxs)(F.a.Group,{as:u.a,children:[Object(C.jsx)(F.a.Label,{children:"Nombre"}),Object(C.jsx)(F.a.Control,Object(f.a)({disabled:!0,isInvalid:!!d.errors.nombre},s("nombre",{required:W()}))),Object(C.jsx)(F.a.Control.Feedback,{type:"invalid",children:null===(a=d.errors.nombre)||void 0===a?void 0:a.message})]})}),Object(C.jsxs)(O.a,{type:"subimt",children:[h.isLoading?Object(C.jsx)(E.a,{animation:"border",size:"sm"}):null,"Agregar"]})]})},X=a(229),Z=a(236),$=a(222),Y=function(e,t){return _.b.get("/especialidades",{params:{filter:{nombre:t||void 0},page:e}})},ee=function(e,t,a){var r=new FormData;return r.append("archivo",e,e.name),r.append("separador",t),r.append("formato",a),_.b.post("/especialidades/importar",r,{headers:{"Content-Type":"multipart/form-data"}})},te=function(e){var t=Object(V.d)(),a=t.register,r=t.handleSubmit;return Object(C.jsx)(F.a,{onSubmit:r((function(t){var a=t.nombre;e.onSearch(a)})),children:Object(C.jsxs)(F.a.Row,{className:"flex-nowrap",children:[Object(C.jsxs)(u.a,{children:[Object(C.jsx)(F.a.Label,{htmlFor:"nombre",srOnly:!0,children:"Nombre"}),Object(C.jsx)(F.a.Control,Object(f.a)({id:"nombre",style:{minWidth:"10rem"}},a("nombre")))]}),Object(C.jsx)(u.a,{xs:"auto",children:Object(C.jsx)(O.a,{className:"ml-2",type:"submit",children:Object(C.jsx)(p.j,{})})})]})})},ae=a(225),re=function(e){var t,a,n,c=e.modalRef,s=Object(r.useState)(!1),i=Object(k.a)(s,2),o=i[0],l=i[1],d=Object(V.d)({mode:"onBlur",defaultValues:{archivo:null,separador:",",formatoSaltoLinea:"UNIX",aggrement:!1}}),b=d.register,h=d.formState,m=d.handleSubmit,x=Object(P.a)((function(e){return ee(e.archivo,e.separador,e.formatoSaltoLinea)}));return Object(r.useEffect)((function(){c.current={show:l}}),[]),Object(C.jsxs)(ae.a,{centered:!0,show:o,onHide:function(){return l(!1)},children:[Object(C.jsx)(ae.a.Header,{children:"Importar Datos"}),Object(C.jsx)(ae.a.Body,{children:Object(C.jsxs)(F.a,{id:"importar-especialidades-form",onSubmit:m((function(e){var t=e.archivo,a=e.separador,r=e.formatoSaltoLinea;x.mutate({archivo:t[0],separador:a,formatoSaltoLinea:r})})),children:[Object(C.jsxs)(F.a.Group,{as:j.a,children:[Object(C.jsx)(F.a.Label,{column:!0,sm:4,children:"Archivo"}),Object(C.jsx)(u.a,{className:"d-flex align-items-center",sm:"auto",children:Object(C.jsx)(F.a.File,Object(f.a)(Object(f.a)({isInvalid:!!h.errors.archivo},b("archivo",{required:W()})),{},{feedback:null===(t=h.errors.archivo)||void 0===t?void 0:t.message}))})]}),Object(C.jsxs)(F.a.Group,{as:j.a,children:[Object(C.jsx)(F.a.Label,{column:!0,sm:4,children:"Separador"}),Object(C.jsxs)(u.a,{xs:"auto",children:[Object(C.jsx)(F.a.Control,Object(f.a)({className:"text-center",maxLength:1,style:{width:"2.5rem"},isInvalid:!!h.errors.separador},b("separador",{required:W()}))),Object(C.jsx)(F.a.Control.Feedback,{type:"invalid",children:null===(a=h.errors.separador)||void 0===a?void 0:a.message})]})]}),Object(C.jsxs)(F.a.Group,{as:j.a,children:[Object(C.jsx)(F.a.Label,{column:!0,sm:4,children:"Salto de linea"}),Object(C.jsxs)(u.a,{className:"d-flex",xs:"auto",children:[Object(C.jsx)(F.a.Check,Object(f.a)({inline:!0,type:"radio",label:"DOS",value:"DOS"},b("formatoSaltoLinea"))),Object(C.jsx)(F.a.Check,Object(f.a)({inline:!0,type:"radio",label:"UNIX",value:"UNIX"},b("formatoSaltoLinea")))]})]}),Object(C.jsx)(F.a.Check,Object(f.a)({label:"Entiendo los riesgos y he revisado cuidadosamente el contenido del archivo.",isInvalid:!!h.errors.aggrement,feedback:null===(n=h.errors.aggrement)||void 0===n?void 0:n.message},b("aggrement",{required:W()})))]})}),Object(C.jsxs)(ae.a.Footer,{children:[Object(C.jsx)(O.a,{variant:"danger",type:"submit",form:"importar-especialidades-form",children:"Importar"}),Object(C.jsx)(O.a,{children:"Cancelar"})]})]})},ne=function(){var e=Object(r.useState)(0),t=Object(k.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)({current:1,size:10}),s=Object(k.a)(c,2),i=s[0],o=s[1],l=Object(r.useState)(""),d=Object(k.a)(l,2),b=d[0],h=d[1],m=Object(r.useRef)(),x=Object(R.a)(["buscarEspecialidades",i,b],(function(){return Y(i,b)}),{keepPreviousData:!0,refetchOnReconnect:!1,refetchOnWindowFocus:!1,onSuccess:function(e){var t=e.data.meta;n(t.total)}});return Object(C.jsxs)("div",{className:"px-1",children:[Object(C.jsx)("h2",{style:{fontSize:"1.75rem"},children:"Especialidades"}),Object(C.jsx)("div",{className:"d-flex mb-2",children:Object(C.jsxs)(L.a,{className:"ml-auto",as:$.a,children:[Object(C.jsx)(O.a,{children:"Nuevo"}),Object(C.jsx)(L.a.Toggle,{split:!0,id:"especialidades-dropdown"}),Object(C.jsx)(L.a.Menu,{children:Object(C.jsx)(L.a.Item,{href:"#",onClick:function(){m.current&&m.current.show(!0)},children:"Importar"})})]})}),Object(C.jsxs)(j.a,{children:[Object(C.jsx)(u.a,{className:"mb-2",children:Object(C.jsx)(te,{onSearch:function(e){h(e)}})}),Object(C.jsx)(u.a,{className:"mb-2",xs:"auto",children:Object(C.jsxs)("div",{className:"d-flex flex-row flex-nowrap align-items-center",children:[Object(C.jsx)("span",{children:"Mostrar"}),Object(C.jsxs)(F.a.Control,{className:"mx-2",as:"select",value:i.size,onChange:function(e){var t=e.target.value;o((function(e){return Object(f.a)(Object(f.a)({},e),{},{size:parseInt(t)})}))},children:[Object(C.jsx)("option",{value:10,children:"10"}),Object(C.jsx)("option",{value:20,children:"20"}),Object(C.jsx)("option",{value:30,children:"30"}),Object(C.jsx)("option",{value:50,children:"50"}),Object(C.jsx)("option",{value:100,children:"100"})]}),Object(C.jsx)("span",{children:"filas"})]})})]}),Object(C.jsxs)(z.a,{responsive:!0,children:[Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{style:{width:1},children:"#"}),Object(C.jsx)("th",{children:"Nombre"}),Object(C.jsx)("th",{style:{width:1}})]})}),Object(C.jsx)("tbody",{children:function(){if(x.isFetching)return Object(C.jsx)("tr",{children:Object(C.jsxs)("td",{className:"bg-light text-center",colSpan:100,children:[Object(C.jsx)(E.a,{className:"mr-2",variant:"primary",animation:"border",size:"sm"}),"Cargando"]})});if(x.isError){var e,t,a=x.error;return Object(C.jsx)("tr",{children:Object(C.jsx)("td",{className:"bg-danger text-light text-center",colSpan:100,children:(null===(e=a.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||a.message})})}var r=x.data.data.records;return 0==r.length?Object(C.jsx)("tr",{children:Object(C.jsx)("td",{className:"bg-light text-center",colSpan:100,children:"No se encontraron resultados"})}):r.map((function(e,t){return Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:t+1}),Object(C.jsx)("td",{children:e.nombre}),Object(C.jsx)("td",{children:Object(C.jsxs)(L.a,{children:[Object(C.jsx)(L.a.Toggle,{as:T,variant:"link",id:"dropdown-especialidad-".concat(e.id)}),Object(C.jsx)(L.a.Menu,{children:Object(C.jsx)(L.a.Item,{className:"text-danger",href:"#",onClick:function(){window.confirm("\xbfEst\xe1 seguro?")},children:"Eliminar"})})]})})]},e.id)}))}()})]}),Object(C.jsxs)("div",{className:"d-flex flex-row",children:[Object(C.jsx)("span",{className:"mr-auto",children:"Se encontraron ".concat(a," resultados")}),Object(C.jsx)(A,{current:i.current,minimum:Math.max(1,i.current-4),maximum:Math.min(Math.trunc((a-i.size)/i.size)+1,i.current+4),total:(a-i.size)/i.size+1,onClickFirst:function(){return o((function(e){return Object(f.a)(Object(f.a)({},e),{},{current:1})}))},onClickPrev:function(){return o((function(e){return Object(f.a)(Object(f.a)({},e),{},{current:e.current-1})}))},onClickItem:function(e){return o((function(e){return Object(f.a)(Object(f.a)({},e),{},{current:e.current})}))},onClickNext:function(){return o((function(e){return Object(f.a)(Object(f.a)({},e),{},{current:e.current+1})}))},onClickLast:function(){return o((function(e){return Object(f.a)(Object(f.a)({},e),{},{current:(a-e.size)/e.size+1})}))}})]}),Object(C.jsx)(re,{modalRef:m})]})},ce=function(){var e=Object(m.h)().hash;return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("h1",{style:{fontSize:"2rem"},children:"Configuraci\xf3n"}),Object(C.jsx)(j.a,{className:"mt-2 flex-nowrap",children:Object(C.jsxs)(X.a.Container,{defaultActiveKey:e||"#especialidades",transition:!1,children:[Object(C.jsx)(u.a,{className:"pr-0",sm:"auto",children:Object(C.jsxs)(Z.a,{children:[Object(C.jsx)(Z.a.Item,{eventKey:"#especialidades",children:"Especialidades"}),Object(C.jsx)(Z.a.Item,{eventKey:"#prestaciones",children:"Prestaciones"})]})}),Object(C.jsxs)(X.a.Content,{as:u.a,children:[Object(C.jsx)(X.a.Pane,{eventKey:"#especialidades",children:Object(C.jsx)(ne,{})}),Object(C.jsx)(X.a.Pane,{eventKey:"#prestaciones"})]})]})})]})},se=a(149),ie=a.n(se);function oe(e){var t=e.url,a=e.height,n=void 0===a?600:a;return Object(r.useEffect)((function(){ie.a.embed(t,"#pdfcontainer",{fallbackLink:'<p>Este navegador no soporta la visualizacion de archivos PDF en linea, por favor descarga el archivo haciendo clic : <a href="[url]">aqu\xed</a></p>'})}),[t]),Object(C.jsx)("div",{id:"pdfcontainer",style:{height:n}})}var le=Object(r.forwardRef)((function(e,t){var a=Object(r.useState)(!1),n=Object(k.a)(a,2),c=n[0],s=n[1];return Object(r.useImperativeHandle)(t,(function(){return{show:s}}),[]),Object(C.jsx)(ae.a,Object(f.a)(Object(f.a)({centered:!0},e),{},{show:c,onHide:function(){return s(!1)}}))})),de=Object(r.forwardRef)((function(e,t){var a=Object(r.useState)(""),n=Object(k.a)(a,2),c=n[0],s=n[1],i=Object(r.useRef)(null);return Object(r.useImperativeHandle)(t,(function(){return{show:function(e){var t;return null===(t=i.current)||void 0===t?void 0:t.show(e)},setUrl:s}}),[]),Object(C.jsxs)(le,Object(f.a)(Object(f.a)({},e),{},{ref:i,children:[Object(C.jsx)(ae.a.Header,{children:"D.M. - 11"}),Object(C.jsx)(ae.a.Body,{children:c?Object(C.jsx)(oe,{url:c}):null}),Object(C.jsx)(ae.a.Footer,{})]}))})),je=a(40),ue=function(e,t){return je.apiClient.get("solicitudes-atencion-externa",{params:{filter:e,page:t}})},be=function(e){return je.apiClient.put("solicitudes-atencion-externa/".concat(e,"/generar-dm11"))},Oe=function(e,t,a,r,n){return je.apiClient.post("solicitudes-atencion-externa",{regional_id:e,asegurado_id:t,medico_id:a,proveedor_id:r,prestaciones_solicitadas:n})},he=function(e){return null},me=function(){var e=Object(m.h)().pathname,t=Object(r.useState)(0),a=Object(k.a)(t,2),n=a[0],c=a[1],s=Object(r.useState)({current:1,size:10}),i=Object(k.a)(s,2),o=i[0],l=i[1],d=Object(r.useState)({}),b=Object(k.a)(d,2),x=b[0],v=b[1],g=Object(r.useRef)(null),y=Object(R.a)(["buscarSolicitudesAtencionExterna",o,x],(function(){return ue(x,o)}),{keepPreviousData:!0,refetchOnReconnect:!1,refetchOnWindowFocus:!1,onSuccess:function(e){var t=e.data.meta;c(t.total)}}),N=Object(P.a)((function(e){return be(e)}),{onSuccess:function(e){var t,a,r=e.data.url;null===(t=g.current)||void 0===t||t.setUrl(r),null===(a=g.current)||void 0===a||a.show(!0)}});return Object(C.jsxs)("div",{className:"px-1",children:[Object(C.jsx)("h1",{style:{fontSize:"1.75rem"},children:"Solicitudes de atenci\xf3n externa"}),Object(C.jsx)("div",{className:"d-flex my-2",children:Object(C.jsxs)(j.a,{className:"ml-auto flex-nowrap",children:[Object(C.jsx)(u.a,{className:"pr-0",xs:"auto",children:Object(C.jsx)(O.a,{onClick:function(){},children:Object(C.jsx)(p.k,{})})}),Object(C.jsx)(u.a,{className:"pr-0",xs:"auto",children:Object(C.jsx)(O.a,{onClick:function(){},children:Object(C.jsx)(p.g,{})})}),Object(C.jsx)(u.a,{xs:"auto",children:Object(C.jsxs)(O.a,{as:h.b,to:"".concat(e,"/registrar"),className:"d-flex align-items-center",children:[Object(C.jsx)(p.i,{className:"mr-2"}),"Nuevo"]})})]})}),Object(C.jsxs)(j.a,{children:[Object(C.jsx)(u.a,{className:"mb-2",children:Object(C.jsx)(he,{onFilter:function(e){v(e)}})}),Object(C.jsx)(u.a,{className:"mb-2",xs:"auto",children:Object(C.jsxs)("div",{className:"d-flex flex-row flex-nowrap align-items-center",children:[Object(C.jsx)("span",{children:"Mostrar"}),Object(C.jsxs)(F.a.Control,{className:"mx-2",as:"select",value:o.size,onChange:function(e){var t=e.target.value;l((function(e){return Object(f.a)(Object(f.a)({},e),{},{size:parseInt(t)})}))},children:[Object(C.jsx)("option",{value:10,children:"10"}),Object(C.jsx)("option",{value:20,children:"20"}),Object(C.jsx)("option",{value:30,children:"30"}),Object(C.jsx)("option",{value:50,children:"50"}),Object(C.jsx)("option",{value:100,children:"100"})]}),Object(C.jsx)("span",{children:"filas"})]})})]}),Object(C.jsxs)(z.a,{responsive:!0,children:[Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{style:{width:1},children:"#"}),Object(C.jsx)("th",{children:"N\xba"}),Object(C.jsx)("th",{children:"Fecha y hora"}),Object(C.jsx)("th",{children:"Matr\xedcula asegurado"}),Object(C.jsx)("th",{children:"Doctor"}),Object(C.jsx)("th",{children:"Proveedor"}),Object(C.jsx)("th",{style:{width:1}})]})}),Object(C.jsx)("tbody",{children:function(){if(y.isFetching)return Object(C.jsx)("tr",{children:Object(C.jsxs)("td",{className:"bg-light text-center",colSpan:100,children:[Object(C.jsx)(E.a,{className:"mr-2",variant:"primary",animation:"border",size:"sm"}),"Cargando"]})});if(y.isError){var e,t,a=y.error;return Object(C.jsx)("tr",{children:Object(C.jsx)("td",{className:"bg-danger text-light text-center",colSpan:100,children:(null===(e=a.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||a.message})})}var r=y.data.data.records;return 0==r.length?Object(C.jsx)("tr",{children:Object(C.jsx)("td",{className:"bg-light text-center",colSpan:100,children:"No se encontraron resultados"})}):r.map((function(e,t){return Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:t+1}),Object(C.jsx)("td",{children:e.numero}),Object(C.jsx)("td",{children:e.fecha}),Object(C.jsx)("td",{children:e.matricula_asegurado}),Object(C.jsx)("td",{children:e.doctor}),Object(C.jsx)("td",{children:e.proveedor}),Object(C.jsx)("td",{children:Object(C.jsxs)(L.a,{children:[Object(C.jsx)(L.a.Toggle,{as:T,variant:"link",id:"dropdown-solicitud-".concat(e.id)}),Object(C.jsx)(L.a.Menu,{children:e.url_dm11?Object(C.jsx)(L.a.Item,{href:"#",onClick:function(){var t,a;null===(t=g.current)||void 0===t||t.setUrl(e.url_dm11),null===(a=g.current)||void 0===a||a.show(!0)},children:"Ver D.M. - 11"}):Object(C.jsx)(L.a.Item,{href:"#",onClick:function(){N.mutate(e.numero)},children:"Generar D.M. - 11"})})]})})]},e.id)}))}()})]}),Object(C.jsxs)("div",{className:"d-flex flex-row",children:[Object(C.jsx)("span",{className:"mr-auto",children:"Se encontraron ".concat(n," resultados")}),Object(C.jsx)(A,{current:o.current,minimum:Math.max(1,o.current-4),maximum:Math.min(Math.trunc((n-o.size)/o.size)+1,o.current+4),total:(n-o.size)/o.size+1,onClickFirst:function(){return l((function(e){return Object(f.a)(Object(f.a)({},e),{},{current:1})}))},onClickPrev:function(){return l((function(e){return Object(f.a)(Object(f.a)({},e),{},{current:e.current-1})}))},onClickItem:function(e){return l((function(e){return Object(f.a)(Object(f.a)({},e),{},{current:e.current})}))},onClickNext:function(){return l((function(e){return Object(f.a)(Object(f.a)({},e),{},{current:e.current+1})}))},onClickLast:function(){return l((function(e){return Object(f.a)(Object(f.a)({},e),{},{current:(n-e.size)/e.size+1})}))}})]}),Object(C.jsx)(de,{ref:g})]})},xe=a(0),pe=function(e){return Object(xe.a)({tag:"svg",attr:{version:"1",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{d:"M10,12c-2.8,0-5-2.2-5-5s2.2-5,5-5s5,2.2,5,5S12.8,12,10,12z"}},{tag:"path",attr:{d:"M2,22v8l3,2l1,14h8l1-14l3-2v-8c0-4.4-3.6-8-8-8h0C5.6,14,2,17.6,2,22z"}},{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M22.4,40.4c-0.6,2.5-1,3.6-2.4,3.6c-0.6,0-1.2-0.5-1.9-1.1c-1-0.8-2.2-1.9-4.1-1.9v2c1.1,0,1.9,0.7,2.8,1.4 c0.9,0.7,1.9,1.6,3.2,1.6c3.1,0,3.8-2.9,4.4-5.2C25,38.2,25.4,37,27,37v-2C23.7,35,22.9,38.1,22.4,40.4z"}},{tag:"polygon",attr:{points:"14.4,40 10,40 10,44 14.1,44"}}]},{tag:"circle",attr:{cx:"36",cy:"36",r:"10"}},{tag:"path",attr:{fill:"#fff",d:"M35,34c0.1,0.2,0.1,0.3,0.3,0.4c0.1,0.1,0.3,0.2,0.5,0.4c0.2,0.1,0.5,0.2,0.8,0.3c0.5,0.2,0.9,0.4,1.3,0.6 c0.4,0.2,0.7,0.4,1,0.7c0.3,0.3,0.5,0.6,0.7,0.9c0.2,0.4,0.2,0.8,0.2,1.3c0,0.4-0.1,0.8-0.2,1.2c-0.1,0.4-0.3,0.7-0.6,0.9 c-0.3,0.3-0.6,0.5-0.9,0.6c-0.4,0.2-0.8,0.3-1.2,0.3v1.5h-1.2v-1.5c-0.4,0-0.8-0.1-1.2-0.3c-0.4-0.2-0.7-0.4-1-0.6 c-0.3-0.3-0.5-0.6-0.7-1.1c-0.2-0.4-0.3-0.9-0.3-1.5h2.2c0,0.4,0,0.7,0.1,0.9c0.1,0.2,0.2,0.4,0.4,0.6c0.2,0.1,0.3,0.2,0.5,0.3 c0.2,0.1,0.4,0.1,0.6,0.1c0.2,0,0.4,0,0.6-0.1c0.2-0.1,0.3-0.2,0.4-0.3c0.1-0.1,0.2-0.3,0.3-0.4c0.1-0.2,0.1-0.3,0.1-0.5 c0-0.2,0-0.4-0.1-0.6c-0.1-0.2-0.1-0.3-0.3-0.4c-0.1-0.1-0.3-0.3-0.5-0.4c-0.2-0.1-0.4-0.2-0.7-0.3c-0.5-0.2-0.9-0.4-1.3-0.6 c-0.4-0.2-0.7-0.4-1-0.7c-0.3-0.3-0.5-0.6-0.7-0.9c-0.2-0.4-0.2-0.8-0.2-1.3c0-0.4,0.1-0.8,0.2-1.2c0.1-0.3,0.3-0.7,0.6-0.9 c0.3-0.3,0.6-0.5,0.9-0.6c0.4-0.2,0.8-0.3,1.2-0.3v-1.6h1.2v1.6c0.4,0.1,0.8,0.2,1.2,0.4c0.4,0.2,0.6,0.4,0.9,0.7 c0.2,0.3,0.4,0.6,0.6,1c0.1,0.4,0.2,0.9,0.2,1.4h-2.2c0-0.6-0.1-1-0.4-1.3c-0.2-0.3-0.6-0.4-1-0.4c-0.2,0-0.4,0-0.6,0.1 c-0.2,0.1-0.3,0.2-0.4,0.3C35.1,32.7,35,32.8,35,33s-0.1,0.3-0.1,0.5C34.9,33.7,34.9,33.9,35,34z"}}]})(e)},fe=a(230),ve=a(237),ge=a(223),ye=a(148);function Ce(e,t,a){return(e?e+" ":"")+"".concat(t,"  ").concat(a)}var Ne=Object(r.forwardRef)((function(e,t){return Object(C.jsxs)(le,Object(f.a)(Object(f.a)({},e),{},{ref:t,children:[Object(C.jsx)(ae.a.Header,{children:e.title}),Object(C.jsx)(ae.a.Body,{children:Object(C.jsxs)(z.a,{children:[Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{style:{width:1},children:"#"}),Object(C.jsx)("td",{children:"Matricula"}),Object(C.jsx)("td",{children:"Nombre completo"}),Object(C.jsx)("td",{children:"Estado"})]})}),Object(C.jsx)("tbody",{children:e.asegurados.map((function(t,a){return Object(C.jsxs)("tr",{onClick:function(){e.onSelect(t.id)},children:[Object(C.jsx)("td",{children:a+1}),Object(C.jsx)("td",{children:t.matricula}),Object(C.jsx)("td",{children:Ce(t.apellidoPaterno,t.apellidoMaterno,t.nombres)}),Object(C.jsx)("td",{children:t.estado})]})}))})]})})]}))})),we=function(e){return je.apiClient.get("asegurados/buscar-matricula",{params:{matricula:e}})},Se=function(){var e,t,a,n,c,s,i,o,l,d,j,b,h=Object(V.e)(),m=h.register,x=h.formState,v=h.trigger,g=h.setValue,y=h.watch,N=Object(r.useRef)(null),w=y("asegurado.matricula"),S=Object(R.a)(["buscarAseguradoPorMatricula",w],(function(){return we(w)}),{enabled:!1,onSuccess:function(e){var t=e.data;if(1==t.length){var a=t[0];g("asegurado.id",a.id),g("asegurado.nombreCompleto",Ce(a.apellidoPaterno,a.apellidoMaterno,a.nombres)),g("asegurado.estado",a.estado),g("asegurado.fechaExtinsion",a.fechaExtinsion),g("asegurado.empleador.numeroPatronal",a.empleador.numeroPatronal),g("asegurado.empleador.nombre",a.empleador.nombre),g("asegurado.empleador.estado",a.empleador.estado),g("asegurado.empleador.aportes",a.empleador.aportes),v("asegurado")}else if(t.length>1){var r;null===(r=N.current)||void 0===r||r.show(!0)}}});return Object(r.useEffect)((function(){g("asegurado.id",""),g("asegurado.nombreCompleto",""),g("asegurado.estado",""),g("asegurado.fechaExtinsion",""),g("asegurado.empleador.numeroPatronal",""),g("asegurado.empleador.nombre",""),g("asegurado.empleador.estado",""),g("asegurado.empleador.aportes","")}),[w]),Object(C.jsxs)(ve.a,{children:[Object(C.jsx)(fe.a.Toggle,{as:ve.a.Header,className:"bg-primary text-light",eventKey:"0",children:"Asegurado"}),Object(C.jsx)(fe.a.Collapse,{eventKey:"0",children:Object(C.jsxs)(ve.a.Body,{children:[Object(C.jsxs)(F.a.Row,{children:[Object(C.jsxs)(u.a,{md:4,children:[Object(C.jsx)(F.a.Label,{htmlFor:"asegurado-matricula",children:"Matr\xedcula"}),Object(C.jsxs)(ge.a,{className:"mb-2",children:[Object(C.jsx)(ye.a,Object(f.a)({id:"asegurado-matricula"},m("asegurado.matricula"))),Object(C.jsx)(ge.a.Append,{children:Object(C.jsx)(O.a,{variant:"outline-secondary",onClick:function(){S.refetch()},children:S.isFetching?Object(C.jsx)(E.a,{animation:"border",size:"sm"}):Object(C.jsx)(p.j,{})})})]})]}),Object(C.jsxs)(F.a.Group,{as:u.a,md:8,children:[Object(C.jsx)(F.a.Label,{children:"Nombre"}),Object(C.jsx)(F.a.Control,Object(f.a)({disabled:!0,isInvalid:!!(null===(e=x.errors.asegurado)||void 0===e?void 0:e.nombreCompleto)},m("asegurado.nombreCompleto",{required:W()})))]})]}),Object(C.jsxs)(F.a.Row,{children:[Object(C.jsxs)(F.a.Group,{as:u.a,sm:4,children:[Object(C.jsx)(F.a.Label,{children:"Estado"}),Object(C.jsx)(F.a.Control,Object(f.a)({disabled:!0,isInvalid:!!(null===(t=x.errors.asegurado)||void 0===t?void 0:t.estado)},m("asegurado.estado",{required:W()})))]}),Object(C.jsxs)(F.a.Group,{as:u.a,sm:4,children:[Object(C.jsx)(F.a.Label,{children:"Fecha ext."}),Object(C.jsx)(F.a.Control,Object(f.a)({disabled:!0,isInvalid:!!(null===(a=x.errors.asegurado)||void 0===a?void 0:a.fechaExtinsion)},m("asegurado.fechaExtinsion")))]})]}),Object(C.jsx)("h2",{style:{fontSize:"1.25rem"},children:"Empleador"}),Object(C.jsxs)(F.a.Row,{children:[Object(C.jsxs)(F.a.Group,{as:u.a,md:4,children:[Object(C.jsx)(F.a.Label,{children:"N\xba Patronal"}),Object(C.jsx)(F.a.Control,Object(f.a)({disabled:!0,isInvalid:!!(null===(n=x.errors.asegurado)||void 0===n||null===(c=n.empleador)||void 0===c?void 0:c.numeroPatronal)},m("asegurado.empleador.numeroPatronal")))]}),Object(C.jsxs)(F.a.Group,{as:u.a,md:8,children:[Object(C.jsx)(F.a.Label,{children:"Nombre"}),Object(C.jsx)(F.a.Control,Object(f.a)({disabled:!0,isInvalid:!!(null===(s=x.errors.asegurado)||void 0===s||null===(i=s.empleador)||void 0===i?void 0:i.nombre)},m("asegurado.empleador.nombre")))]})]}),Object(C.jsxs)(F.a.Row,{children:[Object(C.jsxs)(F.a.Group,{as:u.a,sm:4,children:[Object(C.jsx)(F.a.Label,{children:"Estado"}),Object(C.jsx)(F.a.Control,Object(f.a)({disabled:!0,isInvalid:!!(null===(o=x.errors.asegurado)||void 0===o||null===(l=o.empleador)||void 0===l?void 0:l.estado)},m("asegurado.empleador.estado")))]}),Object(C.jsxs)(F.a.Group,{as:u.a,sm:4,children:[Object(C.jsx)(F.a.Label,{children:"Aportes"}),Object(C.jsx)(F.a.Control,Object(f.a)({disabled:!0,isInvalid:!!(null===(d=x.errors.asegurado)||void 0===d||null===(j=d.empleador)||void 0===j?void 0:j.nombre)},m("asegurado.empleador.aportes")))]})]}),Object(C.jsx)(Ne,{ref:N,asegurados:(null===(b=S.data)||void 0===b?void 0:b.data)||[],onSelect:function(e){g("asegurado.id",e)}})]})})]})},Ie=a(62),ke=a(94),Ee=a(54),Le=a.n(Ee),Fe=function(e){var t=Le.a.CancelToken.source(),a=je.apiClient.get("medicos",{params:{filter:{nombre_completo:e||void 0},page:{current:1,size:10}},cancelToken:t.token});return a.cancel=function(){t.cancel("Query was cancelled by React Query")},a},ze=(a(89),function(e){var t,a,n=Object(r.useState)(""),c=Object(k.a)(n,2),s=c[0],i=c[1],o=Object(R.a)(["buscarMedico",s],(function(){return Fe(s)}),{enabled:!1}),l=Object(ke.b)();return Object(r.useEffect)((function(){s&&!o.data&&o.refetch()}),[s]),console.log("Medicos",s,o.isFetching,o.isError,o.isIdle,o.isStale,null===(t=o.data)||void 0===t?void 0:t.data.records,Date.now()),Object(C.jsx)(Ie.a,Object(f.a)(Object(f.a)({flip:!0},e),{},{isLoading:o.isFetching,options:(null===(a=o.data)||void 0===a?void 0:a.data.records)||[],labelKey:function(e){return(e.apellidoPaterno?e.apellidoPaterno+" ":"")+"".concat(e.apellidoMaterno," ").concat(e.nombres).trim()},useCache:!1,filterBy:function(){return!0},maxResults:10,minLength:2,onSearch:function(e){console.log("Query",e),l.cancelQueries(["buscarMedico",s]),i(e)},renderMenuItemChildren:function(e){var t=(e.apellidoPaterno?e.apellidoPaterno+" ":"")+"".concat(e.apellidoMaterno," ").concat(e.nombres).trim();return Object(C.jsxs)("div",{children:[Object(C.jsx)("div",{children:t}),Object(C.jsx)("div",{className:"small text-secondary",children:e.especialidad})]})}}))}),Re=function(e){var t=Le.a.CancelToken.source(),a=je.apiClient.get("medicos",{params:{filter:{nombre_completo:e||void 0},page:{current:1,size:10}},cancelToken:t.token});return a.cancel=function(){t.cancel("Query was cancelled by React Query")},a},Pe=function(e){var t,a=Object(r.useState)(""),n=Object(k.a)(a,2),c=n[0],s=n[1],i=["buscarProveedor",c],o=Object(R.a)(i,(function(){return Re(c)}),{enabled:!1}),l=Object(ke.b)();return Object(r.useEffect)((function(){c&&!o.data&&o.refetch()}),[c]),Object(C.jsx)(Ie.a,Object(f.a)(Object(f.a)({flip:!0},e),{},{isLoading:o.isFetching,options:(null===(t=o.data)||void 0===t?void 0:t.data.records)||[],labelKey:function(e){if(e.especialidad){var t=e;return(t.apellidoPaterno?t.apellidoPaterno+" ":"")+"".concat(t.apellidoMaterno," ").concat(t.nombres).trim()}return e.nombre},useCache:!1,filterBy:function(){return!0},maxResults:10,minLength:2,onSearch:function(e){console.log("Query",e),l.cancelQueries(i),s(e)},renderMenuItemChildren:function(e){var t,a;if(e.especialidad){var r=e;t=(r.apellidoPaterno?r.apellidoPaterno+" ":"")+"".concat(r.apellidoMaterno," ").concat(r.nombres),a=r.especialidad}else t=e.nombre,a="empresa";return Object(C.jsxs)("div",{children:[Object(C.jsx)("div",{children:t}),Object(C.jsx)("div",{className:"small text-secondary",children:a})]})}}))},Me=function(e){var t=Le.a.CancelToken.source(),a=je.apiClient.get("/especialidades/buscar-nombre",{params:{nombre:e}});return a.cancel=function(){t.cancel("Query was cancelled by React Query")},a},Ae=function(e){var t,a=Object(r.useState)(""),n=Object(k.a)(a,2),c=n[0],s=n[1],i=["buscarPrestaciones",c],o=Object(R.a)(i,(function(){return Me(c)}),{enabled:!1}),l=Object(ke.b)();return Object(r.useEffect)((function(){c&&!o.data&&o.refetch()}),[c]),Object(C.jsx)(Ie.a,Object(f.a)(Object(f.a)({flip:!0,filterBy:function(){return!0}},e),{},{isLoading:o.isFetching,options:(null===(t=o.data)||void 0===t?void 0:t.data)||[],labelKey:"nombre",useCache:!1,maxResults:10,minLength:2,onSearch:function(e){l.cancelQueries(i),s(e)},renderMenuItemChildren:function(e){return e.nombre}}))},Te=function(){var e=Object(r.useState)(1),t=Object(k.a)(e,2),a=t[0],n=t[1],c=Object(V.e)(),s=c.register,i=c.control,o=(c.formState,c.watch),l=Object(V.c)({name:"prestacionesSolicitadas"}),d=l.fields,j=l.append,u=l.remove;return Object(C.jsxs)(ve.a,{style:{overflow:"visible"},children:[Object(C.jsx)(fe.a.Toggle,{as:ve.a.Header,className:"bg-primary text-light",eventKey:"2",children:"Prestaciones"}),Object(C.jsx)(fe.a.Collapse,{eventKey:"2",children:Object(C.jsxs)(z.a,{children:[Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{style:{width:1},children:"#"}),Object(C.jsx)("th",{children:"Nombre"}),Object(C.jsx)("th",{children:"Nota"}),Object(C.jsx)("th",{style:{width:1}})]})}),Object(C.jsxs)("tbody",{children:[d.map((function(e,t){return Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:t+1}),Object(C.jsx)("td",{children:Object(C.jsx)(V.a,{name:"prestacionesSolicitadas.".concat(t,".prestacionId"),control:i,rules:{required:W()},render:function(e){var a=e.field;return Object(C.jsx)(Ae,{id:"solicitud-atencion-externa/prestacionesSolicitadas.".concat(t,".prestacionId"),filterBy:function(e){var t=o("proveedor");return!t||t.prestacionesContratadas.some((function(t){return t.id==e.id}))},onBlur:a.onBlur,onChange:function(e){a.onChange(e.length?e[0].id:0)}})}})}),Object(C.jsx)("td",{children:Object(C.jsx)(F.a.Control,Object(f.a)({as:"textarea"},s("prestacionesSolicitadas.".concat(t,".nota"),{required:W()})))}),Object(C.jsx)("td",{children:Object(C.jsx)(O.a,{variant:"link",onClick:function(){console.log("Remove",t),u(t)},className:"btn-icon",children:Object(C.jsx)(p.h,{})})})]},e.id)})),Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{}),Object(C.jsx)("td",{}),Object(C.jsx)("td",{}),Object(C.jsx)("td",{children:Object(C.jsx)(O.a,{variant:"link",onClick:function(){console.log(a),j({id:a}),n((function(e){return e+1}))},className:"btn-icon",children:Object(C.jsx)(p.i,{})})})]})]})]})})]})},_e=function(){return _.b.get("regionales")},Ge=function(e){var t=Object(r.useState)([]),a=Object(k.a)(t,2),n=a[0],c=a[1],s=Object(R.a)("obtenerRegionales",(function(){return _e()}),{refetchOnReconnect:!1,refetchOnWindowFocus:!1,onSuccess:function(e){var t=e.data;c(t)}});return Object(C.jsx)(Ie.a,Object(f.a)(Object(f.a)({flip:!0},e),{},{isLoading:s.isFetching,options:n,labelKey:"nombre",useCache:!1,minLength:0,onSearch:function(e){},renderMenuItemChildren:function(e){return e.nombre}}))},Be=function(){var e=Object(V.d)({mode:"onBlur",defaultValues:{prestacionesSolicitadas:[]}}),t=(e.handleSubmit,e.register,e.formState),a=e.control,r=(e.watch,Object(P.a)((function(e){return Oe(e.regionalId,e.asegurado.id,e.medicoId,e.proveedor.id,e.prestacionesSolicitadas.map((function(e){return{prestacion_id:e.prestacionId,nota:e.nota}})))})));return Object(C.jsx)(V.b,Object(f.a)(Object(f.a)({},e),{},{children:Object(C.jsxs)(F.a,{children:[Object(C.jsx)("h1",{style:{fontSize:"1.75rem"},children:"Solicitud de atenci\xf3n externa"}),Object(C.jsxs)(fe.a,{className:"mt-3",defaultActiveKey:"0",children:[Object(C.jsxs)(ve.a,{style:{overflow:"visible"},children:[Object(C.jsx)(fe.a.Toggle,{as:ve.a.Header,className:"bg-primary text-light",eventKey:"1",children:"Regional"}),Object(C.jsx)(fe.a.Collapse,{eventKey:"1",children:Object(C.jsx)(ve.a.Body,{children:Object(C.jsx)(F.a.Row,{children:Object(C.jsxs)(F.a.Group,{as:u.a,children:[Object(C.jsx)(F.a.Label,{children:"Nombre"}),Object(C.jsx)(V.a,{control:a,name:"regionalId",rules:{required:W()},render:function(e){var t=e.field,a=e.fieldState;return Object(C.jsx)(Ge,{id:"solicitud-atencion-externa-form/regionales",searchText:"Buscando...",promptText:"Introduce un texto",isInvalid:!!a.error,onBlur:t.onBlur,onChange:function(e){console.log("Regional elegida",e),t.onChange(e.length?e[0].id:null)}})}})]})})})})]}),Object(C.jsx)(Se,{}),Object(C.jsxs)(ve.a,{style:{overflow:"visible"},children:[Object(C.jsx)(fe.a.Toggle,{as:ve.a.Header,className:"bg-primary text-light",eventKey:"1",children:"M\xe9dico"}),Object(C.jsx)(fe.a.Collapse,{eventKey:"1",children:Object(C.jsx)(ve.a.Body,{children:Object(C.jsx)(F.a.Row,{children:Object(C.jsxs)(F.a.Group,{as:u.a,children:[Object(C.jsx)(F.a.Label,{children:"Nombre"}),Object(C.jsx)(V.a,{control:a,name:"medicoId",rules:{required:W()},render:function(e){var a=e.field;return Object(C.jsx)(ze,{id:"solicitud-atencion-externa-form/medicos",searchText:"Buscando...",promptText:"Introduce un texto",isInvalid:!!t.errors.medicoId,onBlur:a.onBlur,onChange:function(e){console.log("Medico elegido",e),a.onChange(e.length?e[0].id:null)}})}})]})})})})]}),Object(C.jsx)(Te,{}),Object(C.jsxs)(ve.a,{style:{overflow:"visible"},children:[Object(C.jsx)(fe.a.Toggle,{as:ve.a.Header,className:"bg-primary text-light",eventKey:"3",children:"Proveedor"}),Object(C.jsx)(fe.a.Collapse,{eventKey:"3",children:Object(C.jsx)(ve.a.Body,{children:Object(C.jsx)(F.a.Row,{children:Object(C.jsxs)(F.a.Group,{as:u.a,children:[Object(C.jsx)(F.a.Label,{children:"Nombre"}),Object(C.jsx)(V.a,{control:a,name:"proveedor",rules:{required:W()},render:function(e){e.field;var t,a=e.fieldState;return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(Pe,{id:"medico",searchText:"Buscando...",isInvalid:!!a.error}),Object(C.jsx)(F.a.Control.Feedback,{type:"invalid",children:null===(t=a.error)||void 0===t?void 0:t.message})]})}})]})})})})]})]}),Object(C.jsxs)(O.a,{children:[r.isLoading?Object(C.jsx)(E.a,{animation:"border",size:"sm"}):null,"Guardar"]})]})}))},De=function(){var e=Object(m.j)(),t=(e.path,e.url);return Object(C.jsx)(S,{sidebar:{items:[{id:"lista-mora",path:"".concat(t,"/lista-mora"),title:"Lista de mora",icon:Object(C.jsx)(pe,{})},{id:"atencion-externa",path:"".concat(t,"/atencion-externa"),title:"Atenci\xf3n exterana",icon:Object(C.jsx)(I.a,{})},{id:"configuracion",path:"".concat(t,"/configuracion"),title:"Configuraci\xf3n",icon:Object(C.jsx)(p.d,{})}]},children:Object(C.jsxs)(m.d,{children:[Object(C.jsx)(m.b,{exact:!0,path:"".concat(t,"/lista-mora/agregar"),children:Object(C.jsx)(J,{})}),Object(C.jsx)(m.b,{path:"".concat(t,"/lista-mora"),children:Object(C.jsx)(K,{})}),Object(C.jsx)(m.b,{exact:!0,path:"".concat(t,"/atencion-externa"),children:Object(C.jsx)(me,{})}),Object(C.jsx)(m.b,{exact:!0,path:"".concat(t,"/atencion-externa/registrar"),children:Object(C.jsx)(Be,{})}),Object(C.jsx)(m.b,{exact:!0,path:"".concat(t,"/configuracion"),children:Object(C.jsx)(ce,{})})]})})},Ue=a(22),qe=a.n(Ue),Ke=a(43),He=a(153),Ve=function(e,t){return _.b.get("/users",{params:{page:e,filter:t}})},Qe=function(e){return _.b.get("/users/".concat(e))},We=function(e){var t=e.username,a=e.password,r=e.externalId,n=e.roleIds;return _.b.post("/users",{username:t,password:a,external_id:r,role_ids:n})},Je=function(e){var t=e.id,a=e.username,r=e.roleIds;return _.b.put("/users/".concat(t),{username:a,role_ids:r})},Xe=function(){return _.b.get("/roles")},Ze=function(e){return _.b.get("/roles/".concat(e))},$e=function(e){return _.b.post("roles",e)},Ye=function(e){return _.b.put("roles/".concat(e.id),e)},et=function(){return _.b.get("/permissions")},tt=a(73),at=a.n(tt),rt=function(e){var t=e.current,a=e.minimum,n=e.maximum,c=e.total,s=Object(y.a)(e,["current","minimum","maximum","total"]);console.log(t,a,n,c);for(var i=Object(m.h)(),o=(i.pathname,i.search),l=(Object(g.b)(),Object(r.useMemo)((function(){return at.a.parse(o.substr(1))}),[o]).page,[]),d=function(e){t==e?l.push(Object(C.jsx)(M.a.Item,{active:!0,children:e},e)):l.push(Object(C.jsx)(M.a.Item,{onClick:function(){return s.onClickItem(e)},children:e},e))},j=a;j<=n;j++)d(j);return Object(C.jsxs)(M.a,{children:[a>1?Object(C.jsx)(M.a.First,{onClick:s.onClickFirst}):null,t>1?Object(C.jsx)(M.a.Prev,{onClick:s.onClickPrev}):null,l,t<c?Object(C.jsx)(M.a.Next,{onClick:s.onClickNext}):null,n<c?Object(C.jsx)(M.a.Last,{onClick:s.onClickLast}):null]})},nt=function(e){var t=Object(r.useState)({username:"",active:""}),a=Object(k.a)(t,2),n=a[0],c=a[1];return Object(C.jsx)(F.a,Object(f.a)(Object(f.a)({},e),{},{onSubmit:function(t){t.preventDefault(),e.onSubmit&&e.onSubmit(t)},children:Object(C.jsxs)(F.a.Row,{children:[Object(C.jsxs)(u.a,{children:[Object(C.jsx)(F.a.Label,{htmlFor:"username-filter",srOnly:!0,children:"Usuario"}),Object(C.jsx)(F.a.Control,{className:"mb-2",id:"username-filter",value:n.username,onChange:function(e){var t=e.target.value;c((function(e){return Object(f.a)(Object(f.a)({},e),{},{username:t})}))},placeholder:"Usuario"})]}),Object(C.jsxs)(u.a,{children:[Object(C.jsx)(F.a.Label,{htmlFor:"status-filter",srOnly:!0,children:"Estado"}),Object(C.jsxs)(F.a.Control,{as:"select",className:"mb-2",id:"status-filter",value:n.active,onChange:function(e){var t=e.target.value;c((function(e){return Object(f.a)(Object(f.a)({},e),{},{active:t})}))},children:[Object(C.jsx)("option",{value:"",children:"Elige un estado"}),Object(C.jsx)("option",{value:"1",children:"Activo"}),Object(C.jsx)("option",{value:"0",children:"Inactivo"})]})]}),Object(C.jsx)(u.a,{xs:"auto",children:Object(C.jsx)(O.a,{type:"submit",children:"Aplicar"})})]})}))},ct=function(){Object(g.b)();var e=Object(r.useState)({current:1,size:10}),t=Object(k.a)(e,2),a=t[0],n=a.current,c=a.size,s=t[1],i=Object(r.useState)({username:void 0,active:void 0}),o=Object(k.a)(i,2),l=o[0],d=o[1],b=Object(r.useState)(!1),x=Object(k.a)(b,2),v=x[0],y=x[1],N=Object(m.h)(),w=(N.search,N.state,Object(m.j)()),S=(w.url,w.path),I=Object(R.a)(["fetchUsers",n,c,l],Object(Ke.a)(qe.a.mark((function e(){var t;return qe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ve({current:n,size:c},l);case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)}))),{keepPreviousData:!0,refetchOnWindowFocus:!1}),L=I.isFetching,P=I.isError,M=I.data,A=I.error,T=I.refetch,_=null===M||void 0===M?void 0:M.data.records,G=(null===M||void 0===M?void 0:M.data.meta.total)||0;return Object(r.useEffect)((function(){document.title="Usuarios"}),[]),Object(C.jsxs)("div",{className:"d-flex flex-column bg-white rounded-lg shadow-sm m-2 p-3 flex-grow-1",children:[Object(C.jsx)("h1",{style:{fontSize:"2rem"},children:"Usuarios"}),Object(C.jsxs)("div",{className:"d-flex flex-nowrap",children:[Object(C.jsx)(j.a,{className:"mr-auto flex-nowrap",children:Object(C.jsxs)(u.a,{className:"d-flex flex-nowrap align-items-center",children:[Object(C.jsx)("span",{children:"Mostrar"}),Object(C.jsxs)(F.a.Control,{className:"mx-2",as:"select",value:c,onChange:function(e){var t=e.target.value;s((function(e){return Object(f.a)(Object(f.a)({},e),{},{size:parseInt(t)})}))},children:[Object(C.jsx)("option",{value:10,children:"10"}),Object(C.jsx)("option",{value:20,children:"20"}),Object(C.jsx)("option",{value:30,children:"30"}),Object(C.jsx)("option",{value:50,children:"50"}),Object(C.jsx)("option",{value:100,children:"100"})]}),Object(C.jsx)("span",{children:"filas"})]})}),Object(C.jsxs)(j.a,{className:"ml-auto flex-nowrap",children:[Object(C.jsx)(u.a,{className:"pr-0",xs:"auto",children:Object(C.jsx)(O.a,{className:"my-2",onClick:function(){T()},children:Object(C.jsx)(p.k,{})})}),Object(C.jsx)(u.a,{className:"pr-0",xs:"auto",children:Object(C.jsx)(O.a,{className:"my-2",onClick:function(){y((function(e){return!e}))},children:Object(C.jsx)(p.g,{})})}),Object(C.jsx)(u.a,{xs:"auto",children:Object(C.jsx)(O.a,{as:h.b,to:"".concat(S,"/registrar"),className:"my-2",onClick:function(){},children:Object(C.jsx)(p.n,{})})})]})]}),Object(C.jsx)(nt,{className:"mt-2"+(v?"":" d-none"),onApply:function(e){y(!1),d(e)}}),Object(C.jsxs)(z.a,{responsive:!0,className:"small text-nowrap",children:[Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{style:{width:1},children:"#"}),Object(C.jsx)("th",{children:"Nombre de usuario"}),Object(C.jsx)("th",{style:{width:"6rem"},children:"Estado"}),Object(C.jsx)("th",{style:{width:1}})]})}),Object(C.jsx)("tbody",{children:function(){var e,t;return L?Object(C.jsx)("tr",{children:Object(C.jsxs)("td",{className:"bg-light text-center",colSpan:100,children:[Object(C.jsx)(E.a,{className:"mr-2",variant:"primary",animation:"border",size:"sm"}),"Cargando"]})}):P?Object(C.jsx)("tr",{children:Object(C.jsx)("td",{className:"bg-light text-center",colSpan:100,children:(null===(e=A.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||A.message})}):null===_||void 0===_?void 0:_.map((function(e,t){return Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{scope:"row",children:t+1}),Object(C.jsx)("td",{children:e.username}),Object(C.jsx)("td",{className:e.active?"bg-success":"bg-danger",children:Object(C.jsx)("span",{className:"text-light",children:e.active?"Activo":"Inactivo"})}),Object(C.jsx)("td",{children:Object(C.jsx)("div",{className:"d-flex",children:Object(C.jsx)(O.a,{className:"btn-icon",variant:"link",children:Object(C.jsx)(He.a,{})})})})]},e.id)}))}()})]}),Object(C.jsx)("div",{className:"mt-auto align-self-center",children:Object(C.jsx)(rt,{current:n,minimum:Math.max(1,n-4),maximum:Math.min(Math.trunc((G-c)/c)+1,n+4),total:(G-c)/c+1,onClickFirst:function(){return s((function(e){return Object(f.a)(Object(f.a)({},e),{},{current:1})}))},onClickPrev:function(){console.log("Previous"),s((function(e){return Object(f.a)(Object(f.a)({},e),{},{current:e.current-1})}))},onClickItem:function(e){return s((function(t){return Object(f.a)(Object(f.a)({},t),{},{current:e})}))},onClickNext:function(){return s((function(e){return Object(f.a)(Object(f.a)({},e),{},{current:e.current+1})}))},onClickLast:function(){return s((function(e){return Object(f.a)(Object(f.a)({},e),{},{current:(G-c)/c+1})}))}})})]})},st=function(e){var t=e.roles;return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(Z.a,{className:"flex-grow-1",variant:"flush",children:t.map((function(e){return Object(C.jsx)(Z.a.Item,{className:"py-2 px-3 text-capitalize",href:"#".concat(e.id),action:!0,children:e.name},e.id)}))})})},it=function(e){var t,a=e.roleId,n=Object(m.h)().pathname,c=Object(R.a)(["fetchRole",a],(function(){return Ze(a)}),{enabled:!1});Object(r.useEffect)((function(){c.refetch()}),[]);var s,i,o,l=null===(t=c.data)||void 0===t?void 0:t.data;return c.isFetching?Object(C.jsx)(E.a,{animation:"border",variant:"primary",className:"d-block m-auto"}):c.isError?Object(C.jsx)(H.a,{variant:"danger",children:(null===(s=c.error)||void 0===s||null===(i=s.response)||void 0===i?void 0:i.message)||(null===(o=c.error)||void 0===o?void 0:o.message)}):Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)("div",{className:"mb-2 d-flex flex-nowrap",children:[Object(C.jsx)("h2",{className:"text-capitalize d-inline-block",style:{fontSize:"1.75rem"},children:null===l||void 0===l?void 0:l.name}),Object(C.jsx)(O.a,{as:h.b,to:{pathname:"/iam/roles/".concat(a,"/editar"),state:{from:n}},className:"btn-icon mb-auto",variant:"link",children:Object(C.jsx)(p.e,{})})]}),Object(C.jsx)(z.a,{children:Object(C.jsxs)("tbody",{children:[Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{scope:"row",style:{width:"1px"},children:"Nombre"}),Object(C.jsx)("td",{className:"text-capitalize",children:null===l||void 0===l?void 0:l.name})]}),Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{className:"text-nowrap",scope:"row",children:"Descripci\xf3n"}),Object(C.jsx)("td",{className:(null===l||void 0===l?void 0:l.description)?"":"bg-light",children:(null===l||void 0===l?void 0:l.description)||"Sin descripci\xf3n"})]}),Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{scope:"row",children:"Fecha de creaci\xf3n"}),Object(C.jsx)("td",{children:null===l||void 0===l?void 0:l.createdAt})]}),Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{scope:"row",children:"Fecha de actualizaci\xf3n"}),Object(C.jsx)("td",{children:null===l||void 0===l?void 0:l.updatedAt})]}),Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{scope:"row",children:"Permisos"}),Object(C.jsx)("td",{className:"d-flex ".concat((null===l||void 0===l?void 0:l.permissions.length)?"":"bg-light"),children:(null===l||void 0===l?void 0:l.permissions.length)?Object(C.jsx)("ul",{className:"d-inline-block",children:null===l||void 0===l?void 0:l.permissions.map((function(e,t){return Object(C.jsx)("li",{className:"text-capitalize",children:e},t)}))}):"No se agregaron permisos"})]})]})})]})},ot=function(){var e,t=Object(m.g)().location,a=t.hash,n=t.pathname,c=Object(R.a)("fetchRoles",(function(){return Xe()}),{enabled:!1,refetchOnWindowFocus:!1});Object(r.useEffect)((function(){c.refetch()}),[]);var s=(null===(e=c.data)||void 0===e?void 0:e.data)||[];return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)("div",{className:"mb-2 d-flex flex-nowrap",children:[Object(C.jsx)("h2",{className:"d-inline-block",style:{fontSize:"2rem"},children:"Roles"}),Object(C.jsx)(O.a,{as:h.b,to:{pathname:"/iam/roles/crear",state:{from:n}},className:"ml-auto my-auto",variant:"primary",children:Object(C.jsx)(p.i,{})})]}),Object(C.jsx)(X.a.Container,{defaultActiveKey:a,transition:!1,children:Object(C.jsxs)("div",{className:"list-details position-relative d-flex flex-grow-1",children:[Object(C.jsx)("div",{className:"list border",children:c.isFetching?Object(C.jsx)(E.a,{animation:"border",variant:"primary",className:"m-auto"}):Object(C.jsx)(st,{roles:s})}),Object(C.jsx)(X.a.Content,{className:"p-3 border flex-grow-1 overflow-auto",style:{marginLeft:"11rem"},children:s.map((function(e){return Object(C.jsx)(X.a.Pane,{eventKey:"#".concat(e.id),children:Object(C.jsx)(it,{roleId:e.id})},e.id)}))})]})})]})},lt=function(e){var t,a=e.isInvalid,n=(e.onChange,Object(R.a)("fetchPermissions",(function(){return console.log("fetchingRoles"),et()}),{enabled:!1,refetchOnWindowFocus:!1})),c=(null===(t=n.data)||void 0===t?void 0:t.data)||[];return Object(r.useEffect)((function(){n.refetch()}),[]),console.log("isInvalid",e),Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(Z.a,{className:"overflow-auto flex-grow-1 ".concat(a?"is-invalid":""),style:{height:"10rem"},children:n.isFetching?"Cargando":n.isError?"Error":c.map((function(t,r){return Object(C.jsx)(Z.a.Item,{as:"li",className:"py-2 px-3 text-capitalize",action:!0,children:Object(C.jsx)(F.a.Check,{type:"checkbox",checked:e.defaultChecked.some((function(e){return e==t})),label:t,isInvalid:a,onChange:function(a){e.onChange&&e.onChange(t,a.target.checked)}})},t)}))})})},dt=function(){var e,t,a,n,c=Object(m.i)(),s=(c.action,c.id),i=(Object(m.g)(),Object(V.d)({mode:"onBlur",defaultValues:{name:"",description:"",permissions:[]}})),o=i.handleSubmit,l=i.register,d=i.control,j=i.formState.errors,u=i.reset,b=i.watch,h=(i.getValues,Object(R.a)(["fetchRole",s],(function(){return Ze(parseInt(s))}),{enabled:!1})),x=Object(P.a)((function(e){return s?Ye(e):$e(e)}));return console.log("Values",b()),console.log("FetchRole",h),Object(r.useEffect)((function(){console.log("Mounting")}),[]),Object(r.useEffect)((function(){!h.data&&s&&h.refetch()}),[s]),Object(r.useEffect)((function(){var e,t,a;console.log("Change data",h.data),u({name:null===(e=h.data)||void 0===e?void 0:e.data.name,description:null===(t=h.data)||void 0===t?void 0:t.data.description,permissions:null===(a=h.data)||void 0===a?void 0:a.data.permissions})}),[h.data]),h.isFetching?Object(C.jsx)(E.a,{animation:"border"}):(console.log("Data",h.data),Object(C.jsxs)(F.a,{id:"role-form",onSubmit:o((function(e){console.log(e),x.mutate(Object(f.a)({id:parseInt(s),createdAt:void 0,updatedAt:void 0},e))})),children:[Object(C.jsxs)(F.a.Group,{children:[Object(C.jsx)(F.a.Label,{children:"Nombre"}),Object(C.jsx)(F.a.Control,Object(f.a)({type:"text",className:"text-capitalize",isInvalid:!!j.name},l("name",{required:W(),maxLength:(n=32,{value:n,message:Q.a.maxLength.format(n)})}))),Object(C.jsx)(F.a.Control.Feedback,{type:"invalid",children:null===(e=j.name)||void 0===e?void 0:e.message})]}),Object(C.jsxs)(F.a.Group,{children:[Object(C.jsx)(F.a.Label,{children:"Descripci\xf3n"}),Object(C.jsx)(F.a.Control,{as:"textarea",isInvalid:!!j.description,name:"description"}),Object(C.jsx)(F.a.Control.Feedback,{type:"invalid",children:null===(t=j.description)||void 0===t?void 0:t.message})]}),Object(C.jsxs)(F.a.Group,{children:[Object(C.jsx)(F.a.Label,{children:"Permisos"}),Object(C.jsx)(V.a,{name:"permissions",control:d,rules:{validate:{nonEmpty:function(e){return e.length>0||"Debe elegir al menos uno."}}},render:function(e){return Object(C.jsx)(lt,{defaultChecked:b("permissions")||[],isInvalid:!!j.permissions,onChange:function(e,t){}})}}),Object(C.jsx)(F.a.Control.Feedback,{type:"invalid",children:null===(a=j.permissions)||void 0===a?void 0:a.message})]}),Object(C.jsx)(O.a,{type:"submit",children:"Guardar"})]}))},jt=function(e){var t=Object(V.d)({defaultValues:{dni:"",dniComplement:"",dniIssuedAt:"",name:"",middlename:"",lastname:"",gender:"",dateOfBirth:"",nationality:""}}),a=t.handleSubmit,n=(t.register,t.reset,t.getValues,Object(r.useState)(!1)),c=Object(k.a)(n,2);c[0],c[1];return Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)(F.a,{onSubmit:a((function(e){})),children:[Object(C.jsxs)(F.a.Row,{children:[Object(C.jsxs)(F.a.Group,{as:u.a,sm:8,md:6,children:[Object(C.jsx)(F.a.Label,{children:"Documento de identidad"}),Object(C.jsx)(F.a.Control,{type:"number",name:"dni"})]}),Object(C.jsxs)(F.a.Group,{as:u.a,sm:4,md:3,children:[Object(C.jsx)(F.a.Label,{children:"Complemento"}),Object(C.jsx)(F.a.Control,{name:"dniComplement"})]}),Object(C.jsxs)(F.a.Group,{as:u.a,sm:4,md:3,children:[Object(C.jsx)(F.a.Label,{children:"Expedido en"}),Object(C.jsxs)(F.a.Control,{as:"select",name:"dniIssuedAt",children:[Object(C.jsx)("option",{disabled:!0,value:""}),Object(C.jsx)("option",{value:"BN",children:"Beni"}),Object(C.jsx)("option",{value:"CB",children:"Cochabamba"}),Object(C.jsx)("option",{value:"CH",children:"Chuquisaca"}),Object(C.jsx)("option",{value:"LP",children:"La Paz"}),Object(C.jsx)("option",{value:"OR",children:"Oruro"}),Object(C.jsx)("option",{value:"PN",children:"Pando"}),Object(C.jsx)("option",{value:"PT",children:"Potos\xed"}),Object(C.jsx)("option",{value:"TJ",children:"Tarija"}),Object(C.jsx)("option",{value:"SC",children:"Santa Cruz"})]})]})]}),Object(C.jsxs)(F.a.Row,{children:[Object(C.jsxs)(F.a.Group,{as:u.a,lg:4,children:[Object(C.jsx)(F.a.Label,{children:"Nombres"}),Object(C.jsx)(F.a.Control,{name:"name"})]}),Object(C.jsxs)(F.a.Group,{as:u.a,lg:4,children:[Object(C.jsx)(F.a.Label,{children:"Primer Apellido"}),Object(C.jsx)(F.a.Control,{name:"middlename"})]}),Object(C.jsxs)(F.a.Group,{as:u.a,lg:4,children:[Object(C.jsx)(F.a.Label,{children:"Segundo Apellido"}),Object(C.jsx)(F.a.Control,{name:"lastname"})]})]})]})})},ut=a(35),bt=function(){var e,t,a=Object(V.e)(),n=a.register,c=a.formState.errors,s=(a.watch,a.setValue),i=a.getValues,o=Object(R.a)("fetchRoles",(function(){return console.log("fetchingRoles"),Xe()}),{enabled:!1}),l=(null===(e=o.data)||void 0===e?void 0:e.data)||[];return Object(r.useEffect)((function(){n("roleIds",{validate:{nonEmpty:function(e){return e.length>0||"Debe elegir al menos un rol."}}})}),[n]),Object(r.useEffect)((function(){o.refetch()}),[]),Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(Z.a,{as:"ul",className:"overflow-auto flex-grow-1 ".concat(c.roleIds?"is-invalid":""),style:{height:"10rem"},children:o.isFetching?"Cargando":o.isError?"Error":l.map((function(e,t){return Object(C.jsx)(Z.a.Item,{as:"li",className:"py-2 px-3 text-capitalize",action:!0,children:Object(C.jsx)(F.a.Check,{type:"checkbox",label:e.name,isInvalid:!!c.roleIds,name:"roleIds[".concat(e.id,"]"),onChange:function(t){var a=t.target.checked,r=i("roleIds");s("roleIds",a?[].concat(Object(ut.a)(r),[e.id]):r.filter((function(t){return t!=e.id})),{shouldValidate:!0})}})},e.id)}))}),Object(C.jsx)(F.a.Control.Feedback,{type:"invalid",children:null===(t=c.roleIds)||void 0===t?void 0:t.message})]})},Ot=function(e){Object(m.i)().id;var t,a,n,c=Object(V.d)({mode:"onBlur",defaultValues:{username:"",password:"",passwordRepeat:"",roleIds:[]}}),s=c.register,i=c.reset,o=c.handleSubmit,l=c.watch,d=c.formState,b=d.isValid,x=d.errors,p=Object(P.a)(We),v=Object(r.useState)(!1),g=Object(k.a)(v,2),y=g[0],N=g[1];Object(r.useEffect)((function(){p.error&&N(!0)}),[p.error]);return Object(r.useEffect)((function(){p.data&&i()}),[p.data]),Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(V.b,Object(f.a)(Object(f.a)({},c),{},{children:Object(C.jsxs)(F.a,{noValidate:!0,validated:b,onSubmit:o((function(t){console.log("OnSubmit",t),p.mutate({externalId:e.personId,username:t.username,password:t.password,roleIds:t.roleIds})})),children:[Object(C.jsxs)(F.a.Row,{children:[Object(C.jsxs)(F.a.Group,{controlId:"username",as:u.a,md:4,children:[Object(C.jsx)(F.a.Label,{children:"Usuarios"}),Object(C.jsx)(F.a.Control,Object(f.a)({isInvalid:!!x.username},s("username",{pattern:{value:/^\S*$/,message:"Este campo no debe contener espacios."},required:{value:!0,message:"Este campo es requerido."},minLength:{value:4,message:"Este campo no debe tener al menos 4 caracteres."},maxLength:{value:16,message:"Este campo no debe exceder los 16 caracteres."}}))),Object(C.jsx)(F.a.Control.Feedback,{type:"invalid",children:null===(t=x.username)||void 0===t?void 0:t.message})]}),Object(C.jsxs)(F.a.Group,{as:u.a,md:4,children:[Object(C.jsx)(F.a.Label,{children:"Contrase\xf1a"}),Object(C.jsx)(F.a.Control,Object(f.a)({type:"password",isInvalid:!!x.password},s("password",{required:{value:!0,message:"Este campo es requerido"},minLength:{value:8,message:"Este campo no debe tener al menos 8 caracteres"},maxLength:{value:16,message:"Este campo no debe exceder los 16 caracteres"}}))),Object(C.jsx)(F.a.Control.Feedback,{type:"invalid",children:null===(a=x.password)||void 0===a?void 0:a.message})]}),Object(C.jsxs)(F.a.Group,{as:u.a,md:4,children:[Object(C.jsx)(F.a.Label,{children:"Confirmar contrase\xf1a"}),Object(C.jsx)(F.a.Control,Object(f.a)({type:"password",isInvalid:!!x.passwordRepeat},s("passwordRepeat",{required:{value:!0,message:"Este campo es requerido"},validate:{matchPassword:function(e){return e===l("password")||"Las contrase\xf1as no coinciden"}}}))),Object(C.jsx)(F.a.Control.Feedback,{type:"invalid",children:null===(n=x.passwordRepeat)||void 0===n?void 0:n.message})]})]}),Object(C.jsx)("label",{className:"mb-2",children:"Descuentos que se aplicar\xe1n"}),Object(C.jsx)(j.a,{children:Object(C.jsx)(u.a,{children:Object(C.jsx)(bt,{})})}),Object(C.jsx)(F.a.Row,{children:Object(C.jsx)(u.a,{children:Object(C.jsxs)(O.a,{type:"submit",children:[p.isLoading?Object(C.jsx)(E.a,{animation:"border",size:"sm"}):null,Object(C.jsx)("span",{className:"ml-2",children:"Registrar"})]})})})]})})),function(){var e,t;return 409==(null===(e=p.error)||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)?function(){var e,t,a,r;console.log(null===(e=p.error)||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data);var n=(null===(a=p.error)||void 0===a||null===(r=a.response)||void 0===r?void 0:r.data).payload;return Object(C.jsxs)(ae.a,{centered:!0,show:y,onHide:function(){return N(!1)},children:[Object(C.jsx)(ae.a.Header,{children:"Conflicto"}),Object(C.jsx)(ae.a.Body,{children:Object(C.jsx)(H.a,{variant:"danger",children:Object(C.jsxs)("p",{children:["Ya existe un ",Object(C.jsx)(h.b,{to:{pathname:"/iam/usuarios/".concat(n.id),state:{user:n}},children:"usuario"})," para esta persona"]})})})]})}():null}()]})},ht=function(){Object(g.b)();var e=Object(r.useState)("0"),t=Object(k.a)(e,2),a=t[0],n=(t[1],Object(r.useState)(null)),c=Object(k.a)(n,2),s=c[0],i=c[1];return Object(C.jsxs)("div",{className:"d-flex flex-column bg-white rounded-lg shadow-sm m-2 p-3 flex-grow-1",children:[Object(C.jsx)("h1",{style:{fontSize:"2rem"},children:"Usuarios"}),Object(C.jsxs)(fe.a,{defaultActiveKey:a,children:[Object(C.jsxs)(ve.a,{children:[Object(C.jsx)(fe.a.Toggle,{as:ve.a.Header,className:"bg-primary text-light",eventKey:"0",children:"Informaci\xf3n personal"}),Object(C.jsx)(fe.a.Collapse,{eventKey:"0",children:Object(C.jsx)(ve.a.Body,{children:Object(C.jsx)(jt,{onComplete:function(e){i(e)}})})})]}),Object(C.jsxs)(ve.a,{children:[Object(C.jsx)(fe.a.Toggle,{as:ve.a.Header,className:"bg-primary text-light",eventKey:"1",children:"Informaci\xf3n de Usuario"}),Object(C.jsx)(fe.a.Collapse,{eventKey:"1",children:Object(C.jsx)(ve.a.Body,{children:Object(C.jsx)(Ot,{personId:s})})})]})]})]})},mt=function(){var e=Object(m.h)().state,t=Object(m.i)().userId,a=Object(r.useState)(null===e||void 0===e?void 0:e.user),n=Object(k.a)(a,2),c=n[0],s=n[1],i=Object(R.a)(["fetchUser",t],(function(){return Qe(parseInt(t))}),{enabled:!(null===e||void 0===e?void 0:e.user),refetchOnWindowFocus:!1});return Object(r.useEffect)((function(){var e;i.data&&s(null===(e=i.data)||void 0===e?void 0:e.data)}),[i.data]),Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("h2",{style:{fontSize:"1.75rem"},children:null===c||void 0===c?void 0:c.username}),Object(C.jsx)(z.a,{children:Object(C.jsxs)("tbody",{children:[Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{className:"text-nowrap",scope:"row",style:{width:"1px"},children:"Nombre de usuario"}),Object(C.jsxs)("td",{children:[": ",null===c||void 0===c?void 0:c.username]})]}),Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{scope:"row",children:"Estado"}),Object(C.jsxs)("td",{children:[": ",(null===c||void 0===c?void 0:c.active)?"Activo":"Inactivo"]})]}),Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{scope:"row",children:"Creado en"}),Object(C.jsxs)("td",{children:[": ",null===c||void 0===c?void 0:c.createdAt]})]}),Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{scope:"row",children:"Actualizado en"}),Object(C.jsxs)("td",{children:[": ",null===c||void 0===c?void 0:c.updatedAt]})]}),Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{scope:"row",children:"Roles"}),Object(C.jsxs)("td",{children:[": ",null===c||void 0===c?void 0:c.updatedAt]})]})]})})]})},xt=function(){var e,t=Object(m.i)().userId,a=Object(V.d)({mode:"onBlur",defaultValues:{username:"",roleIds:[]}}),n=a.register,c=a.reset,s=a.handleSubmit,i=a.watch,o=a.formState.errors;a.formState.isValid;console.log("Fields",i());var l=Object(P.a)(Je),d=Object(R.a)(["loadUser",t],(function(){return Qe(parseInt(t))}),{enabled:!1});return Object(r.useEffect)((function(){d.refetch()}),[t]),Object(r.useEffect)((function(){d.data&&c({username:d.data.data.username,roleIds:d.data.data.roleIds})}),[d.data]),Object(C.jsx)(V.b,Object(f.a)(Object(f.a)({},a),{},{children:Object(C.jsxs)(F.a,{onSubmit:s((function(e){l.mutate({id:parseInt(t),username:e.username,roleIds:e.roleIds})})),children:[Object(C.jsxs)(F.a.Group,{controlId:"username",children:[Object(C.jsx)(F.a.Label,{children:"Nombre de usuario"}),Object(C.jsx)(F.a.Control,Object(f.a)({isInvalid:!!o.username},n("username",{pattern:{value:/^\S*$/,message:"Este campo no debe contener espacios."},required:{value:!0,message:"Este campo es requerido."},minLength:{value:4,message:"Este campo no debe tener al menos 4 caracteres."},maxLength:{value:16,message:"Este campo no debe exceder los 16 caracteres."}}))),Object(C.jsx)(F.a.Control.Feedback,{type:"invalid",children:null===(e=o.username)||void 0===e?void 0:e.message})]}),Object(C.jsxs)(F.a.Group,{children:[Object(C.jsx)(F.a.Label,{children:"Roles"}),Object(C.jsx)(bt,{})]}),Object(C.jsxs)(O.a,{type:"submit",children:[l.isLoading?Object(C.jsx)(E.a,{animation:"border",size:"sm"}):null,Object(C.jsx)("span",{className:"ml-2",children:"Registrar"})]})]})}))},pt=function(){var e=Object(m.j)(),t=(e.path,e.url);return Object(C.jsx)(S,{sidebar:{items:[{id:"users",icon:Object(C.jsx)(p.o,{}),path:"".concat(t,"/usuarios"),title:"Usuarios"},{id:"roles",icon:Object(C.jsx)(p.l,{}),path:"".concat(t,"/roles"),title:"Roles"}]},children:Object(C.jsxs)(m.d,{children:[Object(C.jsx)(m.b,{exact:!0,path:"".concat(t),children:Object(C.jsx)(m.a,{to:"".concat(t,"/usuarios")})}),Object(C.jsx)(m.b,{exact:!0,path:"".concat(t,"/usuarios"),children:Object(C.jsx)(ct,{})}),Object(C.jsx)(m.b,{exact:!0,path:"".concat(t,"/usuarios/registrar"),children:Object(C.jsx)(ht,{})}),Object(C.jsx)(m.b,{exact:!0,path:"".concat(t,"/usuarios/:userId"),children:Object(C.jsx)(mt,{})}),Object(C.jsx)(m.b,{exact:!0,path:"".concat(t,"/usuarios/:userId/editar"),children:Object(C.jsx)(xt,{})}),Object(C.jsx)(m.b,{exact:!0,path:"".concat(t,"/roles/:action(crear)"),children:Object(C.jsx)(dt,{})}),Object(C.jsx)(m.b,{exact:!0,path:"".concat(t,"/roles/:id/:action(editar)"),children:Object(C.jsx)(dt,{})}),Object(C.jsx)(m.b,{path:"".concat(t,"/roles"),children:Object(C.jsx)(ot,{})})]})})},ft=function(e){return e.auth.user},vt=function(e){return null!=e.auth.user},gt={login:function(){var e=Object(Ke.a)(qe.a.mark((function e(t,a,r){return qe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je.authClient.get("sanctum/csrf-cookie");case 2:return e.next=4,je.authClient.post("login",{username:t,password:a,remember_me:r});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t,a,r){return e.apply(this,arguments)}}()},yt=(a(206),function(){var e,t,a,r,n,c=Object(g.b)(),s=Object(m.h)().state,i=Object(g.c)(vt),o=Object(V.d)({defaultValues:{username:"",password:"",remember_me:!1}}),l=o.handleSubmit,d=o.register,j=o.formState,u=Object(P.a)((function(e){var t=e.username,a=e.password,r=e.remember_me;return gt.login(t,a,r)}),{onSuccess:function(e){var t=e.data;localStorage.setItem("user",JSON.stringify(t)),c({type:"SET_USER",payload:t})}});return i?Object(C.jsx)(m.a,{to:(null===s||void 0===s?void 0:s.from)||"/"}):Object(C.jsx)("div",{className:"auth-wrapper bg-light",children:Object(C.jsx)("div",{className:"auth-inner shadow-sm",children:Object(C.jsxs)(F.a,{onSubmit:l((function(e){u.mutate(e)})),children:[Object(C.jsx)("h3",{className:"mb-2 text-center",style:{fontSize:"1.25rem"},children:"Iniciar Sesi\xf3n en Hip\xf3crates"}),u.isError?Object(C.jsx)(H.a,{variant:"danger",children:(null===(e=u.error)||void 0===e||null===(t=e.response)||void 0===t?void 0:t.message)||(null===(a=u.error)||void 0===a?void 0:a.message)}):null,Object(C.jsxs)(F.a.Group,{children:[Object(C.jsx)(F.a.Label,{children:"Usuario"}),Object(C.jsx)(F.a.Control,Object(f.a)({isInvalid:!!j.errors.username},d("username",{required:W()}))),Object(C.jsx)(F.a.Control.Feedback,{type:"invalid",children:null===(r=j.errors.username)||void 0===r?void 0:r.message})]}),Object(C.jsxs)(F.a.Group,{children:[Object(C.jsx)(F.a.Label,{children:"Contrase\xf1a"}),Object(C.jsx)(F.a.Control,Object(f.a)({type:"password",isInvalid:!!j.errors.password},d("password",{required:W()}))),Object(C.jsx)(F.a.Control.Feedback,{type:"invalid",children:null===(n=j.errors.password)||void 0===n?void 0:n.message})]}),Object(C.jsx)(F.a.Group,{children:Object(C.jsx)(F.a.Check,Object(f.a)({type:"checkbox",label:"Recordar sesi\xf3n"},d("remember_me")))}),Object(C.jsxs)(O.a,{type:"submit",className:"btn btn-primary btn-block",children:[u.isLoading?Object(C.jsx)(E.a,{size:"sm",animation:"border"}):null,Object(C.jsx)("span",{className:"align-middle ml-1",children:"Iniciar Sesi\xf3n"})]})]})})})}),Ct=function(e){var t=e.children,a=Object(y.a)(e,["children"]),r=Object(g.c)(vt);return Object(C.jsx)(m.b,Object(f.a)(Object(f.a)({},a),{},{render:function(e){var a=e.location;return r?t:Object(C.jsx)(m.a,{to:{pathname:"/login",state:{from:a}}})}}))},Nt=(a(207),a(107)),wt=qe.a.mark(Et),St=qe.a.mark(Lt),It="UNAUTHORIZED";function kt(){return{type:It}}function Et(e){return qe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.removeItem("user");case 1:case"end":return e.stop()}}),wt)}function Lt(){return qe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Nt.b)(It,Et);case 2:case"end":return e.stop()}}),St)}var Ft=function(){var e=Object(g.b)(),t=Object(g.c)(ft);return Object(r.useEffect)((function(){_.b.interceptors.response.use((function(e){return e}),(function(t){var a,r;return 401!=(null===(a=t.response)||void 0===a?void 0:a.status)&&419!=(null===(r=t.response)||void 0===r?void 0:r.status)||e(kt()),Promise.reject(t)}));var t=localStorage.getItem("user");e({type:"SET_USER",payload:t?JSON.parse(t):null})}),[]),Object(C.jsxs)(h.a,{children:[Object(C.jsxs)(i.a,{className:"shadow-sm border-bottom",bg:"white",variant:"light",style:{zIndex:1},children:[t?Object(C.jsx)(i.a.Toggle,{style:{display:"initial"},onClick:function(){e({type:"TOGGLE_SIDEBAR"})},children:Object(C.jsx)(p.a,{})}):null,Object(C.jsx)(i.a.Brand,{href:"#home",className:"ml-4",children:"Hip\xf3crates"}),Object(C.jsxs)(o.a,{className:"ml-auto",children:[Object(C.jsx)(l.a,{trigger:"click",rootClose:!0,placement:"bottom",overlay:Object(C.jsxs)(d.a,{id:"apps",style:{maxWidth:"none"},children:[Object(C.jsx)(d.a.Title,{className:"text-center",as:"h3",children:"Aplicaciones"}),Object(C.jsx)(d.a.Content,{children:Object(C.jsxs)(j.a,{children:[Object(C.jsx)(u.a,{className:"text-center",children:Object(C.jsxs)(h.b,{to:"/iam",children:[Object(C.jsx)(p.m,{className:"d-block mx-auto",size:48}),Object(C.jsx)("span",{children:"IAM"})]})}),Object(C.jsx)(u.a,{className:"text-center",children:Object(C.jsxs)(h.b,{to:"/clinica",children:[Object(C.jsx)(p.c,{className:"d-block mx-auto",size:48}),Object(C.jsx)("span",{children:"Cl\xednica"})]})})]})})]}),children:Object(C.jsx)(o.a.Link,{children:Object(C.jsx)(x.a,{size:"1.5em"})})}),t?Object(C.jsx)(l.a,{trigger:"click",rootClose:!0,placement:"bottom",overlay:Object(C.jsxs)(d.a,{id:"apps",children:[Object(C.jsx)(d.a.Title,{className:"text-center",as:"h3",children:"Notificaciones"}),Object(C.jsx)(d.a.Content,{})]}),children:Object(C.jsxs)(o.a.Link,{style:{whiteSpace:"nowrap"},children:[Object(C.jsx)(p.b,{}),Object(C.jsx)("div",{className:"pulse bg-danger",style:{left:"0.65rem",top:"-1.35rem",width:"0.5rem",height:"0.5rem",borderRadius:"50%"}})]})}):null,t?Object(C.jsxs)(b.a,{title:Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(p.m,{}),Object(C.jsx)("span",{className:"d-none d-sm-inline ml-1",children:t.username})]}),id:"collasible-nav-dropdown",children:[Object(C.jsx)(b.a.Item,{href:"#action/3.2",children:"Cuenta"}),Object(C.jsx)(b.a.Item,{href:"#action/3.3",children:"Configuracion"}),Object(C.jsx)(b.a.Divider,{}),Object(C.jsx)(b.a.Item,{as:O.a,className:"btn-link",onClick:function(){_.b.post("logout").then((function(){e(kt()),localStorage.removeItem("user")}))},children:"Cerrar sesi\xf3n"})]}):Object(C.jsx)(o.a.Link,{as:h.b,to:"/login",children:"Iniciar sesi\xf3n"})]})]}),Object(C.jsxs)(m.d,{children:[Object(C.jsx)(Ct,{path:"/iam",children:Object(C.jsx)(pt,{})}),Object(C.jsx)(Ct,{path:"/clinica",children:Object(C.jsx)(De,{})}),Object(C.jsx)(m.b,{exact:!0,path:"/login",children:Object(C.jsx)(yt,{})})]})]})},zt=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,239)).then((function(t){var a=t.getCLS,r=t.getFID,n=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),r(e),n(e),c(e),s(e)}))},Rt=a(227),Pt=a(155),Mt=a(45),At={fields:{username:"",password:""},errors:{username:"",password:""},message:""},Tt=Object(Mt.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload,n=t.error;switch(a){case"SET_USER":case"LOGIN_COMPLETED":case"LOAD_USER_COMPLETED":return n?e:r;case"UNAUTHORIZED":return null;default:return e}},loadUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=(t.payload,t.type);switch(a){case"LOAD_USER":return{completed:!1};case"LOAD_USER_COMPLETED":return{completed:!0}}return e},login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=t.type;t.payload;switch(a){case"LOGIN":return{completed:!1};case"LOGIN_COMPLETED":return{completed:!0}}return e},loginForm:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:At,t=arguments.length>1?arguments[1]:void 0;if("UPDATE_LOGIN_FORM"==t.type)return Object(f.a)(Object(f.a)({},e),t.payload);if("LOGIN"==t.type)return Object(f.a)(Object(f.a)({},e),{},{message:"",errors:At.errors});if("LOGIN_COMPLETED"==t.type&&t.error){var a=t.payload,r=a.message,n=a.errors;return Object(f.a)(Object(f.a)({},e),{},{message:r,errors:n||At.errors})}return"LOGIN_COMPLETED"==t.type?At:e}});var _t=Object(Mt.c)({showSidebar:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;return"TOGGLE_SIDEBAR"==t.type?!e:e}}),Gt=qe.a.mark(Bt);function Bt(){return qe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Nt.a)([Lt()]);case 2:case"end":return e.stop()}}),Gt)}var Dt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Mt.d,Ut=function(){var e=Object(Mt.c)({main:_t,auth:Tt}),t=Object(Pt.a)(),a=Object(Mt.e)(e,Dt(Object(Mt.a)(t)));return t.run(Bt),a};String.prototype.replaceAll||(String.prototype.replaceAll=function(){var e=arguments[0],t=arguments[1];return"[object regexp]"===Object.prototype.toString.call(e).toLowerCase()?this.replace(e,t):this.replace(new RegExp(e,"g"),t)}),String.prototype.format||(String.prototype.format=function(){var e=arguments;return this.replace(/{(\d+)}/g,(function(t,a){return"undefined"!=typeof e[a]?e[a]:t}))});a(208),a(209);var qt=new Rt.a({defaultOptions:{queries:{retry:0},mutations:{retry:0}}});s.a.render(Object(C.jsx)(ke.a,{client:qt,children:Object(C.jsx)(g.a,{store:Ut(),children:Object(C.jsx)(Ft,{})})}),document.getElementById("root")),zt()},29:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var r=a(54),n=a.n(r),c=a(92),s=a(73),i=a.n(s),o=a(93),l=n.a.create({baseURL:c.a,timeout:3e4,transformResponse:[function(e){try{var t=Object(o.a)(JSON.parse(e));return console.log("TransformedResponse",t),t}catch(a){console.error("OnTransformResponse",e,a)}return e}]});l.defaults.withCredentials=!0,l.interceptors.request.use((function(e){return e.headers.Accept="application/json",e.paramsSerializer=function(e){return i.a.stringify(e,{arrayFormat:"brackets",encode:!1})},console.log("Axios config",e),e})),t.b=l},40:function(e,t,a){"use strict";var r=a(29);a.d(t,"apiClient",(function(){return r.a}));var n=a(136);a.d(t,"authClient",(function(){return n.a}));a(137),a(138)},92:function(e){e.exports=JSON.parse('{"a":"http://api.example.com/","b":"http://api.example.com/"}')},93:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var r=function(e){return Array.isArray(e)},n=function(e){return e===Object(e)&&!r(e)&&"function"!==typeof e},c=function e(t){if(n(t)){var a={};return Object.keys(t).forEach((function(r){var n;a[(n=r,n.replace(/([-_][a-z])/gi,(function(e){return e.toUpperCase().replace("-","").replace("_","")})))]=e(t[r])})),a}return r(t)?t.map((function(t){return e(t)})):t}}},[[210,1,2]]]);
//# sourceMappingURL=main.89792469.chunk.js.map