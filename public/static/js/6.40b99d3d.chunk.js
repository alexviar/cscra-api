(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[6],{632:function(e,t,n){"use strict";var a=n(128);n.d(t,"b",(function(){return a.b})),n.d(t,"c",(function(){return a.c}));var r=n(146);n.d(t,"d",(function(){return r.a}));var i=n(633);n.d(t,"a",(function(){return i.a}))},633:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a={};n.r(a),n.d(a,"VER_SOLICITUDES_DE_ATENCION_EXTERNA",(function(){return r})),n.d(a,"VER_SOLICITUDES_DE_ATENCION_EXTERNA_MISMA_REGIONAL",(function(){return i})),n.d(a,"VER_SOLICITUDES_DE_ATENCION_EXTERNA_REGISTRADO_POR",(function(){return c})),n.d(a,"REGISTRAR_SOLICITUDES_DE_ATENCION_EXTERNA",(function(){return o})),n.d(a,"REGISTRAR_SOLICITUDES_DE_ATENCION_EXTERNA_MISMA_REGIONAL",(function(){return s})),n.d(a,"EMITIR_SOLICITUDES_DE_ATENCION_EXTERNA",(function(){return l})),n.d(a,"EMITIR_SOLICITUDES_DE_ATENCION_EXTERNA_MISMA_REGIONAL",(function(){return d})),n.d(a,"EMITIR_SOLICITUDES_DE_ATENCION_EXTERNA_REGISTRADO_POR",(function(){return j})),n.d(a,"VER_USUARIOS",(function(){return u})),n.d(a,"VER_USUARIOS_DE_LA_MISMA_REGIONAL_QUE_EL_USUARIO",(function(){return b})),n.d(a,"REGISTRAR_USUARIOS",(function(){return O})),n.d(a,"REGISTRAR_USUARIOS_DE_LA_MISMA_REGIONAL_QUE_EL_USUARIO",(function(){return h})),n.d(a,"EDITAR_USUARIOS",(function(){return x})),n.d(a,"EDITAR_USUARIOS_DE_LA_MISMA_REGIONAL_QUE_EL_USUARIO",(function(){return m})),n.d(a,"BLOQUEAR_USUARIOS",(function(){return v})),n.d(a,"BLOQUEAR_USUARIOS_DE_LA_MISMA_REGIONAL_QUE_EL_USUARIO",(function(){return p})),n.d(a,"DESBLOQUEAR_USUARIOS",(function(){return f})),n.d(a,"DESBLOQUEAR_USUARIOS_DE_LA_MISMA_REGIONAL_QUE_EL_USUARIO",(function(){return g})),n.d(a,"CAMBIAR_CONTRASE\xd1A",(function(){return E})),n.d(a,"CAMBIAR_CONTRASE\xd1A_DE_LA_MISMA_REGIONAL_QUE_EL_USUARIO",(function(){return R})),n.d(a,"VER_ROLES",(function(){return S})),n.d(a,"REGISTRAR_ROLES",(function(){return I})),n.d(a,"EDITAR_ROLES",(function(){return N})),n.d(a,"ELIMINAR_ROLES",(function(){return C})),n.d(a,"VER_LISTA_DE_MORA",(function(){return _})),n.d(a,"VER_LISTA_DE_MORA_REGIONAL",(function(){return A})),n.d(a,"AGREGAR_EMPLEADOR_EN_MORA",(function(){return y})),n.d(a,"AGREGAR_EMPLEADOR_EN_MORA_DE_LA_MISMA_REGIONAL",(function(){return L})),n.d(a,"QUITAR_EMPLEADOR_EN_MORA",(function(){return T})),n.d(a,"QUITAR_EMPLEADOR_EN_MORA_DE_LA_MISMA_REGIONAL",(function(){return w})),n.d(a,"VER_MEDICOS",(function(){return D})),n.d(a,"VER_MEDICOS_REGIONAL",(function(){return M})),n.d(a,"REGISTRAR_MEDICOS",(function(){return G})),n.d(a,"REGISTRAR_MEDICOS_REGIONAL",(function(){return P})),n.d(a,"EDITAR_MEDICOS",(function(){return V})),n.d(a,"EDITAR_MEDICOS_REGIONAL",(function(){return z})),n.d(a,"BAJA_MEDICOS",(function(){return k})),n.d(a,"BAJA_MEDICOS_REGIONAL",(function(){return F})),n.d(a,"VER_PROVEEDORES",(function(){return B})),n.d(a,"VER_PROVEEDORES_REGIONAL",(function(){return U})),n.d(a,"REGISTRAR_PROVEEDORES",(function(){return q})),n.d(a,"REGISTRAR_PROVEEDORES_REGIONAL",(function(){return Q})),n.d(a,"EDITAR_PROVEEDORES",(function(){return X})),n.d(a,"EDITAR_PROVEEDORES_REGIONAL",(function(){return H})),n.d(a,"BAJA_PROVEEDOR",(function(){return K})),n.d(a,"BAJA_PROVEEDOR_REGIONAL",(function(){return W})),n.d(a,"VER_CONTRATOS_PROVEEDOR",(function(){return J})),n.d(a,"VER_CONTRATOS_PROVEEDOR_REGIONAL",(function(){return $})),n.d(a,"REGISTRAR_CONTRATOS_PROVEEDOR",(function(){return Z})),n.d(a,"REGISTRAR_CONTRATOS_PROVEEDOR_REGIONAL",(function(){return Y})),n.d(a,"CONSUMIR_CONTRATOS_PROVEEDOR",(function(){return ee})),n.d(a,"CONSUMIR_CONTRATOS_PROVEEDOR_REGIONAL",(function(){return te})),n.d(a,"EXTENDER_CONTRATOS_PROVEEDOR",(function(){return ne})),n.d(a,"EXTENDER_CONTRATOS_PROVEEDOR_REGIONAL",(function(){return ae})),n.d(a,"ANULAR_CONTRATOS_PROVEEDOR",(function(){return re})),n.d(a,"ANULAR_CONTRATOS_PROVEEDOR_REGIONAL",(function(){return ie})),n.d(a,"VER_ESPECIALIDADES",(function(){return ce})),n.d(a,"REGISTRAR_ESPECIALIDADES",(function(){return oe})),n.d(a,"EDITAR_ESPECIALIDADES",(function(){return se})),n.d(a,"ELIMINAR_ESPECIALIDADES",(function(){return le})),n.d(a,"IMPORTAR_ESPECIALIDADES",(function(){return de})),n.d(a,"VER_PRESTACIONES",(function(){return je})),n.d(a,"REGISTRAR_PRESTACIONES",(function(){return ue})),n.d(a,"EDITAR_PRESTACIONES",(function(){return be})),n.d(a,"ELIMINAR_PRESTACIONES",(function(){return Oe})),n.d(a,"IMPORTAR_PRESTACIONES",(function(){return he}));var r="Ver solicitudes de atencion externa",i="Ver solicitudes de atencion externa (misma regional)",c="Ver solicitudes de atencion externa (registrado por)",o="Registrar solicitudes de atencion externa",s="Registrar solicitudes de atencion externa (misma regional)",l="Emitir solicitudes de atencion externa",d="Emitir solicitudes de atencion externa (misma regional)",j="Emitir solicitudes de atencion externa (registrado por)",u="Ver usuarios",b="Ver usuarios (misma regional)",O="Registrar usuarios",h="Registrar usuarios (misma regional)",x="Editar usuarios",m="Editar usuarios (misma regional)",v="Bloquear usuarios",p="Bloquear usuarios (misma regional)",f="Desbloquear usuarios",g="Desbloquear usuarios (misma regional)",E="Cambiar contrase\xf1a",R="Cambiar contrase\xf1a (misma regional)",S="Ver roles",I="Registrar roles",N="Editar roles",C="Eliminar roles",_="Ver lista de mora",A="Ver lista de mora (regional)",y="Agregar empleador en mora",L="Agregar empleador en mora (misma regional)",T="Quitar empleador en mora",w="Quitar empleador en mora (misma regional)",D="Ver m\xe9dicos",M="Ver m\xe9dicos (regional)",G="Registrar m\xe9dicos",P="Registrar m\xe9dicos (regional)",V="Editar m\xe9dicos",z="Editar m\xe9dicos (regional)",k="Baja m\xe9dicos",F="Baja m\xe9dicos (regional)",B="Ver proveedores",U="Ver proveedores (regional)",q="Registrar proveedores",Q="Registrar proveedores (regional)",X="Editar proveedores",H="Editar proveedores (regional)",K="Baja proveedores",W="Baja proveedores (regional)",J="Ver contratos de proveedores",$="Ver contratos de proveedores (regional)",Z="Registrar contratos de proveedores",Y="Registrar contratos de proveedores (regional)",ee="Consumir contratos de proveedores",te="Consumir contratos de proveedores (regional)",ne="Extender contratos de proveedores",ae="Extender contratos de proveedores (regional)",re="Anular contratos de proveedores",ie="Anular contratos de proveedores (regional)",ce="Ver especialidades",oe="Registrar especialidades",se="Editar especialidades",le="Eliminar especialidades",de="Importar especialidades",je="Ver prestaciones",ue="Registrar prestaciones",be="Editar prestaciones",Oe="Eliminar prestaciones",he="Importar prestaciones"},634:function(e,t,n){},635:function(e,t,n){"use strict";var a=n(16),r=n(1),i=n.n(r),c=n(636),o=n(43);function s(e,t){Object(r.useEffect)((function(){var n=function(n){var a=null===e||void 0===e?void 0:e.current;a&&!a.contains(n.target)&&document.querySelector("html")!=n.target&&t(n)};return document.addEventListener("mousedown",n),document.addEventListener("touchstart",n),function(){document.removeEventListener("mousedown",n),document.removeEventListener("touchstart",n)}}),[e,t])}var l=n(36),d=n(3),j=function(e){var t=e.children,n=e.onClickOutside,i=Object(l.a)(e,["children","onClickOutside"]),c=Object(r.useRef)(null);return s(c,n),Object(d.jsx)("div",Object(a.a)(Object(a.a)({ref:c},i),{},{children:t}))},u=n(651),b=n(24),O=n(71),h=function(e){var t=Object(b.j)(e.path||"");return Object(d.jsxs)(d.Fragment,{children:[e.path?Object(d.jsxs)(u.a.Item,{as:O.b,to:e.path,action:!0,active:!!t,className:"border-0 text-nowrap",style:{padding:".5rem 1rem"},children:[e.icon,Object(d.jsx)("span",{style:{verticalAlign:"middle",marginLeft:"0.5rem"},children:e.title})]},e.id):Object(d.jsxs)("div",{className:"list-group-item border-0 text-nowrap",style:{padding:".5rem 1rem"},children:[e.icon,Object(d.jsx)("span",{style:{verticalAlign:"middle",marginLeft:"0.5rem"},children:e.title})]},e.id),e.items&&e.items.map((function(e){return Object(d.jsxs)(O.b,{to:e.path,style:{padding:".5rem 1rem",paddingLeft:"2rem"},className:"list-group-item list-group-item-action border-0 text-nowrap",children:[e.icon||null,Object(d.jsx)("span",{style:{verticalAlign:"middle",marginLeft:"0.5rem"},children:e.title})]},e.id)}))]})},x=function(e){var t=e.className,n=void 0===t?"":t,r=e.side,i=void 0===r?"right":r,c=e.header,o=void 0===c?"":c,s=e.items,l=void 0===s?[]:s;e.renderItem;return Object(d.jsxs)("div",{className:"".concat(n,"  ").concat({left:"border-left",right:"border-right"}[i]),id:"sidebar-wrapper",children:[Object(d.jsx)("div",{className:"sidebar-heading mt-2",children:o}),Object(d.jsx)("hr",{className:"mx-2"}),Object(d.jsx)(u.a,{variant:"flush",children:l.map((function(e){return Object(d.jsx)(h,Object(a.a)({},e),e.id)}))})]})};n(634),t.a=function(e){var t=e.sidebar,n=e.children,r=Object(o.c)((function(e){return e.sidebarVisibility})),s=Object(o.b)(),l=i.a.useCallback((function(e){var t=document.querySelector('[aria-label="Toggle navigation"]');(null===t||void 0===t?void 0:t.contains(e.target))||s({type:"CLOSE_SIDEBAR"})}),[r]);return Object(d.jsxs)("div",{className:"position-relative d-flex flex-grow-1 bg-light"+(r?" toggled":""),id:"wrapper",children:[Object(d.jsx)(j,{onClickOutside:l,children:Object(d.jsx)(x,Object(a.a)({className:"bg-white shadow-sm"},t))}),Object(d.jsx)(c.a,{className:"d-flex flex-column flex-grow-1",children:Object(d.jsx)("div",{className:"d-flex flex-column bg-white rounded-lg shadow-sm m-2 p-3 flex-grow-1",children:n})})]})}},694:function(e,t,n){"use strict";n.r(t),n.d(t,"ClinicaApp",(function(){return Yt}));var a=n(1),r=n(24),i=n(635),c=n(33),o=n(655),s=n(654),l=n(16),d=n(28),j=n(612),u=n(624),b=n(340),O=n(235),h=n(259),x=n(637),m=n(628),v=n(71),p=n(192),f=n(632),g=n(91),E=function(e){return g.b.get("empleadores/buscar-por-patronal",{params:{numero_patronal:e}})},R=n(62),S=n(45),I=function(e,t){return R.apiClient.get("/lista-mora",{params:Object(S.d)({page:t,filter:e})})},N=function(e){return R.apiClient.post("lista-mora/agregar",{empleador_id:e})},C=function(e){return console.log(e),R.apiClient.post("lista-mora/quitar",{empleador_id:e})},_=n(99),A=n(3),y=function(e){var t=Object(_.h)(),n=t.handleSubmit,a=t.register,r=t.reset;return Object(A.jsxs)(u.a,{onSubmit:n((function(t){var n={};t.nombre&&(n.nombre=t.nombre),t.numeroPatronal&&(n.numeroPatronal=t.numeroPatronal),e.onApply(n)})),children:[Object(A.jsxs)(u.a.Row,{children:[Object(A.jsxs)(u.a.Group,{as:b.a,sm:4,children:[Object(A.jsx)(u.a.Label,{children:"N\xba Patronal"}),Object(A.jsx)(u.a.Control,Object(l.a)({},a("numeroPatronal")))]}),Object(A.jsxs)(u.a.Group,{as:b.a,sm:8,children:[Object(A.jsx)(u.a.Label,{children:"Nombre"}),Object(A.jsx)(u.a.Control,Object(l.a)({},a("nombre")))]})]}),Object(A.jsxs)(u.a.Row,{children:[Object(A.jsx)(b.a,{xs:"auto",children:Object(A.jsx)(O.a,{type:"submit",children:"Aplicar"})}),Object(A.jsx)(b.a,{xs:"auto",children:Object(A.jsx)(O.a,{variant:"secondary",onClick:function(){return r()},children:"Limpiar"})})]})]})},L=n(98),T=n(183),w=n(630),D=n(74),M=n(128),G=n(633),P={index:function(e){return null===e||void 0===e?void 0:e.canAny([G.a.VER_LISTA_DE_MORA,G.a.VER_LISTA_DE_MORA_REGIONAL,G.a.AGREGAR_EMPLEADOR_EN_MORA,G.a.AGREGAR_EMPLEADOR_EN_MORA_DE_LA_MISMA_REGIONAL])},view:function(e){return null===e||void 0===e?void 0:e.canAny([G.a.VER_LISTA_DE_MORA,G.a.VER_LISTA_DE_MORA_REGIONAL])},agregar:function(e){return null===e||void 0===e?void 0:e.canAny([G.a.AGREGAR_EMPLEADOR_EN_MORA,G.a.AGREGAR_EMPLEADOR_EN_MORA_DE_LA_MISMA_REGIONAL])},quitar:function(e){return null===e||void 0===e?void 0:e.canAny([G.a.QUITAR_EMPLEADOR_EN_MORA,G.a.QUITAR_EMPLEADOR_EN_MORA_DE_LA_MISMA_REGIONAL])}},V=function(e){var t=e.item,n=e.queryKey,r=Object(D.b)("queryLoader"),i=Object(T.b)(),c=Object(w.a)((function(){return C(t.empleadorId)}),{onSuccess:function(){r.close(),i.setQueryData(n,(function(e){return console.log(e),Object(l.a)(Object(l.a)({},e),{},{data:Object(l.a)(Object(l.a)({},e.data),{},{records:e.data.records.filter((function(e){return e!==t}))})})}))}});return Object(a.useEffect)((function(){"loading"==c.status?r.open({state:"loading"}):"error"==c.status&&(console.log(c.error),r.open({state:"error",error:c.error}))}),[c.status]),Object(A.jsxs)(L.a,{children:[Object(A.jsx)(L.a.Toggle,{as:p.j,variant:"link",id:"dropdown-".concat(t.id)}),Object(A.jsx)(L.a.Menu,{children:Object(A.jsx)(M.b,{authorize:P.quitar,children:Object(A.jsx)(L.a.Item,{className:"text-danger",href:"#",onClick:function(){window.confirm("\xbfEst\xe1 seguro?")&&c.mutate()},children:"Quitar"})})})]})},z=function(){var e,t,n,r=Object(a.useState)({current:1,size:10}),i=Object(d.a)(r,2),o=i[0],s=i[1],g=Object(f.d)(),E=Object(a.useState)((function(){var e={};return(null===g||void 0===g?void 0:g.can(f.a.VER_LISTA_DE_MORA))||(null===g||void 0===g?void 0:g.can(f.a.VER_LISTA_DE_MORA_REGIONAL))&&(e.regionalId=g.regionalId),e})),R=Object(d.a)(E,2),S=R[0],N=R[1],C=Object(a.useState)(!1),_=Object(d.a)(C,2),L=_[0],T=_[1],w=["listaMora.buscar",S,o],D=Object(m.a)(w,(function(){return I(S,o)}),{enabled:P.view(g),refetchOnWindowFocus:!1,refetchOnReconnect:!1}),M=(null===(e=D.data)||void 0===e||null===(t=e.data)||void 0===t||null===(n=t.meta)||void 0===n?void 0:n.total)||0;return Object(A.jsxs)("div",{className:"px-1",children:[Object(A.jsx)("h1",{style:{fontSize:"1.75rem"},children:"Empleadores en mora"}),Object(A.jsx)("div",{className:"d-flex my-2",children:Object(A.jsxs)(u.a.Row,{className:"ml-auto flex-nowrap",children:[Object(A.jsxs)(f.b,{authorize:P.view,children:[Object(A.jsx)(b.a,{xs:"auto",children:Object(A.jsx)(O.a,{className:"my-2",onClick:function(){D.refetch()},children:Object(A.jsx)(c.l,{})})}),Object(A.jsx)(b.a,{xs:"auto",children:Object(A.jsx)(O.a,{className:"my-2",onClick:function(){T((function(e){return!e}))},children:Object(A.jsx)(c.g,{})})})]}),Object(A.jsx)(f.b,{authorize:P.agregar,children:Object(A.jsx)(b.a,{xs:"auto",children:Object(A.jsxs)(O.a,{as:v.b,to:"/clinica/lista-mora/agregar",className:"my-2",children:[Object(A.jsx)(c.i,{className:"mr-1"}),"Agregar"]})})})]})}),Object(A.jsxs)(f.b,{authorize:P.view,children:[Object(A.jsx)(h.a,{in:L,children:Object(A.jsx)("div",{children:Object(A.jsx)(y,{onApply:function(e){N(e),s((function(e){return Object(l.a)(Object(l.a)({},e),{},{current:1})}))}})})}),Object(A.jsx)("div",{className:"d-flex",children:Object(A.jsx)("div",{className:"ml-auto mb-2",children:Object(A.jsxs)("div",{className:"d-flex flex-row flex-nowrap align-items-center",children:[Object(A.jsx)("span",{children:"Mostrar"}),Object(A.jsxs)(u.a.Control,{className:"mx-2",as:"select",value:o.size,onChange:function(e){var t=e.target.value;s((function(e){return Object(l.a)(Object(l.a)({},e),{},{size:parseInt(t)})}))},children:[Object(A.jsx)("option",{value:10,children:"10"}),Object(A.jsx)("option",{value:20,children:"20"}),Object(A.jsx)("option",{value:30,children:"30"}),Object(A.jsx)("option",{value:50,children:"50"}),Object(A.jsx)("option",{value:100,children:"100"})]}),Object(A.jsx)("span",{children:"filas"})]})})}),Object(A.jsxs)(x.a,{responsive:!0,className:"text-nowrap",children:[Object(A.jsx)("thead",{children:Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{style:{width:1},children:"#"}),Object(A.jsx)("th",{style:{width:1},children:"N\xba Patronal"}),Object(A.jsx)("th",{children:"Nombre"}),Object(A.jsx)("th",{style:{width:1}})]})}),Object(A.jsx)("tbody",{children:function(){if(D.isFetching)return Object(A.jsx)("tr",{children:Object(A.jsxs)("td",{className:"bg-light text-center",colSpan:100,children:[Object(A.jsx)(j.a,{className:"mr-2",variant:"primary",animation:"border",size:"sm"}),"Cargando"]})});if(D.isError){var e,t,n=D.error;return Object(A.jsx)("tr",{children:Object(A.jsx)("td",{className:"bg-danger text-light text-center",colSpan:100,children:(null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||n.message})})}if(D.data){var a=D.data.data.records;return 0==a.length?Object(A.jsx)("tr",{children:Object(A.jsx)("td",{className:"bg-light text-center",colSpan:100,children:"No se encontraron resultados"})}):a.map((function(e,t){return Object(A.jsxs)("tr",{children:[Object(A.jsx)("td",{style:{lineHeight:"26px"},children:t+1}),Object(A.jsx)("td",{style:{lineHeight:"26px"},children:e.numeroPatronal}),Object(A.jsx)("td",{style:{lineHeight:"26px"},children:e.nombre}),Object(A.jsx)("td",{children:Object(A.jsx)(V,{item:e,queryKey:w})})]},e.id)}))}}()})]}),"success"===D.status?Object(A.jsxs)("div",{className:"d-flex flex-row",children:[Object(A.jsx)("span",{className:"mr-auto",children:"Se encontraron ".concat(M," resultados")}),Object(A.jsx)(p.e,{current:o.current,total:Math.ceil((M-o.size)/o.size)+1,onChange:function(e){return s((function(t){return Object(l.a)(Object(l.a)({},t),{},{current:e})}))}})]}):null]})]})},k=n(613),F=n(618),B=n(243),U=n(75),q=U.g().shape({numeroPatronal:U.j().label("n\xfamero patronal").trim().uppercase().required(),nombre:U.j().required()}),Q=function(){var e,t,n=Object(_.h)({mode:"onBlur",resolver:Object(B.a)(q),defaultValues:{nombre:"",numeroPatronal:""}}),i=n.handleSubmit,o=n.register,s=n.watch,d=n.setError,h=n.clearErrors,x=n.setValue,v=(n.reset,n.trigger),p=n.formState,f=p.errors;console.log("Vlues",s(),f);var g=Object(r.g)(),R=Object(T.b)(),S=s("numeroPatronal"),I=Object(m.a)(["buscarEmpleadorPorPatronal",S],(function(){return E(S)}),{enabled:!1,onSuccess:function(e){var t=e.data;console.log("Nombre",t.nombre),x("nombre",t.nombre)}}),C=Object(w.a)((function(e){return N(e)}),{onSuccess:function(){R.invalidateQueries("listaMora.buscar"),g.replace("/clinica/lista-mora")}});Object(a.useEffect)((function(){if(I.isError){var e,t=I.error;d("numeroPatronal",{type:"searchError",message:404==(null===(e=t.response)||void 0===e?void 0:e.status)?"Empleador no encontrado":"Ocurrio un error"})}}),[I.isError]);return Object(A.jsxs)(u.a,{id:"form-empleador-mora",onSubmit:i((function(){C.mutate(I.data.data.id)})),children:[Object(A.jsx)("h1",{style:{fontSize:"1.75rem"},children:"Agregar empleador en mora"}),function(){if(C.isSuccess)return Object(A.jsx)(k.a,{variant:"success",children:"La operacion se realiz\xf3 exitosamente"});if(C.isError){var e,t,n=C.error;return Object(A.jsx)(k.a,{variant:"danger",children:(null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||n.message})}return null}(),Object(A.jsx)(u.a.Row,{children:Object(A.jsxs)(u.a.Group,{as:b.a,sm:4,children:[Object(A.jsx)(u.a.Label,{children:"N\xba Patronal"}),Object(A.jsxs)(F.a,{hasValidation:!0,className:"mb-2",children:[Object(A.jsx)(u.a.Control,Object(l.a)({isInvalid:!!f.numeroPatronal,className:"text-uppercase"},o("numeroPatronal"))),Object(A.jsx)(F.a.Append,{children:Object(A.jsx)(O.a,{variant:f.numeroPatronal?"danger":"outline-secondary",onClick:function(){v("numeroPatronal").then((function(e){f.numeroPatronal||(h(),I.data||I.refetch())}))},children:I.isFetching?Object(A.jsx)(j.a,{animation:"border",size:"sm"}):Object(A.jsx)(c.k,{})})}),Object(A.jsx)(u.a.Control.Feedback,{type:"invalid",children:null===(e=f.numeroPatronal)||void 0===e?void 0:e.message})]})]})}),Object(A.jsx)(u.a.Row,{children:Object(A.jsxs)(u.a.Group,{as:b.a,children:[Object(A.jsx)(u.a.Label,{children:"Nombre"}),Object(A.jsx)(u.a.Control,Object(l.a)({readOnly:!0,isInvalid:!!p.errors.nombre},o("nombre"))),Object(A.jsx)(u.a.Control.Feedback,{type:"invalid",children:null===(t=p.errors.nombre)||void 0===t?void 0:t.message})]})}),Object(A.jsxs)(O.a,{type:"subimt",children:[C.isLoading?Object(A.jsx)(j.a,{className:"mr-2",animation:"border",size:"sm"}):null,Object(A.jsx)("span",{className:""}),"Agregar"]})]})},X=n(0),H=function(e){return Object(X.a)({tag:"svg",attr:{version:"1",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{d:"M10,12c-2.8,0-5-2.2-5-5s2.2-5,5-5s5,2.2,5,5S12.8,12,10,12z"}},{tag:"path",attr:{d:"M2,22v8l3,2l1,14h8l1-14l3-2v-8c0-4.4-3.6-8-8-8h0C5.6,14,2,17.6,2,22z"}},{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M22.4,40.4c-0.6,2.5-1,3.6-2.4,3.6c-0.6,0-1.2-0.5-1.9-1.1c-1-0.8-2.2-1.9-4.1-1.9v2c1.1,0,1.9,0.7,2.8,1.4 c0.9,0.7,1.9,1.6,3.2,1.6c3.1,0,3.8-2.9,4.4-5.2C25,38.2,25.4,37,27,37v-2C23.7,35,22.9,38.1,22.4,40.4z"}},{tag:"polygon",attr:{points:"14.4,40 10,40 10,44 14.1,44"}}]},{tag:"circle",attr:{cx:"36",cy:"36",r:"10"}},{tag:"path",attr:{fill:"#fff",d:"M35,34c0.1,0.2,0.1,0.3,0.3,0.4c0.1,0.1,0.3,0.2,0.5,0.4c0.2,0.1,0.5,0.2,0.8,0.3c0.5,0.2,0.9,0.4,1.3,0.6 c0.4,0.2,0.7,0.4,1,0.7c0.3,0.3,0.5,0.6,0.7,0.9c0.2,0.4,0.2,0.8,0.2,1.3c0,0.4-0.1,0.8-0.2,1.2c-0.1,0.4-0.3,0.7-0.6,0.9 c-0.3,0.3-0.6,0.5-0.9,0.6c-0.4,0.2-0.8,0.3-1.2,0.3v1.5h-1.2v-1.5c-0.4,0-0.8-0.1-1.2-0.3c-0.4-0.2-0.7-0.4-1-0.6 c-0.3-0.3-0.5-0.6-0.7-1.1c-0.2-0.4-0.3-0.9-0.3-1.5h2.2c0,0.4,0,0.7,0.1,0.9c0.1,0.2,0.2,0.4,0.4,0.6c0.2,0.1,0.3,0.2,0.5,0.3 c0.2,0.1,0.4,0.1,0.6,0.1c0.2,0,0.4,0,0.6-0.1c0.2-0.1,0.3-0.2,0.4-0.3c0.1-0.1,0.2-0.3,0.3-0.4c0.1-0.2,0.1-0.3,0.1-0.5 c0-0.2,0-0.4-0.1-0.6c-0.1-0.2-0.1-0.3-0.3-0.4c-0.1-0.1-0.3-0.3-0.5-0.4c-0.2-0.1-0.4-0.2-0.7-0.3c-0.5-0.2-0.9-0.4-1.3-0.6 c-0.4-0.2-0.7-0.4-1-0.7c-0.3-0.3-0.5-0.6-0.7-0.9c-0.2-0.4-0.2-0.8-0.2-1.3c0-0.4,0.1-0.8,0.2-1.2c0.1-0.3,0.3-0.7,0.6-0.9 c0.3-0.3,0.6-0.5,0.9-0.6c0.4-0.2,0.8-0.3,1.2-0.3v-1.6h1.2v1.6c0.4,0.1,0.8,0.2,1.2,0.4c0.4,0.2,0.6,0.4,0.9,0.7 c0.2,0.3,0.4,0.6,0.6,1c0.1,0.4,0.2,0.9,0.2,1.4h-2.2c0-0.6-0.1-1-0.4-1.3c-0.2-0.3-0.6-0.4-1-0.4c-0.2,0-0.4,0-0.6,0.1 c-0.2,0.1-0.3,0.2-0.4,0.3C35.1,32.7,35,32.8,35,33s-0.1,0.3-0.1,0.5C34.9,33.7,34.9,33.9,35,34z"}}]})(e)},K=function(e,t){return R.apiClient.get("solicitudes-atencion-externa",{params:Object(S.d)({filter:e,page:t})})},W=function(e,t,n,a,r){return R.apiClient.post("solicitudes-atencion-externa",{regional_id:e,asegurado_id:t,medico_id:n,proveedor_id:a,prestaciones_solicitadas:r})},J=n(36),$=n(90),Z=function(e){return R.apiClient.get("asegurados",{params:{filter:{matricula:e},page:{size:10},include:"empleador,titular"}})},Y=function(e,t){return R.apiClient.get("medicos",{params:Object(S.d)({filter:e,page:t})})},ee=function(e){return R.apiClient.get("medicos/".concat(e))},te=function(e,t,n,a,r,i,c){return R.apiClient.post("medicos",{tipo:e,ci:t.raiz,ci_complemento:t.complemento,apellido_paterno:n,apellido_materno:a,nombres:r,especialidad_id:i,regional_id:c})},ne=function(e,t,n,a,r,i,c,o){return R.apiClient.put("medicos/".concat(e),{tipo:t,ci:n.raiz,ci_complemento:n.complemento,apellido_paterno:a,apellido_materno:r,nombres:i,especialidad_id:c,regional_id:o})},ae=function(e,t){return R.apiClient.put("medicos/".concat(e,"/cambiar-estado"),{estado:t})},re=n(26),ie=n(27),ce=new(function(){function e(){Object(re.a)(this,e)}return Object(ie.a)(e,[{key:"buscar",value:function(e,t){return R.apiClient.get("proveedores",{params:Object(S.d)({filter:e,page:t})})}},{key:"cargar",value:function(e){return R.apiClient.get("proveedores/".concat(e))}},{key:"registrar",value:function(e){return R.apiClient.post("proveedores",Object(S.d)(e))}},{key:"actualizar",value:function(e,t){return R.apiClient.put("proveedores/".concat(e),Object(S.d)(t))}},{key:"actualizarInformacionDeContacto",value:function(e,t){return R.apiClient.put("proveedores/".concat(e,"/contacto"),Object(S.d)(t))}}]),e}()),oe=n(116),se=n.n(oe),le=function(e){return R.apiClient.post("prestaciones",{nombre:e})},de=function(e,t){var n=se.a.CancelToken.source(),a=R.apiClient.get("prestaciones",{params:{filter:e,page:t}});return a.cancel=function(){n.cancel("Query was cancelled by React Query")},a},je=(n(147),function(e){var t,n,r,i,o,s=e.isInvalid,d=e.feedback,j=e.filter,b=e.filterBy,h=Object(J.a)(e,["isInvalid","feedback","filter","filterBy"]),x=["medicos.buscar",j],v=Object(m.a)(x,(function(){return Y(j)}),{refetchOnReconnect:!1,refetchOnWindowFocus:!1});Object(a.useEffect)((function(){var e;v.data&&(h.onLoad&&h.onLoad(null===(e=v.data)||void 0===e?void 0:e.data))}),[v.data]);var p=Object(a.useMemo)((function(){var e,t,n,a;return Array.isArray(null===(e=v.data)||void 0===e?void 0:e.data)?null===(n=v.data)||void 0===n?void 0:n.data:((null===(t=v.data)||void 0===t?void 0:t.data)&&console.error(null===(a=v.data)||void 0===a?void 0:a.data),[])}),[null===(t=v.data)||void 0===t?void 0:t.data]);return Object(A.jsxs)(F.a,{hasValidation:!0,children:[Object(A.jsx)($.a,Object(l.a)(Object(l.a)({clearButton:!0,emptyLabel:"No se encontraron resultados",align:"left"},h),{},{disabled:!v.data,className:v.isError||s?"is-invalid":"",isInvalid:v.isError||s,filterBy:function(e,t){return(!t.text||Object(S.b)(e.nombreCompleto,t)||Object(S.b)(e.especialidad,t))&&(!b||"function"===typeof b&&b(e,t))},isLoading:!v.data,options:p,labelKey:"nombreCompleto",minLength:0,renderMenuItemChildren:function(e){return Object(A.jsxs)("div",{children:[Object(A.jsx)("div",{children:e.nombreCompleto}),Object(A.jsx)("div",{className:"small text-secondary",children:e.especialidad})]})}})),Object(A.jsx)(F.a.Append,{children:Object(A.jsx)(O.a,{disabled:!v.data,variant:v.isError?"outline-danger":"outline-secondary",onClick:function(){return v.refetch()},children:Object(A.jsx)(c.l,{})})}),Object(A.jsx)(u.a.Control.Feedback,{type:"invalid",children:(null===(n=v.error)||void 0===n||null===(r=n.response)||void 0===r||null===(i=r.data)||void 0===i?void 0:i.message)||(null===(o=v.error)||void 0===o?void 0:o.message)||d})]})}),ue=function(e){var t,n,r,i,o,s=e.isInvalid,d=e.feedback,j=e.filter,b=void 0===j?{}:j,h=e.filterBy,x=Object(J.a)(e,["isInvalid","feedback","filter","filterBy"]),v=["proveedores.buscar",b],p=Object(m.a)(v,(function(){return ce.buscar(b)}),{refetchOnReconnect:!1,refetchOnWindowFocus:!1});Object(a.useEffect)((function(){var e;p.data&&(x.onLoad&&x.onLoad(null===(e=p.data)||void 0===e?void 0:e.data))}),[p.data]);var f=Object(a.useMemo)((function(){var e,t,n,a;return Array.isArray(null===(e=p.data)||void 0===e?void 0:e.data)?null===(n=p.data)||void 0===n?void 0:n.data:((null===(t=p.data)||void 0===t?void 0:t.data)&&console.error(null===(a=p.data)||void 0===a?void 0:a.data),[])}),[null===(t=p.data)||void 0===t?void 0:t.data]);return Object(A.jsxs)(F.a,{hasValidation:!0,children:[Object(A.jsx)($.a,Object(l.a)(Object(l.a)({clearButton:!0,emptyLabel:"No se encontraron resultados",align:"left"},x),{},{disabled:!p.data,className:p.isError||s?"is-invalid":"",isInvalid:p.isError||s,filterBy:function(e,t){return(!t.text||(e.nombre?Object(S.b)(e.nombre,t):Object(S.b)(e.nombreCompleto,t)))&&(!h||"function"===typeof h&&h(e,t))},isLoading:p.isFetching,options:f,labelKey:function(e){return e.nombre||e.nombreCompleto},minLength:0,renderMenuItemChildren:function(e){var t;return Object(A.jsxs)("div",{children:[Object(A.jsx)("div",{children:e.nombre||e.nombreCompleto}),Object(A.jsx)("div",{className:"small text-secondary",children:(null===(t=e.especialidad)||void 0===t?void 0:t.nombre)||"Empresa"})]})}})),Object(A.jsx)(F.a.Append,{children:Object(A.jsx)(O.a,{disabled:p.isFetching,variant:p.isError?"outline-danger":"outline-secondary",onClick:function(){return p.refetch()},children:Object(A.jsx)(c.l,{})})}),Object(A.jsx)(u.a.Control.Feedback,{type:"invalid",children:(null===(n=p.error)||void 0===n||null===(r=n.response)||void 0===r||null===(i=r.data)||void 0===i?void 0:i.message)||(null===(o=p.error)||void 0===o?void 0:o.message)||d})]})},be=function(e){var t=Object(_.h)({defaultValues:{medico:[],proveedor:[]}}),n=t.control,a=t.formState,r=t.handleSubmit,i=t.register,c=t.reset;return console.log(a),Object(A.jsxs)(u.a,{className:"mb-2",onSubmit:r((function(t){console.log(t),e.onFilter({numero:parseInt(t.numero),numeroPatronal:t.numeroPatronal,matriculaAsegurado:t.matricula,desde:t.desde,hasta:t.hasta,medicoId:t.medico.length&&t.medico[0].id,proveedorId:t.proveedor.length&&t.proveedor[0].id})})),children:[Object(A.jsxs)(u.a.Row,{children:[Object(A.jsxs)(u.a.Group,{as:b.a,children:[Object(A.jsx)(u.a.Label,{children:"N\xfamero de solicitud"}),Object(A.jsx)(u.a.Control,Object(l.a)({},i("numero")))]}),Object(A.jsxs)(u.a.Group,{as:b.a,children:[Object(A.jsx)(u.a.Label,{children:"N\xba Patronal"}),Object(A.jsx)(u.a.Control,Object(l.a)({},i("numeroPatronal")))]}),Object(A.jsxs)(u.a.Group,{as:b.a,children:[Object(A.jsx)(u.a.Label,{children:"Matricula"}),Object(A.jsx)(u.a.Control,Object(l.a)({},i("matricula")))]})]}),Object(A.jsxs)(u.a.Row,{children:[Object(A.jsxs)(u.a.Group,{as:b.a,children:[Object(A.jsx)(u.a.Label,{children:"M\xe9dico"}),Object(A.jsx)(_.a,{control:n,name:"medico",render:function(e){var t=e.field;return Object(A.jsx)(je,{id:"solicitud-atencion-externa-filter/medicos",selected:t.value,onBlur:t.onBlur,onChange:t.onChange})}})]}),Object(A.jsxs)(u.a.Group,{as:b.a,children:[Object(A.jsx)(u.a.Label,{children:"Proveedor"}),Object(A.jsx)(_.a,{control:n,name:"proveedor",render:function(e){var t=e.field;return Object(A.jsx)(ue,{id:"solicitud-atencion-externa-filter/proveedores",selected:t.value,onBlur:t.onBlur,onChange:t.onChange})}})]})]}),Object(A.jsxs)(u.a.Row,{children:[Object(A.jsxs)(u.a.Group,{as:b.a,sm:4,children:[Object(A.jsx)(u.a.Label,{children:"Desde"}),Object(A.jsx)(u.a.Control,Object(l.a)({type:"date"},i("desde")))]}),Object(A.jsxs)(u.a.Group,{as:b.a,sm:4,children:[Object(A.jsx)(u.a.Label,{children:"Hasta"}),Object(A.jsx)(u.a.Control,Object(l.a)({type:"date"},i("hasta")))]})]}),Object(A.jsxs)(u.a.Row,{children:[Object(A.jsx)(b.a,{xs:"auto",children:Object(A.jsx)(O.a,{type:"submit",children:"Aplicar"})}),Object(A.jsx)(b.a,{xs:"auto",children:Object(A.jsx)(O.a,{variant:"secondary",onClick:function(){return c()},children:"Limpiar"})})]})]})},Oe=n(623),he=function(){var e=Object(D.b)("dm11Viewer");return Object(A.jsxs)(Oe.a,{centered:!0,show:e.show,size:"lg",onHide:function(){e.close()},children:[Object(A.jsx)(Oe.a.Header,{children:"D.M. - 11"}),Object(A.jsx)(Oe.a.Body,{children:e.url?Object(A.jsx)(p.d,{url:e.url}):null})]})},xe=n(146),me=n(258),ve=function(e){var t=e.solicitud,n=Object(D.b)("dm11Viewer");return Object(A.jsxs)(L.a,{style:{position:"initial"},children:[Object(A.jsx)(L.a.Toggle,{as:p.j,variant:"link",id:"dropdown-solicitud-".concat(t.id)}),Object(A.jsx)(L.a.Menu,{children:Object(A.jsx)(L.a.Item,{href:"#",onClick:function(){n.open({url:t.urlDm11})},children:"Ver D.M. - 11"})})]})},pe={index:function(e){return null===e||void 0===e?void 0:e.canAny([f.a.VER_SOLICITUDES_DE_ATENCION_EXTERNA,f.a.VER_SOLICITUDES_DE_ATENCION_EXTERNA_MISMA_REGIONAL,f.a.VER_SOLICITUDES_DE_ATENCION_EXTERNA_REGISTRADO_POR,f.a.REGISTRAR_SOLICITUDES_DE_ATENCION_EXTERNA,f.a.REGISTRAR_SOLICITUDES_DE_ATENCION_EXTERNA_MISMA_REGIONAL])},register:function(e){return null===e||void 0===e?void 0:e.canAny([f.a.REGISTRAR_SOLICITUDES_DE_ATENCION_EXTERNA,f.a.REGISTRAR_SOLICITUDES_DE_ATENCION_EXTERNA_MISMA_REGIONAL])},view:function(e){return null===e||void 0===e?void 0:e.canAny([f.a.VER_SOLICITUDES_DE_ATENCION_EXTERNA,f.a.VER_SOLICITUDES_DE_ATENCION_EXTERNA_MISMA_REGIONAL,f.a.VER_SOLICITUDES_DE_ATENCION_EXTERNA_REGISTRADO_POR])},emit:function(e){return null===e||void 0===e?void 0:e.canAny([f.a.EMITIR_SOLICITUDES_DE_ATENCION_EXTERNA,f.a.EMITIR_SOLICITUDES_DE_ATENCION_EXTERNA_MISMA_REGIONAL,f.a.EMITIR_SOLICITUDES_DE_ATENCION_EXTERNA_REGISTRADO_POR])}},fe=function(){var e=Object(r.h)().pathname,t=Object(a.useState)(0),n=Object(d.a)(t,2),i=n[0],o=n[1],s=Object(a.useState)({current:1,size:10}),f=Object(d.a)(s,2),g=f[0],E=f[1],R=Object(xe.a)(),S=Object(a.useState)(!1),I=Object(d.a)(S,2),N=I[0],C=I[1],_=function(){var e={};return(null===R||void 0===R?void 0:R.can(G.a.VER_SOLICITUDES_DE_ATENCION_EXTERNA))||((null===R||void 0===R?void 0:R.can(G.a.VER_SOLICITUDES_DE_ATENCION_EXTERNA_MISMA_REGIONAL))&&(e.regionalId=R.regionalId),(null===R||void 0===R?void 0:R.can(G.a.VER_SOLICITUDES_DE_ATENCION_EXTERNA_REGISTRADO_POR))&&(e.registradoPor=R.id)),e},y=Object(a.useState)(_),L=Object(d.a)(y,2),T=L[0],w=L[1],D=Object(m.a)(["solicitudesAtencionExterna.buscar",g,T],(function(){return console.log(Object(l.a)(Object(l.a)({},T),_())),K(Object(l.a)(Object(l.a)({},T),_()),g)}),{enabled:null===R||void 0===R?void 0:R.canAny([G.a.VER_SOLICITUDES_DE_ATENCION_EXTERNA,G.a.VER_SOLICITUDES_DE_ATENCION_EXTERNA_MISMA_REGIONAL,G.a.VER_SOLICITUDES_DE_ATENCION_EXTERNA_REGISTRADO_POR]),refetchOnReconnect:!1,refetchOnWindowFocus:!1,onSuccess:function(e){var t=e.data.meta;o(t.total)}});return Object(A.jsxs)("div",{className:"px-1",children:[Object(A.jsx)("h1",{style:{fontSize:"1.75rem"},children:"Solicitudes de atenci\xf3n externa"}),Object(A.jsx)("div",{className:"d-flex my-2",children:Object(A.jsxs)(u.a.Row,{className:"ml-auto flex-nowrap",children:[Object(A.jsxs)(me.a,{authorize:pe.view,children:[Object(A.jsx)(b.a,{xs:"auto",children:Object(A.jsx)(O.a,{onClick:function(){D.refetch()},children:Object(A.jsx)(c.l,{})})}),Object(A.jsx)(b.a,{xs:"auto",children:Object(A.jsx)(O.a,{onClick:function(){C((function(e){return!e}))},children:Object(A.jsx)(c.g,{})})})]}),Object(A.jsx)(me.a,{authorize:pe.register,children:Object(A.jsx)(b.a,{xs:"auto",children:Object(A.jsxs)(O.a,{as:v.b,to:"".concat(e,"/registrar"),className:"d-flex align-items-center",children:[Object(A.jsx)(c.i,{className:"mr-1"}),Object(A.jsx)("span",{children:"Nuevo"})]})})})]})}),Object(A.jsxs)(me.a,{authorize:pe.view,children:[Object(A.jsxs)(u.a.Row,{className:"mb-2",children:[Object(A.jsx)(b.a,{xs:12,children:Object(A.jsx)(h.a,{in:N,children:Object(A.jsx)("div",{children:Object(A.jsx)(be,{onFilter:function(e){w(e),E((function(e){return Object(l.a)(Object(l.a)({},e),{},{current:1})}))}})})})}),Object(A.jsx)(b.a,{className:"ml-auto",xs:"auto",children:Object(A.jsxs)("div",{className:"d-flex flex-row flex-nowrap align-items-center",children:[Object(A.jsx)("span",{children:"Mostrar"}),Object(A.jsxs)(u.a.Control,{className:"mx-2",as:"select",value:g.size,onChange:function(e){var t=e.target.value;E((function(e){return Object(l.a)(Object(l.a)({},e),{},{size:parseInt(t)})}))},children:[Object(A.jsx)("option",{value:10,children:"10"}),Object(A.jsx)("option",{value:20,children:"20"}),Object(A.jsx)("option",{value:30,children:"30"}),Object(A.jsx)("option",{value:50,children:"50"}),Object(A.jsx)("option",{value:100,children:"100"})]}),Object(A.jsx)("span",{children:"filas"})]})})]}),Object(A.jsxs)(x.a,{responsive:!0,children:[Object(A.jsx)("thead",{children:Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{style:{width:1},children:"#"}),Object(A.jsx)("th",{children:"N\xba"}),Object(A.jsx)("th",{children:"Fecha y hora"}),Object(A.jsx)("th",{children:"Matr\xedcula asegurado"}),Object(A.jsx)("th",{children:"Doctor"}),Object(A.jsx)("th",{children:"Proveedor"}),Object(A.jsx)("th",{style:{width:1}})]})}),Object(A.jsx)("tbody",{children:function(){if(D.isFetching)return Object(A.jsx)("tr",{children:Object(A.jsxs)("td",{className:"bg-light text-center",colSpan:100,children:[Object(A.jsx)(j.a,{className:"mr-2",variant:"primary",animation:"border",size:"sm"}),"Cargando"]})});if(D.isError){var e,t,n=D.error;return Object(A.jsx)("tr",{children:Object(A.jsx)("td",{className:"bg-danger text-light text-center",colSpan:100,children:(null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||n.message})})}if(D.data){var a=D.data.data.records;return 0===a.length?Object(A.jsx)("tr",{children:Object(A.jsx)("td",{className:"bg-light text-center",colSpan:100,children:"No se encontraron resultados"})}):a.map((function(e,t){return Object(A.jsxs)("tr",{children:[Object(A.jsx)("td",{children:t+1}),Object(A.jsx)("td",{children:e.numero}),Object(A.jsx)("td",{children:e.fecha}),Object(A.jsx)("td",{children:e.asegurado.matricula}),Object(A.jsx)("td",{children:e.medico}),Object(A.jsx)("td",{children:e.proveedor}),Object(A.jsx)("td",{children:Object(A.jsx)(ve,{solicitud:e})})]},e.id)}))}}()})]}),"success"===D.status?Object(A.jsxs)("div",{className:"d-flex flex-row",children:[Object(A.jsx)("span",{className:"mr-auto",children:"Se encontraron ".concat(i," resultados")}),Object(A.jsx)(p.e,{current:g.current,total:Math.ceil((i-g.size)/g.size)+1,onChange:function(e){return E((function(t){return Object(l.a)(Object(l.a)({},t),{},{current:e})}))}})]}):null]}),Object(A.jsx)(he,{})]})},ge=n(690),Ee=n(652),Re=n(194),Se=n.n(Re),Ie=n(337),Ne=function(e){return console.log(e.asegurados.length),Object(A.jsxs)(Oe.a,Object(l.a)(Object(l.a)({},e),{},{children:[Object(A.jsx)(Oe.a.Header,{children:e.title}),Object(A.jsx)(Oe.a.Body,{children:Object(A.jsxs)(x.a,{responsive:!0,className:"small",children:[Object(A.jsx)("thead",{children:Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{style:{width:1},children:"#"}),Object(A.jsx)("th",{children:"Matricula"}),Object(A.jsx)("th",{children:"Nombre completo"}),Object(A.jsx)("th",{children:"Estado"}),Object(A.jsx)("th",{})]})}),Object(A.jsx)("tbody",{children:e.asegurados.length?e.asegurados.map((function(t,n){return Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{scope:"row",children:n+1}),Object(A.jsxs)("td",{children:[t.matricula,"-",t.matriculaComplemento]}),Object(A.jsx)("td",{children:t.nombreCompleto}),Object(A.jsx)("td",{className:t.estadoText?"":"bg-ligth",children:t.estadoText||"Desconocido"}),Object(A.jsx)("td",{children:Object(A.jsx)(O.a,{onClick:function(){console.log(t),e.onSelect(t)},children:"Seleccionar"})})]},t.id)})):Object(A.jsx)("tr",{children:Object(A.jsx)("td",{className:"bg-light text-center",colSpan:100,children:"No se encontraron resultados"})})})]})})]}))},Ce=function(e){var t,n,r,i,o,s,h,x,v,p,f,g,E,R,S,I,N,C,y,L,T,w,D,M,G,P,V,z,k,B,U,q,Q,X,H,K,W,J=Object(_.i)(),$=J.register,Y=J.formState,ee=J.trigger,te=J.setValue,ne=J.clearErrors,ae=(J.control,J.watch),re=Object(a.useState)(!1),ie=Object(d.a)(re,2),ce=ie[0],oe=ie[1],se=e.value,le=ae("asegurado.matricula"),de=Object(m.a)(["asegurados.buscar",le],(function(){return Z(le)}),{enabled:!1,onSuccess:function(t){var n=t.data.records;if(1==n.length){var a=n[0];console.log("Choosed",a),e.onChange(a)}else oe(!0)}});Object(a.useEffect)((function(){var e,t,n=null===se||void 0===se?void 0:se.empleador;console.log("empleador",n),te("asegurado.apellidoPaterno",(null===se||void 0===se?void 0:se.apellidoPaterno)||""),te("asegurado.apellidoMaterno",(null===se||void 0===se?void 0:se.apellidoMaterno)||""),te("asegurado.nombres",(null===se||void 0===se?void 0:se.nombres)||""),te("asegurado.estado",(null===se||void 0===se?void 0:se.estadoText)||"");var a=null===se||void 0===se||null===(e=se.afiliacion)||void 0===e||null===(t=e.baja)||void 0===t?void 0:t.fechaValidezSeguro;if(te("asegurado.fechaValidezSeguro",a?Se()(a).format("L"):""),te("empleador.numeroPatronal",(null===n||void 0===n?void 0:n.numeroPatronal)||""),te("empleador.nombre",(null===n||void 0===n?void 0:n.nombre)||""),te("empleador.estado",(null===n||void 0===n?void 0:n.estadoText)||""),te("empleador.fechaBaja",(null===n||void 0===n?void 0:n.fechaBaja)||""),te("empleador.enMora",(null===n||void 0===n?void 0:n.enMora)?"S\xed":!1===(null===n||void 0===n?void 0:n.enMora)?"No":""),2==(null===se||void 0===se?void 0:se.tipo)){var r,i,c,o,s=null===se||void 0===se?void 0:se.titular,l=null===se||void 0===se||null===(r=se.afiliacion)||void 0===r?void 0:r.fechaExtincion,d=function(e){switch(e){case 1:return"Hijo(a)";case 2:return"Esposa";case 3:return"Conviviente";case 4:return"Madre";case 5:return"Padre";case 6:return"Hermano(a)";case 7:return"Esposo";case 8:return"Derechohabiente";default:return""}}(null===se||void 0===se||null===(i=se.afiliacion)||void 0===i?void 0:i.parentesco);te("asegurado.parentesco",d),te("asegurado.fechaExtincion",l?Se()(l).format("L"):""),te("titular.matricula",(null===s||void 0===s?void 0:s.matricula)||""),te("titular.apellidoPaterno",(null===s||void 0===s?void 0:s.apellidoPaterno)||""),te("titular.apellidoMaterno",(null===s||void 0===s?void 0:s.apellidoMaterno)||""),te("titular.nombres",(null===s||void 0===s?void 0:s.nombres)||""),te("titular.estado",null===s||void 0===s?void 0:s.estadoText);var j=null===s||void 0===s||null===(c=s.afiliacion)||void 0===c||null===(o=c.baja)||void 0===o?void 0:o.fechaValidezSeguro;te("titular.fechaValidezSeguro",j?Se()(j).format("L"):"")}}),[se]),Object(a.useEffect)((function(){var t;se&&(null===(t=Y.dirtyFields.asegurado)||void 0===t?void 0:t.matricula)&&e.onChange(null)}),[le]);var je=Y.errors,ue=je.asegurado||je.titular||je.empleador;return Object(A.jsxs)(Ee.a,{children:[Object(A.jsx)(ge.a.Toggle,{as:Ee.a.Header,className:"text-light "+(ue?"bg-danger":"bg-primary"),eventKey:"0",children:"Asegurado"}),Object(A.jsx)(ge.a.Collapse,{eventKey:"0",children:Object(A.jsxs)(Ee.a.Body,{children:[Object(A.jsxs)(u.a.Row,{children:[Object(A.jsxs)(b.a,{lg:3,md:6,children:[Object(A.jsx)(u.a.Label,{htmlFor:"asegurado-matricula",children:"Matr\xedcula"}),Object(A.jsxs)(F.a,{hasValidation:!0,className:"mb-2",children:[Object(A.jsx)(Ie.a,Object(l.a)({id:"asegurado-matricula",isInvalid:!!(null===(t=je.asegurado)||void 0===t?void 0:t.matricula),className:"text-uppercase"},$("asegurado.matricula"))),Object(A.jsx)(F.a.Append,{children:Object(A.jsx)(O.a,{variant:"outline-secondary",onClick:function(){ee("asegurado.matricula").then((function(t){var n,a;if(console.log("Matricula validation",t),!(null===(n=je.asegurado)||void 0===n?void 0:n.matricula))if((null===(a=Y.dirtyFields.asegurado)||void 0===a?void 0:a.matricula)&&delete Y.dirtyFields.asegurado.matricula,ne(["asegurado","titular","empleador"]),de.data){var r=de.data.data.records;if(1==r.length){var i=r[0];e.onChange(i)}else oe(!0)}else de.refetch()}))},children:de.isFetching?Object(A.jsx)(j.a,{animation:"border",size:"sm"}):Object(A.jsx)(c.k,{})})}),Object(A.jsx)(u.a.Control.Feedback,{type:"invalid",children:null===(n=je.asegurado)||void 0===n||null===(r=n.matricula)||void 0===r?void 0:r.message})]})]}),Object(A.jsxs)(u.a.Group,{as:b.a,lg:3,md:6,children:[Object(A.jsx)(u.a.Label,{children:"Apellido Paterno"}),Object(A.jsx)(u.a.Control,Object(l.a)({readOnly:!0},$("asegurado.apellidoPaterno")))]}),Object(A.jsxs)(u.a.Group,{as:b.a,lg:3,md:6,children:[Object(A.jsx)(u.a.Label,{children:"Apellido Materno"}),Object(A.jsx)(u.a.Control,Object(l.a)({readOnly:!0},$("asegurado.apellidoMaterno")))]}),Object(A.jsxs)(u.a.Group,{as:b.a,lg:3,md:6,children:[Object(A.jsx)(u.a.Label,{children:"Nombre"}),Object(A.jsx)(u.a.Control,Object(l.a)({readOnly:!0},$("asegurado.nombres")))]})]}),Object(A.jsxs)(u.a.Row,{children:[Object(A.jsxs)(u.a.Group,{as:b.a,sm:4,children:[Object(A.jsx)(u.a.Label,{children:"Estado"}),Object(A.jsx)(u.a.Control,Object(l.a)({readOnly:!0,isInvalid:!!(null===(i=je.asegurado)||void 0===i?void 0:i.estado)},$("asegurado.estado"))),Object(A.jsx)(u.a.Control.Feedback,{type:"invalid",children:null===(o=je.asegurado)||void 0===o||null===(s=o.estado)||void 0===s?void 0:s.message})]}),2==(null===se||void 0===se?void 0:se.tipo)&&Object(A.jsxs)(u.a.Group,{as:b.a,sm:4,children:[Object(A.jsx)(u.a.Label,{children:"Parentesco"}),Object(A.jsx)(u.a.Control,Object(l.a)({readOnly:!0,isInvalid:!!(null===(h=je.asegurado)||void 0===h?void 0:h.fechaValidezSeguro)},$("asegurado.parentesco"))),Object(A.jsx)(u.a.Control.Feedback,{type:"invalid",children:null===(x=je.asegurado)||void 0===x||null===(v=x.fechaValidezSeguro)||void 0===v?void 0:v.message})]}),(null===se||void 0===se||null===(p=se.afiliacion)||void 0===p?void 0:p.baja)&&Object(A.jsxs)(u.a.Group,{as:b.a,sm:4,children:[Object(A.jsx)(u.a.Label,{children:"Validez del seguro"}),Object(A.jsx)(u.a.Control,Object(l.a)({readOnly:!0,isInvalid:!!(null===(f=je.asegurado)||void 0===f?void 0:f.fechaValidezSeguro)},$("asegurado.fechaValidezSeguro"))),Object(A.jsx)(u.a.Control.Feedback,{type:"invalid",children:null===(g=je.asegurado)||void 0===g||null===(E=g.fechaValidezSeguro)||void 0===E?void 0:E.message})]}),2==(null===se||void 0===se?void 0:se.tipo)?Object(A.jsxs)(u.a.Group,{as:b.a,sm:4,children:[Object(A.jsx)(u.a.Label,{children:"Fecha de extinci\xf3n"}),Object(A.jsx)(u.a.Control,Object(l.a)({readOnly:!0,isInvalid:!!(null===(R=je.asegurado)||void 0===R?void 0:R.fechaExtincion)},$("asegurado.fechaExtincion"))),Object(A.jsx)(u.a.Control.Feedback,{type:"invalid",children:null===(S=je.asegurado)||void 0===S||null===(I=S.fechaExtincion)||void 0===I?void 0:I.message})]}):null]}),2==(null===se||void 0===se?void 0:se.tipo)&&Object(A.jsxs)("div",{children:[Object(A.jsx)("hr",{}),Object(A.jsx)("h2",{style:{fontSize:"1.25rem"},children:"Titular"}),Object(A.jsxs)(u.a.Row,{children:[Object(A.jsxs)(u.a.Group,{as:b.a,lg:3,md:6,children:[Object(A.jsx)(u.a.Label,{children:"Matricula"}),Object(A.jsx)(u.a.Control,Object(l.a)({readOnly:!0},$("titular.matricula")))]}),Object(A.jsxs)(u.a.Group,{as:b.a,lg:3,md:6,children:[Object(A.jsx)(u.a.Label,{children:"Apellido Paterno"}),Object(A.jsx)(u.a.Control,Object(l.a)({readOnly:!0},$("titular.apellidoPaterno")))]}),Object(A.jsxs)(u.a.Group,{as:b.a,lg:3,md:6,children:[Object(A.jsx)(u.a.Label,{children:"Apellido Materno"}),Object(A.jsx)(u.a.Control,Object(l.a)({readOnly:!0},$("titular.apellidoMaterno")))]}),Object(A.jsxs)(u.a.Group,{as:b.a,lg:3,md:6,children:[Object(A.jsx)(u.a.Label,{children:"Nombre"}),Object(A.jsx)(u.a.Control,Object(l.a)({readOnly:!0},$("titular.nombres")))]})]}),Object(A.jsxs)(u.a.Row,{children:[Object(A.jsxs)(u.a.Group,{as:b.a,sm:4,children:[Object(A.jsx)(u.a.Label,{children:"Estado"}),Object(A.jsx)(u.a.Control,Object(l.a)({readOnly:!0,isInvalid:!!(null===(N=je.titular)||void 0===N?void 0:N.estado)},$("titular.estado"))),Object(A.jsx)(u.a.Control.Feedback,{type:"invalid",children:null===(C=je.titular)||void 0===C||null===(y=C.estado)||void 0===y?void 0:y.message})]}),(null===se||void 0===se||null===(L=se.titular)||void 0===L||null===(T=L.afiliacion)||void 0===T?void 0:T.baja)&&Object(A.jsxs)(u.a.Group,{as:b.a,sm:4,children:[Object(A.jsx)(u.a.Label,{children:"Validez del seguro"}),Object(A.jsx)(u.a.Control,Object(l.a)({readOnly:!0,isInvalid:!!(null===(w=je.titular)||void 0===w?void 0:w.fechaValidezSeguro)},$("titular.fechaValidezSeguro"))),Object(A.jsx)(u.a.Control.Feedback,{type:"invalid",children:null===(D=je.titular)||void 0===D||null===(M=D.fechaValidezSeguro)||void 0===M?void 0:M.message})]})]})]}),Object(A.jsx)("hr",{}),Object(A.jsx)("h2",{style:{fontSize:"1.25rem"},children:"Empleador"}),Object(A.jsxs)(u.a.Row,{children:[Object(A.jsxs)(u.a.Group,{as:b.a,md:4,children:[Object(A.jsx)(u.a.Label,{children:"N\xba Patronal"}),Object(A.jsx)(u.a.Control,Object(l.a)({readOnly:!0,isInvalid:!!(null===(G=je.empleador)||void 0===G?void 0:G.numeroPatronal)},$("empleador.numeroPatronal"))),Object(A.jsx)(u.a.Control.Feedback,{type:"invalid",children:null===(P=je.empleador)||void 0===P||null===(V=P.numeroPatronal)||void 0===V?void 0:V.message})]}),Object(A.jsxs)(u.a.Group,{as:b.a,md:8,children:[Object(A.jsx)(u.a.Label,{children:"Nombre"}),Object(A.jsx)(u.a.Control,Object(l.a)({readOnly:!0},$("empleador.nombre")))]})]}),Object(A.jsxs)(u.a.Row,{children:[Object(A.jsxs)(u.a.Group,{as:b.a,sm:4,children:[Object(A.jsx)(u.a.Label,{children:"Estado"}),Object(A.jsx)(u.a.Control,Object(l.a)({readOnly:!0,isInvalid:!!(null===(z=je.empleador)||void 0===z?void 0:z.estado)},$("empleador.estado"))),Object(A.jsx)(u.a.Control.Feedback,{type:"invalid",children:null===(k=je.empleador)||void 0===k||null===(B=k.estado)||void 0===B?void 0:B.message})]}),Object(A.jsxs)(u.a.Group,{as:b.a,sm:4,children:[Object(A.jsx)(u.a.Label,{children:"Fecha de baja"}),Object(A.jsx)(u.a.Control,Object(l.a)({readOnly:!0,isInvalid:!!(null===(U=je.empleador)||void 0===U?void 0:U.fechaBaja)},$("empleador.fechaBaja"))),Object(A.jsx)(u.a.Control.Feedback,{type:"invalid",children:null===(q=je.empleador)||void 0===q||null===(Q=q.fechaBaja)||void 0===Q?void 0:Q.message})]}),Object(A.jsxs)(u.a.Group,{as:b.a,sm:4,children:[Object(A.jsx)(u.a.Label,{children:"En mora"}),Object(A.jsx)(u.a.Control,Object(l.a)({readOnly:!0,isInvalid:!!(null===(X=je.empleador)||void 0===X?void 0:X.enMora)},$("empleador.enMora"))),Object(A.jsx)(u.a.Control.Feedback,{type:"invalid",children:null===(H=je.empleador)||void 0===H||null===(K=H.enMora)||void 0===K?void 0:K.message})]})]}),Object(A.jsx)(Ne,{title:"Resultados",show:ce,asegurados:(null===(W=de.data)||void 0===W?void 0:W.data.records)||[],onSelect:function(t){e.onChange(t),oe(!1)},onHide:function(){return oe(!1)}})]})})]})},_e=function(e){var t,n,r,i,o,s,d,j,b,h=e.isInvalid,x=e.feedback,v=e.filterBy,p=e.onChange,f=Object(J.a)(e,["isInvalid","feedback","filterBy","onChange"]),g="prestaciones.buscar";console.log("AllowNew",f.allowNew);var E=Object(T.b)(),R=Object(m.a)(g,(function(){return de({})}),{refetchOnReconnect:!1,refetchOnWindowFocus:!1}),I=Object(w.a)((function(e){return le(e)}),{onSuccess:function(e){var t=e.data;E.invalidateQueries("prestaciones.buscar",{inactive:!0}),E.setQueryData(g,(function(e){return Object(l.a)(Object(l.a)({},e),{},{data:Object(l.a)(Object(l.a)({},e.data),{},{records:[e.data.records,t]})})})),p&&p([t])}});Object(a.useEffect)((function(){var e;R.data&&(f.onLoad&&f.onLoad(null===(e=R.data)||void 0===e?void 0:e.data))}),[R.data]);var N=Object(a.useMemo)((function(){var e,t,n,a;return Array.isArray(null===(e=R.data)||void 0===e?void 0:e.data)?null===(n=R.data)||void 0===n?void 0:n.data:((null===(t=R.data)||void 0===t?void 0:t.data)&&console.error(null===(a=R.data)||void 0===a?void 0:a.data),[])}),[null===(t=R.data)||void 0===t?void 0:t.data]);return Object(A.jsxs)(F.a,{hasValidation:!0,children:[Object(A.jsx)($.a,Object(l.a)(Object(l.a)({clearButton:!0,allowNew:!0,emptyLabel:"No se encontraron coincidencias",align:"left"},f),{},{onChange:function(e){if(e.length){var t=e[0];if(t.customOption)return void I.mutate(t.nombre)}console.log("Prestaciones",e),p&&p(e)},newSelectionPrefix:Object(A.jsx)("i",{children:"Crear nueva: "}),className:R.isError||h?"is-invalid":"",isInvalid:R.isError||h,filterBy:function(e,t){return(!t.text||Object(S.b)(e.nombre,t))&&(!v||"function"===typeof v&&v(e,t))},disabled:!R.data||I.isLoading,isLoading:R.isFetching||I.isLoading,options:N,labelKey:"nombre"})),Object(A.jsx)(F.a.Append,{children:Object(A.jsx)(O.a,{disabled:!R.data||I.isLoading,variant:R.isError?"outline-danger":"outline-secondary",onClick:function(){return R.refetch()},children:Object(A.jsx)(c.l,{})})}),Object(A.jsx)(u.a.Control.Feedback,{type:"invalid",children:(null===(n=R.error)||void 0===n||null===(r=n.response)||void 0===r||null===(i=r.data)||void 0===i?void 0:i.message)||(null===(o=R.error)||void 0===o?void 0:o.message)||(null===(s=I.error)||void 0===s||null===(d=s.response)||void 0===d||null===(j=d.data)||void 0===j?void 0:j.message)||(null===(b=I.error)||void 0===b?void 0:b.message)||x})]})},Ae=function(){var e,t=Object(a.useState)(1),n=Object(d.a)(t,2),r=(n[0],n[1],Object(_.i)()),i=r.register,c=r.control,o=r.formState,s=r.watch,j=Object(_.f)({name:"proveedor",control:c}),b=Object(_.g)({control:c,name:"prestacionesSolicitadas"}),O=b.fields,h=(b.append,b.remove,o.errors),m=!!h.prestacionesSolicitadas||!!h.proveedor;return Object(A.jsxs)(Ee.a,{style:{overflow:"visible"},children:[Object(A.jsx)(ge.a.Toggle,{as:Ee.a.Header,className:"text-light "+(m?"bg-danger":"bg-primary"),eventKey:"3",children:"Prestaciones"}),Object(A.jsx)(ge.a.Collapse,{eventKey:"3",children:Object(A.jsxs)("div",{children:[Object(A.jsxs)(x.a,{className:h.prestacionesSolicitadas?"is-invalid":"",children:[Object(A.jsx)("thead",{children:Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{style:{width:1},children:"#"}),Object(A.jsx)("th",{children:"Prestacion"}),Object(A.jsx)("th",{children:"Proveedor"}),Object(A.jsx)("th",{children:"Nota"}),Object(A.jsx)("th",{style:{width:1}})]})}),Object(A.jsx)("tbody",{children:O.map((function(e,t){var n,a,r,d,b,O,h;return Object(A.jsxs)("tr",{children:[Object(A.jsx)("td",{children:t+1}),Object(A.jsx)("td",{children:Object(A.jsx)(_.a,{name:"prestacionesSolicitadas.".concat(t,".prestacion"),control:c,render:function(e){var n,a=e.field,r=e.fieldState;return Object(A.jsx)(A.Fragment,{children:Object(A.jsx)(_e,{id:"solicitud-atencion-externa/prestacionesSolicitadas.".concat(t,".prestacion"),allowNew:!1,className:r.error?"is-invalid":"",isInvalid:!!r.error,filterBy:function(e){var t=s("proveedor.0"),n=s("prestacionesSolicitadas");return!t||t.contrato.prestaciones.some((function(t){return t.id==e.id}))&&!n.some((function(t){var n;return(null===(n=t.prestacion)||void 0===n?void 0:n.length)&&t.prestacion[0].id==e.id}))},feedback:null===(n=r.error)||void 0===n?void 0:n.message,selected:a.value,onBlur:a.onBlur,onChange:a.onChange})})}})}),Object(A.jsx)("td",{children:Object(A.jsx)(ue,{id:"solicitud-atencion-externa/proveedor",className:(null===(n=j.fieldState)||void 0===n?void 0:n.error)?"is-invalid":"",isInvalid:!!(null===(a=j.fieldState)||void 0===a?void 0:a.error),filter:{activos:1},filterBy:function(e){return!(e.regionalId!=s("regional.0.id")||!s("prestacionesSolicitadas").every((function(t){return e.contrato.prestaciones.some((function(e){return e.id==(t.prestacion.length&&t.prestacion[0].id)}))})))},feedback:null===(r=j.fieldState)||void 0===r||null===(d=r.error)||void 0===d?void 0:d.message,onChange:j.field.onChange,onBlur:j.field.onBlur,selected:j.field.value})}),Object(A.jsxs)("td",{children:[Object(A.jsx)(u.a.Control,Object(l.a)({as:"textarea",isInvalid:!(!o.errors.prestacionesSolicitadas||!(null===(b=o.errors.prestacionesSolicitadas[t])||void 0===b?void 0:b.nota))},i("prestacionesSolicitadas.".concat(t,".nota")))),Object(A.jsx)(u.a.Control.Feedback,{type:"invalid",children:o.errors.prestacionesSolicitadas&&(null===(O=o.errors.prestacionesSolicitadas[t])||void 0===O||null===(h=O.nota)||void 0===h?void 0:h.message)})]}),Object(A.jsx)("td",{})]},e.id)}))})]}),Object(A.jsx)(u.a.Control.Feedback,{type:"invalid",children:null===(e=h.prestacionesSolicitadas)||void 0===e?void 0:e.message})]})})]})},ye={1:"Activo",2:"Baja"},Le={1:"Activo",2:"Baja",3:"Baja temporal"},Te=Se()(),we=U.j().label("estado").oneOf(Object.values(ye),"Estado desconocido").test("estado-incoherente","",(function(e,t){return e==ye[1]&&t.parent.tieneBaja?t.createError({message:"El asegurado figura como activo, pero hay un registro de su baja con fecha ${date}",params:{date:t.parent.fechaRegBaja}}):!(e==ye[2]&&!t.parent.tieneBaja)||t.createError({message:"El asegurado figura como dado de baja, aunque no se encontraron registros de la baja"})})),De=U.e().label("fecha de extinsion").test("min","",(function(e,t){var n=t.parent,a=n.estado,r=n.tieneBaja;return a==ye[2]&&r&&!e?t.createError({message:"Fecha sin especificar, se asume que el seguro ya no tiene validez"}):!Se()(e).isSameOrBefore(Te)||t.createError({message:"El seguro ya no tiene validez"})})),Me=U.g().shape({asegurado:U.g().shape({matricula:U.j().label("matricula").trim().uppercase().required().matches(/^\d{2}-\d{4}-[a-zA-Z\xf1\xd1]{2,3}$/,"Formato incorrecto."),estado:we,fechaExtincion:U.d((function(e){return e?U.c().label("fecha de extinsion").nullable().notRequired().min(Te.toDate(),"Fecha de extinsion alcanzada"):U.e()})),fechaValidezSeguro:De}),titular:U.e().test("titular","",(function(e,t){var n,a,r=null===(n=t.options.context)||void 0===n?void 0:n.asegurado;if(2==(null===r||void 0===r?void 0:r.tipo)&&8!=(null===r||void 0===r||null===(a=r.afiliacion)||void 0===a?void 0:a.parentesco)){if(!r.titular)return t.createError({message:"No se encontraron datos del titular"});try{U.g().shape({estado:we,fechaValidezSeguro:De}).validateSync(e,{context:{asegurado:r.titular}})}catch(i){return i}}return!0})),empleador:U.g().shape({numeroPatronal:U.j().label("numero patronal").required(),estado:U.j().label("estado").oneOf(Object.values(Le),"Estado desconocido").test("estado-incoherente","El empleador figura como activo, pero tiene fecha de baja",(function(e,t){var n,a,r=null===(n=t.options.context)||void 0===n||null===(a=n.asegurado)||void 0===a?void 0:a.empleador;return 1!=r.estado||!r.fechaBaja})),fechaBaja:U.e().when("estado",{is:function(e){return e==Le[2]||e==Le[3]},then:U.c().required("Fecha sin especificar, se asume que el seguro ya no tiene validez").min(Te.subtract(2,"months").toDate())}),aportes:U.d((function(e){return e?U.j().oneOf(["No"],"El empleador esta en mora"):U.j()}))}),regional:U.b().length(1,"Debe seleccionar una regional"),medico:U.b().length(1,"Debe seleccionar un medico"),proveedor:U.b().length(1,"Debe seleccionar un proveedor"),prestacionesSolicitadas:U.b().of(U.g().shape({prestacion:U.b().length(1,"Debe seleccionar una prestacion"),nota:U.j().label("nota").nullable().notRequired().max(150)})).min(1,"Debe solicitar un servicio").max(1,"Solo puede solicitar un servicio por solicitud")}),Ge=function(){var e=Object(a.useState)(null),t=Object(d.a)(e,2),n=t[0],r=t[1];console.log("Asegurado",n);var i=Object(_.h)({mode:"onBlur",context:{asegurado:n},resolver:Object(B.a)(Me),defaultValues:{regional:[],medico:[],proveedor:[],prestacionesSolicitadas:[{id:0,prestacion:[],nota:""}],asegurado:{},titular:{},empleador:{}}}),c=i.handleSubmit,o=i.formState,s=i.control,h=i.reset,x=i.setValue,m=i.setError,v=i.watch,f=Object(D.b)("pdfModal"),g=Object(xe.a)();console.log("Errors",v(),o.errors);var E=Object(w.a)((function(e){return W(e.regional[0].id,n.id,e.medico[0].id,e.proveedor[0].id,e.prestacionesSolicitadas.map((function(e){var t=e.prestacion,n=e.nota;return{prestacion_id:t[0].id,nota:n}})))}),{onSuccess:function(e){var t=e.data,n=t.urlDm11,a=t.regionalId;((null===g||void 0===g?void 0:g.canAny([G.a.EMITIR_SOLICITUDES_DE_ATENCION_EXTERNA,G.a.EMITIR_SOLICITUDES_DE_ATENCION_EXTERNA_REGISTRADO_POR]))||(null===g||void 0===g?void 0:g.can(G.a.EMITIR_SOLICITUDES_DE_ATENCION_EXTERNA_MISMA_REGIONAL))&&a==(null===g||void 0===g?void 0:g.regionalId))&&(f.open({url:n,title:"Formulario D.M. - 11"}),h())}}),R=o.errors,S=E.error;Object(a.useEffect)((function(){var e;if(422==(null===S||void 0===S||null===(e=S.response)||void 0===e?void 0:e.status)){var t,n=(null===(t=S.response)||void 0===t?void 0:t.data).errors;Object.keys(n).forEach((function(e){var t=e;"asegurado.id"==e&&(t="asegurado.matricula"),m(t,{type:"serverError",message:n[e]})}))}}),[S]);return Object(A.jsx)(_.b,Object(l.a)(Object(l.a)({},i),{},{children:Object(A.jsxs)(u.a,{onSubmit:c((function(e){E.mutate(e)})),children:[Object(A.jsx)("h1",{style:{fontSize:"1.75rem"},children:"Solicitud de atenci\xf3n externa"}),function(){return E.isSuccess?Object(A.jsx)(k.a,{variant:"success",children:"La operacion se realiz\xf3 exitosamente"}):E.isError&&422!=(null===(e=S.response)||void 0===e?void 0:e.status)?Object(A.jsx)(k.a,{variant:"danger",children:S?(null===(t=S.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||S.message:""}):null;var e,t,n}(),Object(A.jsxs)(ge.a,{className:"mt-3",defaultActiveKey:"0",children:[Object(A.jsx)(Ce,{value:n,onChange:function(e){r(e)}}),Object(A.jsxs)(Ee.a,{style:{overflow:"visible"},children:[Object(A.jsx)(ge.a.Toggle,{as:Ee.a.Header,className:"text-light "+(R.regional?"bg-danger":"bg-primary"),eventKey:"1",children:"Regional"}),Object(A.jsx)(ge.a.Collapse,{eventKey:"1",children:Object(A.jsx)(Ee.a.Body,{children:Object(A.jsx)(u.a.Row,{children:Object(A.jsxs)(u.a.Group,{as:b.a,children:[Object(A.jsx)(u.a.Label,{children:"Nombre"}),Object(A.jsx)(_.a,{control:s,name:"regional",render:function(e){var t,n=e.field,a=e.fieldState;return Object(A.jsx)(p.i,{id:"solicitud-atencion-externa-form/regionales",filterBy:function(e){return!!(null===g||void 0===g?void 0:g.can(G.a.REGISTRAR_SOLICITUDES_DE_ATENCION_EXTERNA))||e.id==(null===g||void 0===g?void 0:g.regionalId)},isInvalid:!!a.error,feedback:null===(t=a.error)||void 0===t?void 0:t.message,selected:n.value,onBlur:n.onBlur,onChange:function(e){x("medico",[]),x("proveedor",[]),n.onChange(e)}})}})]})})})})]}),Object(A.jsxs)(Ee.a,{style:{overflow:"visible"},children:[Object(A.jsx)(ge.a.Toggle,{as:Ee.a.Header,className:"text-light "+(R.medico?"bg-danger":"bg-primary"),eventKey:"2",children:"M\xe9dico"}),Object(A.jsx)(ge.a.Collapse,{eventKey:"2",children:Object(A.jsx)(Ee.a.Body,{children:Object(A.jsx)(u.a.Row,{children:Object(A.jsxs)(u.a.Group,{as:b.a,children:[Object(A.jsx)(u.a.Label,{children:"Nombre"}),Object(A.jsx)(_.a,{control:s,name:"medico",render:function(e){var t,n=e.field,a=e.fieldState;return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(je,{id:"solicitud-atencion-externa-form/medicos",filter:{estado:1},filterBy:function(e){return e.regionalId==v("regional.0.id")},className:a.error?"is-invalid":"",isInvalid:!!o.errors.medico,selected:n.value,onBlur:n.onBlur,onChange:n.onChange}),Object(A.jsx)(u.a.Control.Feedback,{type:"invalid",children:null===(t=a.error)||void 0===t?void 0:t.message})]})}})]})})})})]}),Object(A.jsx)(Ae,{})]}),Object(A.jsxs)(O.a,{className:"mt-3",type:"submit",children:[E.isLoading?Object(A.jsx)(j.a,{animation:"border",size:"sm"}):null,"Guardar"]})]})}))},Pe=n(621),Ve=n(246),ze=n(247),ke=function(e,t){var n=se.a.CancelToken.source(),a=g.b.get("/especialidades",{params:{filter:{nombre:e||void 0},page:t}});return a.cancel=function(){n.cancel("Query was cancelled by React Query")},a},Fe=function(e){return g.b.get("especialidades/".concat(e))},Be=function(e){return g.b.post("especialidades",{nombre:e})},Ue=function(e,t){return g.b.put("especialidades/".concat(e),{nombre:t})},qe=function(e){return g.b.delete("especialidades/".concat(e))},Qe=function(e){var t=Object(_.h)(),n=t.register,a=t.handleSubmit;return Object(A.jsx)(u.a,{onSubmit:a((function(t){var n=t.nombre;e.onSearch(n)})),children:Object(A.jsxs)(u.a.Row,{className:"flex-nowrap",children:[Object(A.jsxs)(b.a,{children:[Object(A.jsx)(u.a.Label,{htmlFor:"nombre",srOnly:!0,children:"Nombre"}),Object(A.jsx)(u.a.Control,Object(l.a)({type:"search",id:"nombre",style:{minWidth:"10rem"}},n("nombre")))]}),Object(A.jsx)(b.a,{xs:"auto",children:Object(A.jsx)(O.a,{className:"ml-2",type:"submit",children:Object(A.jsx)(c.k,{})})})]})})},Xe=function(){var e=Object(a.useState)(0),t=Object(d.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)({current:1,size:10}),o=Object(d.a)(i,2),s=o[0],h=o[1],p=Object(a.useState)(""),f=Object(d.a)(p,2),g=f[0],E=f[1],R=(Object(a.useRef)(),Object(m.a)(["especialidades.buscar",s,g],(function(){return ke(g,s)}),{refetchOnReconnect:!1,refetchOnWindowFocus:!1,onSuccess:function(e){var t=e.data.meta;r(t.total)}})),S=Object(w.a)((function(e){return qe(e)}));return Object(A.jsxs)("div",{className:"px-1",children:[Object(A.jsx)("h2",{style:{fontSize:"1.75rem"},children:"Especialidades"}),Object(A.jsx)(u.a.Row,{className:"mb-2",children:Object(A.jsx)(b.a,{className:"ml-auto",xs:"auto",children:Object(A.jsx)(O.a,{as:v.b,replace:!0,to:"/clinica/especialidades/registrar",children:"Nuevo"})})}),Object(A.jsxs)(Pe.a,{children:[Object(A.jsx)(b.a,{className:"mb-2",children:Object(A.jsx)(Qe,{onSearch:function(e){E(e)}})}),Object(A.jsx)(b.a,{className:"mb-2",xs:"auto",children:Object(A.jsxs)("div",{className:"d-flex flex-row flex-nowrap align-items-center",children:[Object(A.jsx)("span",{children:"Mostrar"}),Object(A.jsxs)(u.a.Control,{className:"mx-2",as:"select",value:s.size,onChange:function(e){var t=e.target.value;h((function(e){return{current:1,size:parseInt(t)}}))},children:[Object(A.jsx)("option",{value:10,children:"10"}),Object(A.jsx)("option",{value:20,children:"20"}),Object(A.jsx)("option",{value:30,children:"30"}),Object(A.jsx)("option",{value:50,children:"50"}),Object(A.jsx)("option",{value:100,children:"100"})]}),Object(A.jsx)("span",{children:"filas"})]})})]}),Object(A.jsxs)(x.a,{responsive:!0,children:[Object(A.jsx)("thead",{children:Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{style:{width:1},children:"#"}),Object(A.jsx)("th",{children:"Nombre"}),Object(A.jsx)("th",{style:{width:1}})]})}),Object(A.jsx)("tbody",{children:function(){if(R.isFetching)return Object(A.jsx)("tr",{children:Object(A.jsxs)("td",{className:"bg-light text-center",colSpan:100,children:[Object(A.jsx)(j.a,{className:"mr-2",variant:"primary",animation:"border",size:"sm"}),"Cargando"]})});if(R.isError){var e,t,n=R.error;return Object(A.jsx)("tr",{children:Object(A.jsx)("td",{className:"bg-danger text-light text-center",colSpan:100,children:(null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||n.message})})}var a=R.data.data.records;return 0==a.length?Object(A.jsx)("tr",{children:Object(A.jsx)("td",{className:"bg-light text-center",colSpan:100,children:"No se encontraron resultados"})}):a.map((function(e,t){return Object(A.jsxs)("tr",{children:[Object(A.jsx)("td",{children:t+1}),Object(A.jsx)("td",{children:e.nombre}),Object(A.jsx)("td",{children:Object(A.jsxs)(L.a,{children:[Object(A.jsx)(L.a.Toggle,{as:ze.b,variant:"link",id:"dropdown-especialidad-".concat(e.id)}),Object(A.jsxs)(L.a.Menu,{children:[Object(A.jsxs)(L.a.Item,{as:v.b,replace:!0,to:{pathname:"/clinica/especialidades/".concat(e.id,"/editar"),state:{especialidad:e}},children:[Object(A.jsx)(c.d,{}),Object(A.jsx)("span",{className:"ml-2 align-middle",children:"Editar"})]}),Object(A.jsx)(L.a.Item,{className:"text-danger",href:"#",onClick:function(){window.confirm("\xbfEst\xe1 seguro?")&&S.mutate(e.id)},children:"Eliminar"})]})]})})]},e.id)}))}()})]}),"success"===R.status?Object(A.jsxs)("div",{className:"d-flex flex-row",children:[Object(A.jsx)("span",{className:"mr-auto",children:"Se encontraron ".concat(n," resultados")}),Object(A.jsx)(Ve.b,{current:s.current,total:Math.ceil((n-s.size)/s.size)+1,onChange:function(e){return h((function(t){return Object(l.a)(Object(l.a)({},t),{},{current:e})}))}})]}):null]})},He=U.g().shape({nombre:U.j().required().min(4).max(100)}),Ke=function(){var e,t,n,i=Object(r.i)().id,c=Object(r.g)(),o=Object(a.useRef)(!1),s=Object(_.h)({resolver:Object(B.a)(He)}),d=s.handleSubmit,b=s.register,h=s.reset,x=s.setValue,v=s.formState,p=Object(T.b)(),f=Object(w.a)((function(e){var t=e.nombre;return i?Ue(parseInt(i),t):Be(t)}),{onSuccess:function(){h(),p.invalidateQueries("especialidades.buscar"),o.current||c.replace("/clinica/especialidades")}}),g=Object(m.a)(["especialidades.cargar",i],(function(){return Fe(parseInt(i))}),{enabled:!!i&&!(null===(e=c.location.state)||void 0===e?void 0:e.especialidad),refetchOnMount:!1,refetchOnWindowFocus:!1,refetchOnReconnect:!1}),E=(null===(t=g.data)||void 0===t?void 0:t.data)||(null===(n=c.location.state)||void 0===n?void 0:n.especialidad);Object(a.useEffect)((function(){E&&x("nombre",E.nombre)}),[E]);return Object(A.jsxs)(Oe.a,{show:!0,centered:!0,onHide:function(){c.replace("/clinica/especialidades")},children:[Object(A.jsx)(Oe.a.Header,{children:i?"Editar":"Registrar"}),Object(A.jsx)(Oe.a.Body,{children:function(){var e,t,n;if(g.isFetching)return Object(A.jsx)(j.a,{animation:"border",children:"Cargando"});var a,r,i=g.error;return i?Object(A.jsx)(k.a,{variant:"danger",children:(null===(a=i.response)||void 0===a||null===(r=a.data)||void 0===r?void 0:r.message)||i.message}):Object(A.jsxs)(u.a,{id:"especialidad-form",onSubmit:d((function(e){f.mutate(e)})),children:["error"==f.status||"success"==f.status?Object(A.jsx)(k.a,{variant:f.isError?"danger":"success",children:f.isError?(null===(e=f.error.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||f.error.message:"Guardado"}):null,Object(A.jsxs)(u.a.Group,{children:[Object(A.jsx)(u.a.Label,{children:"Nombre"}),Object(A.jsx)(u.a.Control,Object(l.a)({isInvalid:!!v.errors.nombre},b("nombre"))),Object(A.jsx)(u.a.Control.Feedback,{type:"invalid",children:null===(n=v.errors.nombre)||void 0===n?void 0:n.message})]})]})}()}),Object(A.jsxs)(Oe.a.Footer,{children:[i?null:Object(A.jsxs)(O.a,{type:"submit",form:"especialidad-form",onClick:function(){o.current=!0},children:[f.isLoading&&o.current?Object(A.jsx)(j.a,{animation:"border",size:"sm"}):null,"Guardar y continuar"]}),Object(A.jsxs)(O.a,{type:"submit",form:"especialidad-form",onClick:function(){o.current=!1},children:[f.isLoading&&!o.current?Object(A.jsx)(j.a,{animation:"border",size:"sm"}):null,"Guardar"]})]})]})},We=function(e,t){return R.apiClient.get("/prestaciones",{params:{filter:{nombre:t||void 0},page:e}})},Je=function(e){return R.apiClient.get("prestaciones/".concat(e))},$e=function(e){return R.apiClient.post("prestaciones",{nombre:e})},Ze=function(e,t){return R.apiClient.put("prestaciones/".concat(e),{nombre:t})},Ye=function(e){return R.apiClient.delete("prestaciones/".concat(e))},et=function(e){var t=Object(_.h)(),n=t.register,a=t.handleSubmit;return Object(A.jsx)(u.a,{onSubmit:a((function(t){var n=t.nombre;e.onSearch(n)})),children:Object(A.jsxs)(u.a.Row,{className:"flex-nowrap",children:[Object(A.jsxs)(b.a,{children:[Object(A.jsx)(u.a.Label,{htmlFor:"nombre",srOnly:!0,children:"Nombre"}),Object(A.jsx)(u.a.Control,Object(l.a)({type:"search",id:"nombre",style:{minWidth:"10rem"}},n("nombre")))]}),Object(A.jsx)(b.a,{xs:"auto",children:Object(A.jsx)(O.a,{className:"ml-2",type:"submit",children:Object(A.jsx)(c.k,{})})})]})})},tt=function(){var e=Object(a.useState)(0),t=Object(d.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)({current:1,size:10}),o=Object(d.a)(i,2),s=o[0],h=o[1],p=Object(a.useState)(""),f=Object(d.a)(p,2),g=f[0],E=f[1],R=Object(m.a)(["prestaciones.buscar",s,g],(function(){return We(s,g)}),{refetchOnReconnect:!1,refetchOnWindowFocus:!1,onSuccess:function(e){var t=e.data.meta;r(t.total)}}),S=Object(w.a)((function(e){return Ye(e)}));return Object(A.jsxs)("div",{className:"px-1",children:[Object(A.jsx)("h2",{style:{fontSize:"1.75rem"},children:"Prestaciones"}),Object(A.jsx)(u.a.Row,{className:"mb-2",children:Object(A.jsx)(b.a,{className:"ml-auto",xs:"auto",children:Object(A.jsx)(O.a,{as:v.b,replace:!0,to:"/clinica/prestaciones/registrar",children:"Nuevo"})})}),Object(A.jsxs)(Pe.a,{children:[Object(A.jsx)(b.a,{className:"mb-2",children:Object(A.jsx)(et,{onSearch:function(e){E(e)}})}),Object(A.jsx)(b.a,{className:"mb-2",xs:"auto",children:Object(A.jsxs)("div",{className:"d-flex flex-row flex-nowrap align-items-center",children:[Object(A.jsx)("span",{children:"Mostrar"}),Object(A.jsxs)(u.a.Control,{className:"mx-2",as:"select",value:s.size,onChange:function(e){var t=e.target.value;h((function(e){return Object(l.a)(Object(l.a)({},e),{},{size:parseInt(t)})}))},children:[Object(A.jsx)("option",{value:10,children:"10"}),Object(A.jsx)("option",{value:20,children:"20"}),Object(A.jsx)("option",{value:30,children:"30"}),Object(A.jsx)("option",{value:50,children:"50"}),Object(A.jsx)("option",{value:100,children:"100"})]}),Object(A.jsx)("span",{children:"filas"})]})})]}),Object(A.jsxs)(x.a,{responsive:!0,children:[Object(A.jsx)("thead",{children:Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{style:{width:1},children:"#"}),Object(A.jsx)("th",{children:"Nombre"}),Object(A.jsx)("th",{style:{width:1}})]})}),Object(A.jsx)("tbody",{children:function(){if(R.isFetching)return Object(A.jsx)("tr",{children:Object(A.jsxs)("td",{className:"bg-light text-center",colSpan:100,children:[Object(A.jsx)(j.a,{className:"mr-2",variant:"primary",animation:"border",size:"sm"}),"Cargando"]})});if(R.isError){var e,t,n=R.error;return Object(A.jsx)("tr",{children:Object(A.jsx)("td",{className:"bg-danger text-light text-center",colSpan:100,children:(null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||n.message})})}var a=R.data.data.records;return 0==a.length?Object(A.jsx)("tr",{children:Object(A.jsx)("td",{className:"bg-light text-center",colSpan:100,children:"No se encontraron resultados"})}):a.map((function(e,t){return Object(A.jsxs)("tr",{children:[Object(A.jsx)("td",{children:t+1}),Object(A.jsx)("td",{children:e.nombre}),Object(A.jsx)("td",{children:Object(A.jsxs)(L.a,{children:[Object(A.jsx)(L.a.Toggle,{as:ze.b,variant:"link",id:"dropdown-prestacion-".concat(e.id)}),Object(A.jsxs)(L.a.Menu,{children:[Object(A.jsxs)(L.a.Item,{as:v.b,replace:!0,to:{pathname:"/clinica/prestaciones/".concat(e.id,"/editar"),state:{prestacion:e}},children:[Object(A.jsx)(c.d,{}),Object(A.jsx)("span",{className:"ml-2 align-middle",children:"Editar"})]}),Object(A.jsxs)(L.a.Item,{className:"text-danger",href:"#",onClick:function(){window.confirm("\xbfEst\xe1 seguro?")&&S.mutate(e.id)},children:[Object(A.jsx)(c.n,{}),Object(A.jsx)("span",{className:"ml-2 align-middle",children:"Eliminar"})]})]})]})})]},e.id)}))}()})]}),Object(A.jsxs)("div",{className:"d-flex flex-row",children:[Object(A.jsx)("span",{className:"mr-auto",children:"Se encontraron ".concat(n," resultados")}),Object(A.jsx)(Ve.b,{current:s.current,total:Math.ceil((n-s.size)/s.size)+1,onChange:function(e){return h((function(t){return Object(l.a)(Object(l.a)({},t),{},{current:e})}))}})]})]})},nt=U.g().shape({nombre:U.j().required().min(3).max(150)}),at=function(){var e=Object(r.i)().id,t=Object(r.g)(),n=t.location.state,i=null===n||void 0===n?void 0:n.prestacion,c=Object(a.useRef)(!1),o=Object(_.h)({resolver:Object(B.a)(nt)}),s=o.handleSubmit,d=o.reset,b=o.register,h=o.setValue,x=o.formState,v=Object(T.b)(),p=Object(w.a)((function(t){var n=t.nombre;return e?Ze(parseInt(e),n):$e(n)}),{onSuccess:function(){d(),v.invalidateQueries("prestaciones.buscar"),c.current||t.replace("/clinica/prestaciones")}}),f=Object(m.a)(["verPrestacion",e],(function(){return Je(parseInt(e))}),{enabled:!!e&&!i,refetchOnWindowFocus:!1,refetchOnReconnect:!1});Object(a.useEffect)((function(){var e,t;((null===(e=f.data)||void 0===e?void 0:e.data)||i)&&h("nombre",((null===(t=f.data)||void 0===t?void 0:t.data)||i).nombre)}),[f.data]);return Object(A.jsxs)(Oe.a,{show:!0,centered:!0,onHide:function(){t.replace("/clinica/prestaciones")},children:[Object(A.jsx)(Oe.a.Header,{children:e?"Editar":"Registrar"}),Object(A.jsx)(Oe.a.Body,{children:function(){var e,t,n;if(f.isFetching)return Object(A.jsx)(j.a,{animation:"border",children:"Cargando"});var a,r,i=f.error;return i?Object(A.jsx)(k.a,{variant:"danger",children:(null===(a=i.response)||void 0===a||null===(r=a.data)||void 0===r?void 0:r.message)||i.message}):Object(A.jsxs)(u.a,{id:"prestacion-form",onSubmit:s((function(e){p.mutate(e)})),children:["error"==p.status||"success"==p.status?Object(A.jsx)(k.a,{variant:p.isError?"danger":"success",children:p.isError?(null===(e=p.error.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||p.error.message:"Guardado"}):null,Object(A.jsxs)(u.a.Group,{children:[Object(A.jsx)(u.a.Label,{children:"Nombre"}),Object(A.jsx)(u.a.Control,Object(l.a)({isInvalid:!!x.errors.nombre},b("nombre"))),Object(A.jsx)(u.a.Control.Feedback,{type:"invalid",children:null===(n=x.errors.nombre)||void 0===n?void 0:n.message})]})]})}()}),Object(A.jsxs)(Oe.a.Footer,{children:[e?null:Object(A.jsxs)(O.a,{type:"submit",form:"prestacion-form",onClick:function(){c.current=!0},children:[p.isLoading&&c.current?Object(A.jsx)(j.a,{animation:"border",size:"sm"}):null,"Guardar y continuar"]}),Object(A.jsxs)(O.a,{type:"submit",form:"prestacion-form",onClick:function(){c.current=!1},children:[p.isLoading&&!c.current?Object(A.jsx)(j.a,{animation:"border",size:"sm"}):null,"Guardar"]})]})]})},rt={index:function(e){return null===e||void 0===e?void 0:e.canAny([f.a.VER_MEDICOS,f.a.VER_MEDICOS_REGIONAL,f.a.REGISTRAR_MEDICOS,f.a.REGISTRAR_MEDICOS_REGIONAL])},register:function(e){return null===e||void 0===e?void 0:e.canAny([f.a.REGISTRAR_MEDICOS,f.a.REGISTRAR_MEDICOS_REGIONAL])},edit:function(e){return null===e||void 0===e?void 0:e.canAny([f.a.EDITAR_MEDICOS,f.a.EDITAR_MEDICOS_REGIONAL])},view:function(e){return null===e||void 0===e?void 0:e.canAny([f.a.VER_MEDICOS,f.a.VER_MEDICOS_REGIONAL])},baja:function(e){return null===e||void 0===e?void 0:e.canAny([f.a.BAJA_MEDICOS,f.a.BAJA_MEDICOS_REGIONAL])}},it=function(e){var t,n,r,i,o,s,d,j,b,h=e.isInvalid,x=e.feedback,v=e.filterBy,p=e.onChange,f=Object(J.a)(e,["isInvalid","feedback","filterBy","onChange"]),g="especialidades.buscar",E=Object(T.b)(),R=Object(m.a)(g,(function(){return ke("")}),{refetchOnReconnect:!1,refetchOnWindowFocus:!1}),I=Object(w.a)((function(e){return Be(e)}),{onSuccess:function(e){var t=e.data;E.invalidateQueries("especialidades.buscar",{inactive:!0}),E.setQueryData(g,(function(e){return Object(l.a)(Object(l.a)({},e),{},{data:Object(l.a)(Object(l.a)({},e.data),{},{records:[e.data.records,t]})})})),p&&p([t])}});Object(a.useEffect)((function(){var e;R.data&&(f.onLoad&&f.onLoad(null===(e=R.data)||void 0===e?void 0:e.data))}),[R.data]);var N=Object(a.useMemo)((function(){var e,t,n,a;return Array.isArray(null===(e=R.data)||void 0===e?void 0:e.data)?null===(n=R.data)||void 0===n?void 0:n.data:((null===(t=R.data)||void 0===t?void 0:t.data)&&console.error(null===(a=R.data)||void 0===a?void 0:a.data),[])}),[null===(t=R.data)||void 0===t?void 0:t.data]);return Object(A.jsxs)(F.a,{hasValidation:!0,children:[Object(A.jsx)($.a,Object(l.a)(Object(l.a)({clearButton:!0,allowNew:!0,emptyLabel:"No se encontraron resultados",align:"left"},f),{},{onChange:function(e){if(e.length){var t=e[0];if(t.customOption)return void I.mutate(t.nombre)}p&&p(e)},newSelectionPrefix:Object(A.jsx)("i",{children:"Crear nueva: "}),className:R.isError||h?"is-invalid":"",isInvalid:R.isError||h,filterBy:function(e,t){return(!t.text||Object(S.b)(e.nombre,t))&&(!v||"function"===typeof v&&v(e,t))},disabled:!R.data||I.isLoading,isLoading:R.isFetching||I.isLoading,options:N,labelKey:"nombre"})),Object(A.jsx)(F.a.Append,{children:Object(A.jsx)(O.a,{variant:R.isError?"outline-danger":"outline-secondary",onClick:function(){return R.refetch()},children:Object(A.jsx)(c.l,{})})}),Object(A.jsx)(u.a.Control.Feedback,{type:"invalid",children:(null===(n=R.error)||void 0===n||null===(r=n.response)||void 0===r||null===(i=r.data)||void 0===i?void 0:i.message)||(null===(o=R.error)||void 0===o?void 0:o.message)||(null===(s=I.error)||void 0===s||null===(d=s.response)||void 0===d||null===(j=d.data)||void 0===j?void 0:j.message)||(null===(b=I.error)||void 0===b?void 0:b.message)||x})]})},ct=function(e){var t=Object(_.h)({defaultValues:{tipo:"",especialidad:[]}}),n=t.control,a=t.handleSubmit,r=t.register,i=t.reset;return Object(A.jsxs)(u.a,{onSubmit:a((function(t){var n={};t.numCi&&(n.ci=t.numCi),t.compCi&&(n.ciComplemento=t.compCi),t.nombre&&(n.nombre=t.nombre),t.especialidad&&(n.especialidadId=t.especialidad.length&&t.especialidad[0].id),t.tipo&&(n.tipo=parseInt(t.tipo)),e.onFilter(n)})),children:[Object(A.jsx)(u.a.Row,{children:Object(A.jsxs)(u.a.Group,{as:b.a,children:[Object(A.jsx)(u.a.Label,{children:"Tipo"}),Object(A.jsxs)("div",{children:[Object(A.jsx)(u.a.Check,Object(l.a)({inline:!0,type:"radio",value:"",label:"Todos"},r("tipo"))),Object(A.jsx)(u.a.Check,Object(l.a)({inline:!0,type:"radio",value:"1",label:"Empleados"},r("tipo"))),Object(A.jsx)(u.a.Check,Object(l.a)({inline:!0,type:"radio",value:"2",label:"Proveedores"},r("tipo")))]})]})}),Object(A.jsxs)(u.a.Row,{children:[Object(A.jsxs)(u.a.Group,{as:b.a,sm:4,lg:3,children:[Object(A.jsx)(u.a.Label,{children:"N\xba Carnet"}),Object(A.jsx)(u.a.Control,Object(l.a)({},r("numCi")))]}),Object(A.jsxs)(u.a.Group,{as:b.a,sm:2,lg:1,children:[Object(A.jsx)(u.a.Label,{children:"Comp. Carnet"}),Object(A.jsx)(u.a.Control,Object(l.a)({},r("compCi")))]}),Object(A.jsxs)(u.a.Group,{as:b.a,sm:6,lg:8,children:[Object(A.jsx)(u.a.Label,{children:"Nombre"}),Object(A.jsx)(u.a.Control,Object(l.a)({},r("nombre")))]})]}),Object(A.jsx)(u.a.Row,{children:Object(A.jsxs)(u.a.Group,{as:b.a,children:[Object(A.jsx)(u.a.Label,{children:"Especialidad"}),Object(A.jsx)(_.a,{control:n,name:"especialidad",render:function(e){var t=e.field,n=(t.ref,t.value),a=Object(J.a)(t,["ref","value"]);return Object(A.jsx)(it,Object(l.a)({id:"medicos-filter/especialidades",selected:n},a))}})]})}),Object(A.jsxs)(u.a.Row,{children:[Object(A.jsx)(b.a,{xs:"auto",children:Object(A.jsx)(O.a,{type:"submit",children:"Aplicar"})}),Object(A.jsx)(b.a,{xs:"auto",children:Object(A.jsx)(O.a,{variant:"secondary",onClick:function(){return i()},children:"Limpiar"})})]})]})},ot=function(e){var t=e.medico,n=e.queryKey,r=Object(D.b)("queryLoader"),i=Object(T.b)(),c=Object(w.a)((function(){return ae(t.id,1==t.estado?2:1)}),{onSuccess:function(){r.close(),i.invalidateQueries("medicos.buscar",{inactive:!0}),i.setQueryData(n,(function(e){return console.log(e),Object(l.a)(Object(l.a)({},e),{},{data:Object(l.a)(Object(l.a)({},e.data),{},{records:e.data.records.map((function(e){return e==t?Object(l.a)(Object(l.a)({},e),{},{estado:1==t.estado?2:1,estadoText:1==t.estado?"Baja":"Alta"}):e}))})})}))}});return Object(a.useEffect)((function(){"loading"==c.status?r.open({state:"loading"}):"error"==c.status&&r.open({state:"error",error:c.error})}),[c.status]),Object(A.jsxs)(L.a,{style:{position:"initial"},children:[Object(A.jsx)(L.a.Toggle,{as:p.j,variant:"link",id:"dropdown-medicos-".concat(t.id)}),Object(A.jsxs)(L.a.Menu,{children:[Object(A.jsx)(M.b,{authorize:rt.view,children:Object(A.jsx)(L.a.Item,{as:v.b,to:{pathname:"/clinica/medicos/".concat(t.id),state:{medico:t}},children:Object(A.jsx)("span",{className:"align-middle",children:"Ver"})})}),Object(A.jsx)(M.b,{authorize:rt.edit,children:Object(A.jsx)(L.a.Item,{as:v.b,to:{pathname:"/clinica/medicos/".concat(t.id,"/editar"),state:{medico:t}},children:Object(A.jsx)("span",{className:"align-middle",children:"Editar"})})}),Object(A.jsx)(M.b,{authorize:rt.baja,children:Object(A.jsx)(L.a.Item,{className:"text-danger",href:"#",onClick:function(){c.mutate()},children:1==t.estado?"Baja":"Alta"})})]})]})},st=function(){var e,t,n,i=Object(r.h)().pathname,o=Object(a.useState)({current:1,size:10}),s=Object(d.a)(o,2),g=s[0],E=s[1],R=Object(f.d)(),S=function(){var e={};return(null===R||void 0===R?void 0:R.can(f.a.VER_MEDICOS))||(null===R||void 0===R?void 0:R.can(f.a.VER_MEDICOS_REGIONAL))&&(e.regionalId=R.regionalId),e},I=Object(a.useState)(S),N=Object(d.a)(I,2),C=N[0],_=N[1],y=Object(a.useState)(!1),L=Object(d.a)(y,2),T=L[0],w=L[1],D=["medicos.buscar",C,g],M=Object(m.a)(D,(function(){return Y(C,g)}),{enabled:rt.view(R),refetchOnWindowFocus:!1,refetchOnReconnect:!1}),G=(null===(e=M.data)||void 0===e||null===(t=e.data)||void 0===t||null===(n=t.meta)||void 0===n?void 0:n.total)||0;return Object(A.jsxs)("div",{className:"px-1",children:[Object(A.jsx)("h1",{style:{fontSize:"1.75rem"},children:"Medicos"}),Object(A.jsx)("div",{className:"d-flex my-2",children:Object(A.jsxs)(u.a.Row,{className:"ml-auto flex-nowrap",children:[Object(A.jsxs)(f.b,{authorize:rt.view,children:[Object(A.jsx)(b.a,{xs:"auto",children:Object(A.jsx)(O.a,{onClick:function(){M.refetch()},children:Object(A.jsx)(c.l,{})})}),Object(A.jsx)(b.a,{xs:"auto",children:Object(A.jsx)(O.a,{onClick:function(){w((function(e){return!e}))},children:Object(A.jsx)(c.g,{})})})]}),Object(A.jsx)(f.b,{authorize:rt.register,children:Object(A.jsx)(b.a,{xs:"auto",children:Object(A.jsxs)(O.a,{as:v.b,to:"".concat(i,"/registrar"),className:"d-flex align-items-center",children:[Object(A.jsx)(c.i,{className:"mr-1"}),Object(A.jsx)("span",{children:"Nuevo"})]})})})]})}),Object(A.jsxs)(f.b,{authorize:rt.view,children:[Object(A.jsx)(h.a,{in:T,children:Object(A.jsx)("div",{children:Object(A.jsx)(ct,{onFilter:function(e){_(Object(l.a)(Object(l.a)({},e),S())),E((function(e){return Object(l.a)(Object(l.a)({},e),{},{current:1})}))}})})}),Object(A.jsx)("div",{className:"d-flex",children:Object(A.jsx)("div",{className:"ml-auto mb-2",children:Object(A.jsxs)("div",{className:"d-flex flex-row flex-nowrap align-items-center",children:[Object(A.jsx)("span",{children:"Mostrar"}),Object(A.jsxs)(u.a.Control,{className:"mx-2",as:"select",value:g.size,onChange:function(e){var t=e.target.value;E((function(e){return Object(l.a)(Object(l.a)({},e),{},{size:parseInt(t)})}))},children:[Object(A.jsx)("option",{value:10,children:"10"}),Object(A.jsx)("option",{value:20,children:"20"}),Object(A.jsx)("option",{value:30,children:"30"}),Object(A.jsx)("option",{value:50,children:"50"}),Object(A.jsx)("option",{value:100,children:"100"})]}),Object(A.jsx)("span",{children:"filas"})]})})}),Object(A.jsxs)(x.a,{responsive:!0,children:[Object(A.jsx)("thead",{children:Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{style:{width:1},children:"#"}),Object(A.jsx)("th",{children:"C.I."}),Object(A.jsx)("th",{children:"Nombre"}),Object(A.jsx)("th",{children:"Especialidad"}),Object(A.jsx)("th",{children:"Estado"}),Object(A.jsx)("th",{style:{width:1}})]})}),Object(A.jsx)("tbody",{children:function(){if(M.isFetching)return Object(A.jsx)("tr",{children:Object(A.jsxs)("td",{className:"bg-light text-center",colSpan:100,children:[Object(A.jsx)(j.a,{className:"mr-2",variant:"primary",animation:"border",size:"sm"}),"Cargando"]})});if(M.isError){var e,t,n=M.error;return Object(A.jsx)("tr",{children:Object(A.jsx)("td",{className:"bg-danger text-light text-center",colSpan:100,children:(null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||n.message})})}if(M.data){var a=M.data.data.records;return 0==a.length?Object(A.jsx)("tr",{children:Object(A.jsx)("td",{className:"bg-light text-center",colSpan:100,children:"No se encontraron resultados"})}):a.map((function(e,t){return Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{scope:"row",children:t+1}),Object(A.jsx)("td",{children:e.ciText}),Object(A.jsx)("td",{children:e.nombreCompleto}),Object(A.jsx)("td",{children:e.especialidad}),Object(A.jsx)("td",{children:e.estadoText}),Object(A.jsx)("td",{children:Object(A.jsx)(ot,{queryKey:D,medico:e})})]},e.id)}))}}()})]}),"success"===M.status?Object(A.jsxs)("div",{className:"d-flex flex-row",children:[Object(A.jsx)("span",{className:"mr-auto",children:"Se encontraron ".concat(G," resultados")}),Object(A.jsx)(p.e,{current:g.current,total:Math.ceil((G-g.size)/g.size)+1,onChange:function(e){return E((function(t){return Object(l.a)(Object(l.a)({},t),{},{current:e})}))}})]}):null]})]})},lt=function(){var e,t=Object(r.h)(),n=(t.pathname,t.state),i=Object(r.i)().id,c=(Object(f.d)(),Object(D.b)("queryLoader")),o=Object(m.a)(["cargar",i],(function(){return ee(parseInt(i))}),{enabled:!(null===n||void 0===n?void 0:n.medico),refetchOnWindowFocus:!1,refetchOnReconnect:!1,onSuccess:function(){c.close()},onError:function(e){c.open({state:"error",error:e})}}),s=(null===(e=o.data)||void 0===e?void 0:e.data)||(null===n||void 0===n?void 0:n.medico);return Object(a.useEffect)((function(){o.isFetching&&c.open({state:"loading"})}),[o.isFetching]),Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("h2",{style:{fontSize:"1.75rem"},children:"Medico"}),Object(A.jsx)(x.a,{children:Object(A.jsxs)("tbody",{children:[Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{style:{width:1},children:"Carnet de identidad"}),Object(A.jsxs)("td",{children:[": ",null===s||void 0===s?void 0:s.ciText]})]}),Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{style:{width:1},children:"Nombre"}),Object(A.jsxs)("td",{children:[": ",null===s||void 0===s?void 0:s.nombreCompleto]})]}),Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{style:{width:1},children:"Regional"}),Object(A.jsxs)("td",{children:[": ",null===s||void 0===s?void 0:s.regional]})]}),Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{style:{width:1},children:"Especialidad"}),Object(A.jsxs)("td",{children:[": ",null===s||void 0===s?void 0:s.especialidad]})]})]})})]})},dt=U.g().shape({tipo:U.f().label("tipo").oneOf([1,2]),ci:U.f().label("n\xfamero de carnet").typeError("El ${path} no es un numero valido"),ciComplemento:U.j().label("n\xfamero complemento").transform((function(e){return""===e?null:e})).trim().uppercase().nullable().notRequired().length(2).matches(/(?=.*[A-Z])(?=.*[0-9])/,"El complemento del carnet esta conformado por un numero y una letra. (No confundir con el expedido)"),apellidoPaterno:U.j().label("apellido paterno").trim().when("apellidoMaterno",{is:function(e){return!e},then:U.j().required("Debe proporcionar al menos un apellido"),otherwise:U.j().nullable().notRequired()}),apellidoMaterno:U.j().label("apellido materno").trim().emptyStringToNull().when("apellidoPaterno",{is:function(e){return!e},then:U.j().required("Debe proporcionar al menos un apellido"),otherwise:U.j().emptyStringToNull().notRequired()}),nombres:U.j().label("nombres").trim().required(),especialidad:U.b().length(1,"Debe indicar una especialidad"),regional:U.b().length(1,"Debe indicar una regional")},[["apellidoMaterno","apellidoPaterno"]]),jt=function(){var e,t,n,i,c,o,s,h,x,v,g=Object(r.i)().id,E=Object(r.g)(),R=Object(D.b)("queryLoader"),S=Object(f.d)(),I=Object(a.useState)([]),N=Object(d.a)(I,2),C=N[0],y=N[1],L=Object(a.useState)([]),M=Object(d.a)(L,2),G=M[0],P=M[1],V=Object(a.useRef)(!1),z=Object(_.h)({mode:"onBlur",resolver:Object(B.a)(dt),defaultValues:{especialidad:[],regional:[]}}),F=z.handleSubmit,U=z.register,q=z.clearErrors,Q=z.setError,X=z.setValue,H=z.reset,K=z.watch,W=z.control,J=z.formState;console.log("Errors",K());var $=Object(T.b)(),Z=Object(w.a)((function(e){return g?ne(parseInt(g),parseInt(e.tipo),{raiz:parseInt(e.ci),complemento:e.ciComplemento},e.apellidoPaterno,e.apellidoMaterno,e.nombres,e.especialidad[0].id,e.regional[0].id):te(parseInt(e.tipo),{raiz:parseInt(e.ci),complemento:e.ciComplemento},e.apellidoPaterno,e.apellidoMaterno,e.nombres,e.especialidad[0].id,e.regional[0].id)}),{onSuccess:function(){H(),$.invalidateQueries("medicos.buscar"),V.current||E.replace("/clinica/medicos",{ignoreAuthorization:!0})},onError:function(e){var t;if(422==(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)){var n,a=(null===(n=e.response)||void 0===n?void 0:n.data).errors;Object.keys(a).forEach((function(e){Q(e,{type:"serverError",message:a[e]})}))}}}),Y=Object(m.a)(["medicos.cargar",g],(function(){return ee(parseInt(g))}),{enabled:!!g&&!(null===(e=E.location.state)||void 0===e?void 0:e.medico),refetchOnMount:!1,refetchOnWindowFocus:!1,refetchOnReconnect:!1,onSuccess:function(){R.close()},onError:function(e){R.open({state:"error",error:e})}}),ae=(null===(t=Y.data)||void 0===t?void 0:t.data)||(null===(n=E.location.state)||void 0===n?void 0:n.medico);return Object(a.useEffect)((function(){ae&&(X("tipo",String(ae.tipo)),X("ci",String(ae.ci.raiz)),X("ciComplemento",ae.ci.complemento),X("apellidoPaterno",ae.apellidoPaterno),X("apellidoMaterno",ae.apellidoMaterno),X("nombres",ae.nombres))}),[ae]),Object(a.useEffect)((function(){Y.isFetching&&R.open({state:"loading"})}),[Y.isFetching]),Object(a.useEffect)((function(){ae&&C.length&&X("regional",C.filter((function(e){return e.id==ae.regionalId})))}),[ae,C]),Object(a.useEffect)((function(){ae&&G.length&&X("especialidad",G.filter((function(e){return e.id==ae.especialidadId})))}),[ae,G]),Object(A.jsxs)(u.a,{id:"medico-form",onSubmit:F((function(e){Z.mutate(e)})),children:[Object(A.jsx)("h1",{style:{fontSize:"2rem"},children:g?"Actualizar":"Registrar Medico"}),"error"==Z.status||"success"==Z.status?Object(A.jsx)(k.a,{variant:Z.isError?"danger":"success",children:Z.isError?(null===(i=Z.error.response)||void 0===i||null===(c=i.data)||void 0===c?void 0:c.message)||Z.error.message:"Guardado"}):null,Object(A.jsx)(u.a.Row,{children:Object(A.jsxs)(u.a.Group,{as:b.a,children:[Object(A.jsx)(u.a.Label,{children:"Tipo"}),Object(A.jsxs)("div",{children:[Object(A.jsx)(u.a.Check,Object(l.a)({inline:!0,type:"radio",value:"1",label:"Empleado"},U("tipo"))),Object(A.jsx)(u.a.Check,Object(l.a)({inline:!0,type:"radio",value:"2",label:"Proveedor"},U("tipo")))]})]})}),Object(A.jsxs)(u.a.Row,{children:[Object(A.jsxs)(u.a.Group,{as:b.a,md:4,xs:8,children:[Object(A.jsx)(u.a.Label,{children:"Carnet de identidad"}),Object(A.jsx)(u.a.Control,Object(l.a)({isInvalid:!!J.errors.ci},U("ci"))),Object(A.jsx)(u.a.Control.Feedback,{type:"invalid",children:null===(o=J.errors.ci)||void 0===o?void 0:o.message})]}),Object(A.jsxs)(u.a.Group,{as:b.a,md:2,xs:4,children:[Object(A.jsx)(u.a.Label,{children:"Complemento"}),Object(A.jsx)(u.a.Control,Object(l.a)({isInvalid:!!J.errors.ciComplemento},U("ciComplemento"))),Object(A.jsx)(u.a.Control.Feedback,{type:"invalid",children:null===(s=J.errors.ciComplemento)||void 0===s?void 0:s.message})]})]}),Object(A.jsxs)(u.a.Row,{children:[Object(A.jsxs)(u.a.Group,{as:b.a,md:4,children:[Object(A.jsx)(u.a.Label,{children:"Apellido Paterno"}),Object(A.jsx)(u.a.Control,Object(l.a)({isInvalid:!!J.errors.apellidoPaterno},U("apellidoPaterno"))),Object(A.jsx)(u.a.Control.Feedback,{type:"invalid",children:null===(h=J.errors.apellidoPaterno)||void 0===h?void 0:h.message})]}),Object(A.jsxs)(u.a.Group,{as:b.a,md:4,children:[Object(A.jsx)(u.a.Label,{children:"Apellido Materno"}),Object(A.jsx)(u.a.Control,Object(l.a)({isInvalid:!!J.errors.apellidoMaterno},U("apellidoMaterno"))),Object(A.jsx)(u.a.Control.Feedback,{type:"invalid",children:null===(x=J.errors.apellidoMaterno)||void 0===x?void 0:x.message})]}),Object(A.jsxs)(u.a.Group,{as:b.a,md:4,children:[Object(A.jsx)(u.a.Label,{children:"Nombres"}),Object(A.jsx)(u.a.Control,Object(l.a)({isInvalid:!!J.errors.nombres},U("nombres"))),Object(A.jsx)(u.a.Control.Feedback,{type:"invalid",children:null===(v=J.errors.nombres)||void 0===v?void 0:v.message})]})]}),Object(A.jsxs)(u.a.Row,{children:[Object(A.jsxs)(u.a.Group,{as:b.a,md:8,children:[Object(A.jsx)(u.a.Label,{children:"Especialidad"}),Object(A.jsx)(_.a,{name:"especialidad",control:W,render:function(e){var t,n=e.field,a=e.fieldState;return Object(A.jsx)(A.Fragment,{children:Object(A.jsx)(it,{id:"medicos-form/especialidades-typeahead",onLoad:function(e){return P(e)},feedback:null===(t=a.error)||void 0===t?void 0:t.message,isInvalid:!!a.error,selected:n.value,onChange:n.onChange,onBlur:n.onBlur})})}})]}),Object(A.jsxs)(u.a.Group,{as:b.a,md:4,children:[Object(A.jsx)(u.a.Label,{children:"Regional"}),Object(A.jsx)(_.a,{name:"regional",control:W,render:function(e){var t,n=e.field,a=e.fieldState;return Object(A.jsx)(A.Fragment,{children:Object(A.jsx)(p.i,{id:"medicos-form/regionales-typeahead",onLoad:function(e){return y(e)},filterBy:function(e){return(null===S||void 0===S?void 0:S.can(f.a.REGISTRAR_MEDICOS))||(null===S||void 0===S?void 0:S.regionalId)==e.id},feedback:null===(t=a.error)||void 0===t?void 0:t.message,className:a.error?"is-invalid":"",isInvalid:!!a.error,selected:n.value,onChange:n.onChange,onBlur:n.onBlur})})}})]})]}),Object(A.jsxs)("div",{className:"m-n1",children:[g?null:Object(A.jsxs)(O.a,{className:"m-1",type:"submit",onClick:function(){V.current=!0},children:[Z.isLoading&&V.current?Object(A.jsx)(j.a,{animation:"border",size:"sm"}):null,"Guardar y continuar"]}),Object(A.jsxs)(O.a,{className:"m-1",type:"submit",onClick:function(){V.current=!1},children:[Z.isLoading&&!V.current?Object(A.jsx)(j.a,{animation:"border",size:"sm"}):null,"Guardar"]}),Object(A.jsx)(O.a,{className:"m-1",variant:"secondary",type:"reset",onClick:function(){X("regional",[]),X("especialidad",[]),q()},children:"Limpiar"})]})]})},ut={index:function(e){return null===e||void 0===e?void 0:e.canAny([f.a.VER_PROVEEDORES,f.a.VER_PROVEEDORES_REGIONAL,f.a.REGISTRAR_PROVEEDORES,f.a.REGISTRAR_PROVEEDORES_REGIONAL])},register:function(e){return null===e||void 0===e?void 0:e.canAny([f.a.REGISTRAR_PROVEEDORES,f.a.REGISTRAR_PROVEEDORES_REGIONAL])},edit:function(e){return null===e||void 0===e?void 0:e.canAny([f.a.EDITAR_PROVEEDORES,f.a.EDITAR_PROVEEDORES_REGIONAL])},view:function(e){return null===e||void 0===e?void 0:e.canAny([f.a.VER_PROVEEDORES,f.a.VER_PROVEEDORES_REGIONAL])},baja:function(e){return null===e||void 0===e?void 0:e.canAny([])}},bt=function(e){var t=Object(_.h)({defaultValues:{prestaciones:[]}}),n=t.control,a=t.handleSubmit,r=t.register,i=t.reset;return Object(A.jsxs)(u.a,{onSubmit:a((function(t){var n={tipos:[]};t.tipos.medicos&&n.tipos.push(1),t.tipos.empresas&&n.tipos.push(2),n.tipos.length||delete n.tipos,t.nombre&&(n.nombre=t.nombre),t.prestaciones.length&&(n.prestacionesId=t.prestaciones.map((function(e){return e.id}))),console.log(n),e.onFilter(n)})),children:[Object(A.jsxs)(u.a.Row,{children:[Object(A.jsxs)(u.a.Group,{as:b.a,xs:"auto",children:[Object(A.jsx)(u.a.Label,{children:"Tipo"}),Object(A.jsxs)("div",{children:[Object(A.jsx)(u.a.Check,Object(l.a)({inline:!0,type:"checkbox",label:"M\xe9dicos"},r("tipos.medicos"))),Object(A.jsx)(u.a.Check,Object(l.a)({inline:!0,type:"checkbox",label:"Empresas"},r("tipos.empresas")))]})]}),Object(A.jsxs)(u.a.Group,{as:b.a,children:[Object(A.jsx)(u.a.Label,{children:"Nombre"}),Object(A.jsx)(u.a.Control,Object(l.a)({},r("nombre")))]})]}),Object(A.jsx)(u.a.Row,{children:Object(A.jsxs)(u.a.Group,{as:b.a,children:[Object(A.jsx)(u.a.Label,{children:"Prestaciones contratadas"}),Object(A.jsx)(_.a,{control:n,name:"prestaciones",render:function(e){var t=e.field,n=(t.ref,t.value),a=Object(J.a)(t,["ref","value"]);return Object(A.jsx)(_e,Object(l.a)({id:"proveedores-filter/prestaciones",multiple:!0,selected:n},a))}})]})}),Object(A.jsxs)(u.a.Row,{children:[Object(A.jsx)(b.a,{xs:"auto",children:Object(A.jsx)(O.a,{type:"submit",children:"Aplicar"})}),Object(A.jsx)(b.a,{xs:"auto",children:Object(A.jsx)(O.a,{variant:"secondary",onClick:function(){return i()},children:"Limpiar"})})]})]})},Ot=function(e){var t=e.proveedor;return Object(A.jsxs)(L.a,{style:{position:"initial"},children:[Object(A.jsx)(L.a.Toggle,{as:p.j,variant:"link",id:"dropdown-proveedores-".concat(t.id)}),Object(A.jsxs)(L.a.Menu,{children:[Object(A.jsx)(M.b,{authorize:ut.view,children:Object(A.jsx)(L.a.Item,{as:v.b,to:{pathname:"/clinica/proveedores/".concat(t.id),state:{proveedor:t}},children:Object(A.jsx)("span",{className:"align-middle",children:"Ver"})})}),Object(A.jsx)(M.b,{authorize:ut.edit,children:Object(A.jsx)(L.a.Item,{as:v.b,to:{pathname:"/clinica/proveedores/".concat(t.id,"/editar"),state:{proveedor:t}},children:Object(A.jsx)("span",{className:"align-middle",children:"Editar"})})})]})]})},ht=function(){var e,t,n,i=Object(r.h)().pathname,o=Object(a.useState)({current:1,size:10}),s=Object(d.a)(o,2),g=s[0],E=s[1],R=Object(f.d)(),S=function(){var e={};return(null===R||void 0===R?void 0:R.can(f.a.VER_PROVEEDORES))||(null===R||void 0===R?void 0:R.can(f.a.VER_PROVEEDORES_REGIONAL))&&(e.regionalId=R.regionalId),e},I=Object(a.useState)(S),N=Object(d.a)(I,2),C=N[0],_=N[1],y=Object(a.useState)(!1),L=Object(d.a)(y,2),T=L[0],w=L[1],D=["proveedores.buscar",C,g],M=Object(m.a)(D,(function(){return ce.buscar(C,g)}),{enabled:ut.view(R),refetchOnWindowFocus:!1,refetchOnReconnect:!1}),G=(null===(e=M.data)||void 0===e||null===(t=e.data)||void 0===t||null===(n=t.meta)||void 0===n?void 0:n.total)||0;return Object(A.jsxs)("div",{className:"px-1",children:[Object(A.jsx)("h1",{style:{fontSize:"1.75rem"},children:"Proveedores"}),Object(A.jsx)("div",{className:"d-flex my-2",children:Object(A.jsxs)(u.a.Row,{className:"ml-auto flex-nowrap",children:[Object(A.jsxs)(f.b,{authorize:ut.view,children:[Object(A.jsx)(b.a,{xs:"auto",children:Object(A.jsx)(O.a,{onClick:function(){M.refetch()},children:Object(A.jsx)(c.l,{})})}),Object(A.jsx)(b.a,{xs:"auto",children:Object(A.jsx)(O.a,{onClick:function(){w((function(e){return!e}))},children:Object(A.jsx)(c.g,{})})})]}),Object(A.jsx)(f.b,{authorize:ut.register,children:Object(A.jsx)(b.a,{xs:"auto",children:Object(A.jsxs)(O.a,{as:v.b,to:"".concat(i,"/registrar"),className:"d-flex align-items-center",children:[Object(A.jsx)(c.i,{className:"mr-1"}),Object(A.jsx)("span",{children:"Nuevo"})]})})})]})}),Object(A.jsxs)(f.b,{authorize:ut.view,children:[Object(A.jsx)("div",{className:"mb-2",children:Object(A.jsx)(h.a,{in:T,children:Object(A.jsx)("div",{children:Object(A.jsx)(bt,{onFilter:function(e){_(Object(l.a)(Object(l.a)({},S()),e)),E((function(e){return Object(l.a)(Object(l.a)({},e),{},{current:1})}))}})})})}),Object(A.jsx)("div",{className:"d-flex",children:Object(A.jsx)("div",{className:"ml-auto mb-2",children:Object(A.jsxs)("div",{className:"d-flex flex-row flex-nowrap align-items-center",children:[Object(A.jsx)("span",{children:"Mostrar"}),Object(A.jsxs)(u.a.Control,{className:"mx-2",as:"select",value:g.size,onChange:function(e){var t=e.target.value;E((function(e){return Object(l.a)(Object(l.a)({},e),{},{size:parseInt(t)})}))},children:[Object(A.jsx)("option",{value:10,children:"10"}),Object(A.jsx)("option",{value:20,children:"20"}),Object(A.jsx)("option",{value:30,children:"30"}),Object(A.jsx)("option",{value:50,children:"50"}),Object(A.jsx)("option",{value:100,children:"100"})]}),Object(A.jsx)("span",{children:"filas"})]})})}),Object(A.jsxs)(x.a,{responsive:!0,children:[Object(A.jsx)("thead",{className:"text-center",children:Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{style:{width:1},children:"#"}),Object(A.jsx)("th",{children:"Nombre"}),Object(A.jsx)("th",{style:{width:1},children:"Tipo"}),Object(A.jsx)("th",{style:{width:1}})]})}),Object(A.jsx)("tbody",{children:function(){if(M.isFetching)return Object(A.jsx)("tr",{children:Object(A.jsxs)("td",{className:"bg-light text-center",colSpan:100,children:[Object(A.jsx)(j.a,{className:"mr-2",variant:"primary",animation:"border",size:"sm"}),"Cargando"]})});if(M.isError){var e,t,n=M.error;return Object(A.jsx)("tr",{children:Object(A.jsx)("td",{className:"bg-danger text-light text-center",colSpan:100,children:(null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||n.message})})}if(M.data){var a=M.data.data.records;return 0==a.length?Object(A.jsx)("tr",{children:Object(A.jsx)("td",{className:"bg-light text-center",colSpan:100,children:"No se encontraron resultados"})}):a.map((function(e,t){return Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{scope:"row",style:{width:1,lineHeight:"26px"},children:t+1}),Object(A.jsx)("td",{style:{lineHeight:"26px"},children:e.nombre||e.nombreCompleto}),Object(A.jsx)("td",{style:{lineHeight:"26px"},children:e.tipo}),Object(A.jsx)("td",{children:Object(A.jsx)(Ot,{proveedor:e,queryKey:D})})]},e.id)}))}}()})]}),"success"===M.status?Object(A.jsxs)("div",{className:"d-flex flex-row",children:[Object(A.jsx)("span",{className:"mr-auto",children:"Se encontraron ".concat(G," resultados")}),Object(A.jsx)(p.e,{current:g.current,total:Math.ceil((G-g.size)/g.size)+1,onChange:function(e){return E((function(t){return Object(l.a)(Object(l.a)({},t),{},{current:e})}))}})]}):null]})]})},xt=n(697),mt=n(692),vt=n(617),pt=n(631),ft=n(615),gt=n(616),Et=n(58),Rt=n.n(Et),St={index:function(e){return null===e||void 0===e?void 0:e.canAny([f.a.VER_CONTRATOS_PROVEEDOR,f.a.VER_CONTRATOS_PROVEEDOR_REGIONAL,f.a.REGISTRAR_CONTRATOS_PROVEEDOR,f.a.REGISTRAR_CONTRATOS_PROVEEDOR_REGIONAL])},register:function(e){return null===e||void 0===e?void 0:e.canAny([f.a.REGISTRAR_CONTRATOS_PROVEEDOR,f.a.REGISTRAR_CONTRATOS_PROVEEDOR_REGIONAL])},consumir:function(e){return null===e||void 0===e?void 0:e.canAny([f.a.CONSUMIR_CONTRATOS_PROVEEDOR,f.a.CONSUMIR_CONTRATOS_PROVEEDOR_REGIONAL])},extender:function(e){return null===e||void 0===e?void 0:e.canAny([f.a.EXTENDER_CONTRATOS_PROVEEDOR,f.a.EXTENDER_CONTRATOS_PROVEEDOR_REGIONAL])},view:function(e){return null===e||void 0===e?void 0:e.canAny([f.a.VER_CONTRATOS_PROVEEDOR,f.a.VER_CONTRATOS_PROVEEDOR_REGIONAL])},anular:function(e){return null===e||void 0===e?void 0:e.canAny([f.a.ANULAR_CONTRATOS_PROVEEDOR,f.a.ANULAR_CONTRATOS_PROVEEDOR_REGIONAL])}},It=new(function(){function e(){Object(re.a)(this,e)}return Object(ie.a)(e,[{key:"buscar",value:function(e,t,n){return R.apiClient.get("proveedores/".concat(e,"/contratos"),{params:Object(S.d)({filter:t,page:n})})}},{key:"cargar",value:function(e,t){return R.apiClient.get("proveedores/".concat(e,"/contratos/").concat(t))}},{key:"registrar",value:function(e,t){return R.apiClient.post("proveedores/".concat(e,"/contratos"),Object(S.d)(t))}},{key:"consumir",value:function(e,t){return R.apiClient.put("proveedores/".concat(e,"/contratos/").concat(t,"/consumir"))}},{key:"extender",value:function(e,t){return R.apiClient.put("proveedores/".concat(e,"/contratos/").concat(t,"/extender"))}},{key:"anular",value:function(e,t){return R.apiClient.put("proveedores/".concat(e,"/contratos/").concat(t,"/anular"))}}]),e}()),Nt=function(e){var t=Object(_.h)(),n=t.handleSubmit,a=t.register,r=t.reset;return Object(A.jsxs)(u.a,{onSubmit:n((function(t){var n={};t.desde&&(n.desde=t.desde),t.hasta&&(n.hasta=t.hasta),e.onApply(n)})),children:[Object(A.jsxs)(u.a.Row,{children:[Object(A.jsxs)(u.a.Group,{as:b.a,sm:4,children:[Object(A.jsx)(u.a.Label,{children:"Desde"}),Object(A.jsx)(u.a.Control,Object(l.a)({type:"date"},a("desde")))]}),Object(A.jsxs)(u.a.Group,{as:b.a,sm:4,children:[Object(A.jsx)(u.a.Label,{children:"Hasta"}),Object(A.jsx)(u.a.Control,Object(l.a)({type:"date"},a("hasta")))]})]}),Object(A.jsxs)(u.a.Row,{children:[Object(A.jsx)(b.a,{xs:"auto",children:Object(A.jsx)(O.a,{type:"submit",children:"Aplicar"})}),Object(A.jsx)(b.a,{xs:"auto",children:Object(A.jsx)(O.a,{variant:"secondary",onClick:function(){return r()},children:"Limpiar"})})]})]})},Ct=function(e){var t=e.contrato,n=e.queryKey,a=Object(r.i)().id,i=Object(D.b)("queryLoader"),c=Object(T.b)(),o=Object(w.a)("contratos.extender",(function(){return It.extender(parseInt(a),t.id)}),{onSuccess:function(){c.invalidateQueries(n),i.close()},onError:function(e){i.open({state:"error",error:e})}}),s=Object(w.a)("contratos.consumir",(function(){return It.consumir(parseInt(a),t.id)}),{onSuccess:function(){c.invalidateQueries(n),i.close()},onError:function(e){i.open({state:"error",error:e})}}),l=Object(w.a)("contratos.anular",(function(){return It.anular(parseInt(a),t.id)}),{onSuccess:function(){c.invalidateQueries(n),i.close()},onError:function(e){i.open({state:"error",error:e})}});return Object(A.jsxs)(L.a,{style:{position:"initial"},children:[Object(A.jsx)(L.a.Toggle,{as:p.j,variant:"link",id:"dropdown-contratos-proveedor-".concat(t.id)}),Object(A.jsxs)(L.a.Menu,{children:[Object(A.jsx)(M.b,{authorize:St.view,children:Object(A.jsx)(L.a.Item,{as:v.b,to:{pathname:"/clinica/proveedores/".concat(a,"/contratos/").concat(t.id),state:{contrato:t}},children:Object(A.jsx)("span",{className:"align-middle",children:"Ver"})})}),Object(A.jsx)(M.b,{authorize:St.extender,children:Object(A.jsx)(L.a.Item,{onClick:function(){i.open({state:"loading"}),o.mutate()},children:Object(A.jsx)("span",{className:"align-middle",children:"Extender"})})}),Object(A.jsx)(M.b,{authorize:St.consumir,children:Object(A.jsx)(L.a.Item,{onClick:function(){i.open({state:"loading"}),s.mutate()},children:Object(A.jsx)("span",{className:"align-middle",children:"Consumir"})})}),Object(A.jsx)(M.b,{authorize:St.anular,children:Object(A.jsx)(L.a.Item,{onClick:function(){i.open({state:"loading"}),l.mutate()},children:Object(A.jsx)("span",{className:"align-middle",children:"Anular"})})})]})]})},_t=function(){var e,t,n,i=Object(r.i)().id,o=(Object(r.h)().pathname,Object(a.useState)({current:1,size:10})),s=Object(d.a)(o,2),g=s[0],E=s[1],R=Object(f.d)(),S=Object(a.useState)((function(){return{}})),I=Object(d.a)(S,2),N=I[0],C=I[1],_=Object(a.useState)(!1),y=Object(d.a)(_,2),L=y[0],T=y[1],w=["contratos.buscar",i,N,g],D=Object(m.a)(w,(function(){return It.buscar(parseInt(i),N,g)}),{enabled:St.view(R),refetchOnWindowFocus:!1,refetchOnReconnect:!1}),M=(null===(e=D.data)||void 0===e||null===(t=e.data)||void 0===t||null===(n=t.meta)||void 0===n?void 0:n.total)||0;return Object(A.jsxs)("div",{className:"px-1",children:[Object(A.jsx)("div",{className:"d-flex my-2",children:Object(A.jsxs)(u.a.Row,{className:"ml-auto flex-nowrap",children:[Object(A.jsxs)(f.b,{authorize:St.view,children:[Object(A.jsx)(b.a,{className:"pr-0",xs:"auto",children:Object(A.jsx)(O.a,{onClick:function(){D.refetch()},children:Object(A.jsx)(c.l,{})})}),Object(A.jsx)(b.a,{className:"pr-0",xs:"auto",children:Object(A.jsx)(O.a,{onClick:function(){T((function(e){return!e}))},children:Object(A.jsx)(c.g,{})})})]}),Object(A.jsx)(f.b,{authorize:St.register,children:Object(A.jsx)(b.a,{xs:"auto",children:Object(A.jsxs)(O.a,{as:v.b,to:"/clinica/proveedores/".concat(i,"/contratos/registrar"),className:"d-flex align-items-center",children:[Object(A.jsx)(c.i,{className:"mr-2"}),Object(A.jsx)("span",{children:"Nuevo"})]})})})]})}),Object(A.jsxs)(f.b,{authorize:St.view,children:[Object(A.jsx)(h.a,{in:L,children:Object(A.jsx)("div",{children:Object(A.jsx)(Nt,{onApply:function(e){C(e),E((function(e){return Object(l.a)(Object(l.a)({},e),{},{current:1})}))}})})}),Object(A.jsx)("div",{className:"d-flex",children:Object(A.jsx)("div",{className:"ml-auto mb-2",children:Object(A.jsxs)("div",{className:"d-flex flex-row flex-nowrap align-items-center",children:[Object(A.jsx)("span",{children:"Mostrar"}),Object(A.jsxs)(u.a.Control,{className:"mx-2",as:"select",value:g.size,onChange:function(e){var t=e.target.value;E((function(e){return Object(l.a)(Object(l.a)({},e),{},{size:parseInt(t)})}))},children:[Object(A.jsx)("option",{value:10,children:"10"}),Object(A.jsx)("option",{value:20,children:"20"}),Object(A.jsx)("option",{value:30,children:"30"}),Object(A.jsx)("option",{value:50,children:"50"}),Object(A.jsx)("option",{value:100,children:"100"})]}),Object(A.jsx)("span",{children:"filas"})]})})}),Object(A.jsxs)(x.a,{responsive:!0,children:[Object(A.jsx)("thead",{children:Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{style:{width:1},children:"#"}),Object(A.jsx)("th",{children:"Inicio"}),Object(A.jsx)("th",{children:"Fin"}),Object(A.jsx)("th",{children:"Extensi\xf3n"}),Object(A.jsx)("th",{children:"Estado"}),Object(A.jsx)("th",{style:{width:1}})]})}),Object(A.jsx)("tbody",{children:function(){if(D.isFetching)return Object(A.jsx)("tr",{children:Object(A.jsxs)("td",{className:"bg-light text-center",colSpan:100,children:[Object(A.jsx)(j.a,{className:"mr-2",variant:"primary",animation:"border",size:"sm"}),"Cargando"]})});if(D.isError){var e,t,n=D.error;return Object(A.jsx)("tr",{children:Object(A.jsx)("td",{className:"bg-danger text-light text-center",colSpan:100,children:(null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||n.message})})}if(D.data){var a=D.data.data.records;return 0==a.length?Object(A.jsx)("tr",{children:Object(A.jsx)("td",{className:"bg-light text-center",colSpan:100,children:"No se encontraron resultados"})}):a.map((function(e,t){return Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{scope:"row",children:t+1}),Object(A.jsx)("td",{children:e.inicio}),Object(A.jsx)("td",{children:e.fin||"Indefinido"}),Object(A.jsx)("td",{children:e.extension}),Object(A.jsx)("td",{children:e.estadoText}),Object(A.jsx)("td",{children:Object(A.jsx)(Ct,{contrato:e,queryKey:w})})]},e.id)}))}}()})]}),"success"===D.status?Object(A.jsxs)("div",{className:"d-flex flex-row",children:[Object(A.jsx)("span",{className:"mr-auto",children:"Se encontraron ".concat(M," resultados")}),Object(A.jsx)(p.e,{current:g.current,total:Math.ceil((M-g.size)/g.size)+1,onChange:function(e){return E((function(t){return Object(l.a)(Object(l.a)({},t),{},{current:e})}))}})]}):null]})]})},At=function(){var e,t,n=Object(r.i)(),i=n.idProveedor,c=n.id,o=Object(D.b)("queryLoader"),s=Object(m.a)(["contratos.cargar",i,c],(function(){return It.cargar(parseInt(i),parseInt(c))}),{refetchOnWindowFocus:!1,refetchOnReconnect:!1,onSuccess:function(){o.close()},onError:function(e){o.open({state:"error",error:e})}}),l=null===(e=s.data)||void 0===e?void 0:e.data;return Object(a.useEffect)((function(){s.isFetching&&o.open({state:"loading"})}),[s.isFetching]),Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("h2",{style:{fontSize:"1.75rem"},children:"Contrato"}),Object(A.jsx)(x.a,{responsive:!0,children:Object(A.jsxs)("tbody",{children:[Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{scope:"row",style:{width:1},children:"Inicio"}),Object(A.jsx)("td",{children:null===l||void 0===l?void 0:l.inicio})]}),Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{scope:"row",style:{width:1},children:"Fin"}),Object(A.jsx)("td",{children:l&&(l.fin||"Indefinido")})]}),Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{scope:"row",style:{width:1},children:"Extensi\xf3n"}),Object(A.jsx)("td",{children:l&&(l.extension||"Sin extension")})]}),Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{scope:"row",style:{width:1},children:"Estado"}),Object(A.jsx)("td",{children:null===l||void 0===l?void 0:l.estadoText})]}),Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{scope:"row",style:{width:1},children:"Prestaciones"}),Object(A.jsx)("td",{children:Object(A.jsx)("ul",{children:null===l||void 0===l||null===(t=l.prestaciones)||void 0===t?void 0:t.map((function(e){return Object(A.jsx)("li",{children:e.nombre})}))})})]})]})})]})},yt=n(651),Lt=function(){var e,t=Object(_.i)(),n=(t.register,t.control),a=(t.trigger,t.formState.errors),r=t.watch,i=Object(_.g)({name:"prestaciones",control:n}),o=i.fields,s=i.append,l=i.remove;return Object(A.jsxs)("div",{children:[Object(A.jsx)("h2",{style:{fontSize:"1.25rem"},children:"Prestaciones contratadas"}),Object(A.jsx)(u.a.Row,{children:Object(A.jsx)(u.a.Group,{as:b.a,xs:12,children:Object(A.jsx)(_e,{id:"proveedor-contrato/prestaciones",filterBy:function(e){return!r("prestaciones").some((function(t){var n;return(null===(n=t.prestacion)||void 0===n?void 0:n.id)==e.id}))},selected:[],onChange:function(e){e.length&&s({prestacion:e[0]})}})})}),Object(A.jsxs)("div",{className:"mb-3",style:{maxHeight:240,overflowY:"auto"},children:[Object(A.jsx)(yt.a,{className:a.prestaciones?"is-invalid":"",children:o.map((function(e,t){return Object(A.jsx)(yt.a.Item,{className:"py-1 px-2",children:Object(A.jsxs)(u.a.Row,{children:[Object(A.jsx)(b.a,{className:"d-flex align-items-center",children:e.prestacion.nombre}),Object(A.jsx)(b.a,{className:"d-flex align-items-center",xs:"auto",children:Object(A.jsx)(O.a,{variant:"danger",onClick:function(){return l(t)},children:Object(A.jsx)(c.n,{})})})]})},e.id)}))}),Object(A.jsx)(u.a.Control.Feedback,{type:"invalid",children:null===(e=a.prestaciones)||void 0===e?void 0:e.message})]})]})},Tt=U.g().shape({inicio:U.c().label("fecha de inicio").emptyStringTo().typeError("No es una fecha valida").required(),fin:U.c().label("fecha de finalizacion").emptyStringTo(null).typeError("No es una fecha valida").min(U.h("inicio"),"La fecha de finalizacion debe ser mayor a la fecha de inicio").nullable().notRequired(),prestaciones:U.b().of(U.g().shape({prestacion:U.g().required()})).min(1,"Debe seleccionar al menos una prestaci\xf3n")}),wt=function(e){var t,n,a,i,c=e.onSubmit,o=Object(r.i)().idProveedor,s=Object(r.g)(),d=(Object(f.d)(),Object(_.h)({mode:"onBlur",resolver:Object(B.a)(Tt),defaultValues:{prestaciones:[]}})),h=d.handleSubmit,x=d.register,m=d.formState,v=(d.control,d.watch,m.errors);console.log("Errors",v);var p=Object(T.b)(),g=Object(w.a)((function(e){var t;return It.registrar(parseInt(o),{inicio:e.inicio.toISOString().split("T")[0],fin:null===(t=e.fin)||void 0===t?void 0:t.toISOString().split("T")[0],prestacionIds:e.prestaciones.map((function(e){return e.prestacion.id}))})}),{onSuccess:function(e){e.data;p.invalidateQueries("contratos.buscar"),s.replace("/clinica/proveedores/".concat(parseInt(o)),{tab:"contratos"})}});return Object(A.jsx)(_.b,Object(l.a)(Object(l.a)({},d),{},{children:Object(A.jsxs)(u.a,{id:"proveedor-contrato-form",onSubmit:h(c||function(e){console.log("Values",e),g.mutate(e)}),children:[Object(A.jsx)("h1",{style:{fontSize:"1.75rem"},children:"Contrato"}),"error"==g.status||"success"==g.status?Object(A.jsx)(k.a,{variant:g.isError?"danger":"success",children:g.isError?(null===(t=g.error.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||g.error.message:"Guardado"}):null,Object(A.jsxs)(u.a.Row,{children:[Object(A.jsxs)(u.a.Group,{as:b.a,sm:6,children:[Object(A.jsx)(u.a.Label,{children:"Inicio"}),Object(A.jsx)(u.a.Control,Object(l.a)({type:"date",isInvalid:!!m.errors.inicio},x("inicio"))),Object(A.jsx)(u.a.Control.Feedback,{type:"invalid",children:null===(a=m.errors.inicio)||void 0===a?void 0:a.message})]}),Object(A.jsxs)(u.a.Group,{as:b.a,sm:6,children:[Object(A.jsx)(u.a.Label,{children:"Fin"}),Object(A.jsx)(u.a.Control,Object(l.a)({type:"date",isInvalid:!!m.errors.fin},x("fin"))),Object(A.jsx)(u.a.Control.Feedback,{type:"invalid",children:null===(i=m.errors.fin)||void 0===i?void 0:i.message})]})]}),Object(A.jsx)(u.a.Row,{children:Object(A.jsx)(b.a,{children:Object(A.jsx)(Lt,{})})}),c?null:Object(A.jsxs)(O.a,{type:"submit",children:[g.isLoading?Object(A.jsx)(j.a,{className:"mr-1",animation:"border",size:"sm"}):null,Object(A.jsx)("span",{className:"align-middle",children:"Guardar"})]})]})}))},Dt=n(300),Mt=n(301),Gt=Rt.a.icon({iconUrl:Dt.a,shadowUrl:Mt.a,iconSize:[25,41],iconAnchor:[12,41]});Rt.a.Marker.prototype.options.icon=Gt;var Pt=function(){var e,t=Object(r.h)(),n=(t.pathname,t.state),i=Object(r.i)().id,c=(Object(f.d)(),Object(D.b)("queryLoader")),o=Object(m.a)(["cargar",i],(function(){return ce.cargar(parseInt(i))}),{enabled:!(null===n||void 0===n?void 0:n.proveedor),refetchOnWindowFocus:!1,refetchOnReconnect:!1,onSuccess:function(){c.close()},onError:function(e){c.open({state:"error",error:e})}}),s=(null===(e=o.data)||void 0===e?void 0:e.data)||(null===n||void 0===n?void 0:n.proveedor);Object(a.useEffect)((function(){o.isFetching&&c.open({state:"loading"})}),[o.isFetching]);return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("h2",{style:{fontSize:"1.75rem"},children:"Proveedor"}),Object(A.jsxs)("div",{id:"general-info",children:[function(){var e,t;return Object(A.jsxs)("dl",{className:"form-row",children:[Object(A.jsx)("dt",{className:"col-sm-3 col-md-2",children:"Tipo"}),Object(A.jsx)("dd",{className:"col-sm-9 col-md-10",children:1==(null===s||void 0===s?void 0:s.tipoId)?"M\xe9dico":2==(null===s||void 0===s?void 0:s.tipoId)?"Empresa":null}),Object(A.jsx)("dt",{className:"col-sm-3 col-md-2",style:{width:"1px"},children:"NIT"}),Object(A.jsx)("dd",{className:"col-sm-9 col-md-10",children:null===s||void 0===s?void 0:s.nit}),1==(null===s||void 0===s?void 0:s.tipoId)?Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("dt",{className:"col-sm-3 col-md-2",style:{width:1},children:"Carnet de identidad"}),Object(A.jsx)("dd",{className:"col-sm-9 col-md-10",children:null===s||void 0===s?void 0:s.ciText}),Object(A.jsx)("dt",{className:"col-sm-3 col-md-2",style:{width:1},children:"Nombre"}),Object(A.jsx)("dd",{className:"col-sm-9",children:null===s||void 0===s?void 0:s.nombreCompleto}),Object(A.jsx)("dt",{className:"col-sm-3 col-md-2",children:"Especialidad"}),Object(A.jsx)("dd",{className:"col-sm-9 col-md-10",children:null===s||void 0===s||null===(e=s.especialidad)||void 0===e?void 0:e.nombre})]}):2==(null===s||void 0===s?void 0:s.tipoId)?Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("dt",{className:"col-sm-3 col-md-2",style:{width:1},children:"Nombre"}),Object(A.jsx)("dd",{className:"col-sm-9 col-md-10",children:null===s||void 0===s?void 0:s.nombre})]}):null,Object(A.jsx)("dt",{className:"col-sm-3 col-md-2",children:"Regional"}),Object(A.jsx)("dd",{className:"col-sm-9 col-md-10",children:null===s||void 0===s||null===(t=s.regional)||void 0===t?void 0:t.nombre})]})}(),s?Object(A.jsx)(u.a.Row,{children:Object(A.jsx)(f.b,{authorize:ut.edit,children:Object(A.jsx)(b.a,{xs:"auto",children:Object(A.jsx)(O.a,{as:v.b,to:{pathname:"/clinica/proveedores/".concat(s.id,"/editar"),state:{proveedor:s}},children:"Editar"})})})}):null]}),Object(A.jsxs)(xt.a,{className:"my-2",defaultActiveKey:null===n||void 0===n?void 0:n.tab,children:[Object(A.jsxs)(mt.a,{eventKey:"informacion-contacto",title:"Informacion de Contacto",children:[function(){var e,t,n,a,r,i;if(!s)return null;var c=s.ubicacion&&[s.ubicacion.latitud,s.ubicacion.longitud];return Object(A.jsxs)(Pe.a,{className:"px-2 py-3",children:[Object(A.jsx)(b.a,{sm:6,children:Object(A.jsxs)("dl",{className:"form-row",children:[Object(A.jsx)("dt",{className:"col-lg-5 col-xl-4",children:"Departamento"}),Object(A.jsx)("dd",{className:"col-lg-7 col-xl-8",children:(null===(e=s.municipio)||void 0===e||null===(t=e.provincia)||void 0===t||null===(n=t.departamento)||void 0===n?void 0:n.nombre)||"No proporcionado"}),Object(A.jsx)("dt",{className:"col-lg-5 col-xl-4",children:"Provincia"}),Object(A.jsx)("dd",{className:"col-lg-7 col-xl-8",children:(null===(a=s.municipio)||void 0===a||null===(r=a.provincia)||void 0===r?void 0:r.nombre)||"No proporcionado"}),Object(A.jsx)("dt",{className:"col-lg-5 col-xl-4",children:"Municipio"}),Object(A.jsx)("dd",{className:"col-lg-7 col-xl-8",children:(null===(i=s.municipio)||void 0===i?void 0:i.nombre)||"No proporcionado"}),Object(A.jsx)("dt",{className:"col-lg-5 col-xl-4",children:"Direcci\xf3n"}),Object(A.jsx)("dd",{className:"col-lg-7 col-xl-8",children:s.direccion||"No proporcionado"}),Object(A.jsx)("dt",{className:"col-lg-5 col-xl-4",children:"Tel\xe9fono 1"}),Object(A.jsx)("dd",{className:"col-lg-7 col-xl-8",children:s.telefono1||"No proporcionado"}),Object(A.jsx)("dt",{className:"col-lg-5 col-xl-4",children:"Tel\xe9fono 2"}),Object(A.jsx)("dd",{className:"col-lg-7 col-xl-8",children:s.telefono2||"No proporcionado"})]})}),Object(A.jsx)(b.a,{sm:6,children:Object(A.jsxs)(vt.a,{center:c,zoom:14,dragging:!1,scrollWheelZoom:!1,doubleClickZoom:!1,style:{minHeight:200,height:"100%"},children:[Object(A.jsx)(pt.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),c?Object(A.jsx)(ft.a,{position:c,children:Object(A.jsx)(gt.a,{children:Object(A.jsx)("a",{href:"geo:".concat(c.join(",")),children:"Abrir con"})})}):null]})})]})}(),s?Object(A.jsx)(u.a.Row,{children:Object(A.jsx)(f.b,{authorize:ut.edit,children:Object(A.jsx)(b.a,{xs:"auto",children:Object(A.jsx)(O.a,{as:v.b,to:{pathname:"/clinica/proveedores/".concat(s.id,"/editar-contacto"),state:{proveedor:s}},children:"Editar"})})})}):null]}),Object(A.jsx)(mt.a,{eventKey:"contratos",title:"Contratos",children:Object(A.jsx)(_t,{})})]})]})},Vt=n(653),zt=n.n(Vt),kt=U.g().shape({nit:U.f().label("NIT").emptyStringTo().typeError("El ${path} no es un numero valido").required(),nombre:U.j().required().max(150),regional:U.b().length(1,"Debe indicar una regional")}),Ft=function(e){var t,n,i=e.proveedor,c=e.onSubmit,o=Object(r.i)().id,s=Object(r.g)(),h=Object(f.d)(),x=Object(_.h)({mode:"onBlur",resolver:Object(B.a)(kt),defaultValues:{tipo:2,nit:null===i||void 0===i?void 0:i.nit,nombre:null===i||void 0===i?void 0:i.nombre,regional:[]}}),m=x.control,v=x.formState,g=x.handleSubmit,E=x.setValue,R=x.register,S=v.errors,I=Object(a.useState)([]),N=Object(d.a)(I,2),C=N[0],y=N[1],L=Object(T.b)(),D=Object(w.a)((function(e){return ce.actualizar(parseInt(o),{tipoId:e.tipo,nit:e.nit,nombre:e.nombre,regionalId:e.regional[0].id})}),{onSuccess:function(e){var t=e.data;L.invalidateQueries("proveedor.buscar"),s.replace("/clinica/proveedores/".concat(t.id))}});return Object(a.useEffect)((function(){i&&C.length&&E("regional",C.filter((function(e){return e.id==i.regionalId})))}),[i,C]),Object(A.jsxs)(u.a,{id:"proveedor-form",onSubmit:g(c||function(e){D.mutate(e)}),children:[Object(A.jsxs)(u.a.Row,{children:[Object(A.jsxs)(u.a.Group,{as:b.a,sm:4,children:[Object(A.jsx)(u.a.Label,{children:"NIT"}),Object(A.jsx)(u.a.Control,Object(l.a)({isInvalid:!!S.nit},R("nit"))),Object(A.jsx)(u.a.Control.Feedback,{type:"invalid",children:null===(t=S.nit)||void 0===t?void 0:t.message})]}),Object(A.jsxs)(u.a.Group,{as:b.a,sm:8,children:[Object(A.jsx)(u.a.Label,{children:"Nombre"}),Object(A.jsx)(u.a.Control,Object(l.a)({isInvalid:!!S.nombre},R("nombre"))),Object(A.jsx)(u.a.Control.Feedback,{type:"invalid",children:null===(n=S.nombre)||void 0===n?void 0:n.message})]}),Object(A.jsxs)(u.a.Group,{as:b.a,md:4,children:[Object(A.jsx)(u.a.Label,{children:"Regional"}),Object(A.jsx)(_.a,{name:"regional",control:m,render:function(e){var t,n=e.field,a=e.fieldState;return Object(A.jsx)(A.Fragment,{children:Object(A.jsx)(p.i,{id:"proveedor-form/regionales-typeahead",onLoad:function(e){return y(e)},filterBy:function(e){return!!(null===h||void 0===h?void 0:h.can(f.a.REGISTRAR_PROVEEDORES))||(!(!(null===h||void 0===h?void 0:h.can(f.a.REGISTRAR_PROVEEDORES_REGIONAL))||(null===h||void 0===h?void 0:h.regionalId)!=e.id)||(!(!o||!(null===h||void 0===h?void 0:h.can(f.a.EDITAR_PROVEEDORES)))||!(!o||!(null===h||void 0===h?void 0:h.can(f.a.EDITAR_PROVEEDORES_REGIONAL))||(null===h||void 0===h?void 0:h.regionalId)!=e.id)))},feedback:null===(t=a.error)||void 0===t?void 0:t.message,isInvalid:!!a.error,selected:n.value,onChange:n.onChange,onBlur:n.onBlur})})}})]})]}),c?null:Object(A.jsxs)(O.a,{type:"submit",children:[D.isLoading?Object(A.jsx)(j.a,{animation:"border",size:"sm"}):null,"Guardar"]})]})},Bt=U.g().shape({nit:U.f().label("NIT").emptyStringToNull().typeError("El ${path} no es un numero valido").nullable().notRequired(),ci:U.f().label("n\xfamero de carnet").emptyStringToNull().typeError("El ${path} no es un numero valido").nullable().required(),ciComplemento:U.j().transform((function(e){return""===e?null:e})).trim().uppercase().nullable().notRequired().length(2).matches(/[0-1A-Z]/),apellidoPaterno:U.j().label("apellido paterno").trim().when("apellidoMaterno",{is:function(e){return!e},then:U.j().required("Debe proporcionar al menos un apellido").max(50)}),apellidoMaterno:U.j().label("apellido materno").trim().when("apellidoPaterno",{is:function(e){return!e},then:U.j().required("Debe proporcionar al menos un apellido").max(50)}),nombres:U.j().label("nombres").trim().required().label("'Nombres'").max(50),especialidad:U.b().length(1,"Debe indicar una especialidad"),regional:U.b().length(1,"Debe indicar una regional")},[["apellidoMaterno","apellidoPaterno"]]),Ut=function(e){var t,n,i,c,o,s,h,x,m=e.proveedor,v=e.onSubmit,g=Object(r.i)().id,E=Object(r.g)(),R=Object(f.d)(),S=Object(a.useState)([]),I=Object(d.a)(S,2),N=I[0],C=I[1],y=Object(a.useState)([]),L=Object(d.a)(y,2),D=L[0],M=L[1],G=Object(_.h)({mode:"onBlur",resolver:Object(B.a)(Bt),defaultValues:{tipo:1,nit:null===m||void 0===m?void 0:m.nit,ci:null===m||void 0===m?void 0:m.ci,ciComplemento:null===m||void 0===m?void 0:m.ciComplemento,apellidoPaterno:(null===m||void 0===m?void 0:m.apellidoPaterno)||"",apellidoMaterno:(null===m||void 0===m?void 0:m.apellidoMaterno)||"",nombres:(null===m||void 0===m?void 0:m.nombres)||"",especialidad:[],regional:[]}}),P=G.handleSubmit,V=G.register,z=G.setValue,F=G.control,U=G.formState,q=G.watch,Q=U.errors,X=Object(T.b)(),H=Object(w.a)((function(e){return ce.actualizar(parseInt(g),{tipoId:1,nit:e.nit,ci:e.ci,ciComplemento:e.ciComplemento,apellidoPaterno:e.apellidoPaterno,apellidoMaterno:e.apellidoMaterno,nombres:e.nombres,especialidadId:e.especialidad[0].id,regionalId:e.regional[0].id})}),{onSuccess:function(e){var t=e.data;X.invalidateQueries("proveedor.buscar"),E.replace("/clinica/proveedores/".concat(t.id))}});return Object(a.useEffect)((function(){m&&N.length&&z("especialidad",N.filter((function(e){return e.id==m.especialidadId})))}),[m,N]),Object(a.useEffect)((function(){m&&D.length&&z("regional",D.filter((function(e){return e.id==m.regionalId})))}),[m,D]),console.log("Errors",Q,q()),Object(A.jsx)(A.Fragment,{children:Object(A.jsxs)(u.a,{id:"proveedor-form",onSubmit:P(v||function(e){H.mutate(e)}),children:["error"==H.status||"success"==H.status?Object(A.jsx)(k.a,{variant:H.isError?"danger":"success",children:H.isError?(null===(t=H.error.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||H.error.message:"Guardado"}):null,Object(A.jsxs)(u.a.Row,{children:[Object(A.jsxs)(u.a.Group,{as:b.a,md:4,xs:8,children:[Object(A.jsx)(u.a.Label,{children:"NIT"}),Object(A.jsx)(u.a.Control,Object(l.a)({isInvalid:!!Q.nit},V("nit"))),Object(A.jsx)(u.a.Control.Feedback,{type:"invalid",children:null===(i=Q.nit)||void 0===i?void 0:i.message})]}),Object(A.jsxs)(u.a.Group,{as:b.a,md:4,xs:8,children:[Object(A.jsx)(u.a.Label,{children:"Carnet de identidad"}),Object(A.jsx)(u.a.Control,Object(l.a)({isInvalid:!!Q.ci},V("ci"))),Object(A.jsx)(u.a.Control.Feedback,{type:"invalid",children:null===(c=Q.ci)||void 0===c?void 0:c.message})]}),Object(A.jsxs)(u.a.Group,{as:b.a,md:2,xs:4,children:[Object(A.jsx)(u.a.Label,{children:"Complemento"}),Object(A.jsx)(u.a.Control,Object(l.a)({isInvalid:!!Q.ciComplemento},V("ciComplemento"))),Object(A.jsx)(u.a.Control.Feedback,{type:"invalid",children:null===(o=Q.ciComplemento)||void 0===o?void 0:o.message})]})]}),Object(A.jsxs)(u.a.Row,{children:[Object(A.jsxs)(u.a.Group,{as:b.a,md:4,children:[Object(A.jsx)(u.a.Label,{children:"Apellido Paterno"}),Object(A.jsx)(u.a.Control,Object(l.a)({isInvalid:!!Q.apellidoPaterno},V("apellidoPaterno"))),Object(A.jsx)(u.a.Control.Feedback,{type:"invalid",children:null===(s=Q.apellidoPaterno)||void 0===s?void 0:s.message})]}),Object(A.jsxs)(u.a.Group,{as:b.a,md:4,children:[Object(A.jsx)(u.a.Label,{children:"Apellido Materno"}),Object(A.jsx)(u.a.Control,Object(l.a)({isInvalid:!!Q.apellidoMaterno},V("apellidoMaterno"))),Object(A.jsx)(u.a.Control.Feedback,{type:"invalid",children:null===(h=Q.apellidoMaterno)||void 0===h?void 0:h.message})]}),Object(A.jsxs)(u.a.Group,{as:b.a,md:4,children:[Object(A.jsx)(u.a.Label,{children:"Nombres"}),Object(A.jsx)(u.a.Control,Object(l.a)({isInvalid:!!Q.nombres},V("nombres"))),Object(A.jsx)(u.a.Control.Feedback,{type:"invalid",children:null===(x=Q.nombres)||void 0===x?void 0:x.message})]})]}),Object(A.jsxs)(u.a.Row,{children:[Object(A.jsxs)(u.a.Group,{as:b.a,md:8,children:[Object(A.jsx)(u.a.Label,{children:"Especialidad"}),Object(A.jsx)(_.a,{name:"especialidad",control:F,render:function(e){var t,n=e.field,a=e.fieldState;return Object(A.jsx)(A.Fragment,{children:Object(A.jsx)(it,{id:"medicos-form/especialidades-typeahead",align:"left",onLoad:function(e){return C(e)},feedback:null===(t=a.error)||void 0===t?void 0:t.message,className:U.errors.especialidad?"is-invalid":"",isInvalid:!!a.error,selected:n.value,onChange:n.onChange,onBlur:n.onBlur})})}})]}),Object(A.jsxs)(u.a.Group,{as:b.a,md:4,children:[Object(A.jsx)(u.a.Label,{children:"Regional"}),Object(A.jsx)(_.a,{name:"regional",control:F,render:function(e){var t,n=e.field,a=e.fieldState;return Object(A.jsx)(A.Fragment,{children:Object(A.jsx)(p.i,{id:"proveedor-form/regionales-typeahead",onLoad:function(e){return M(e)},filterBy:function(e){return!!(null===R||void 0===R?void 0:R.can(f.a.REGISTRAR_PROVEEDORES))||(!(!(null===R||void 0===R?void 0:R.can(f.a.REGISTRAR_PROVEEDORES_REGIONAL))||(null===R||void 0===R?void 0:R.regionalId)!=e.id)||(!(!g||!(null===R||void 0===R?void 0:R.can(f.a.EDITAR_PROVEEDORES)))||!(!g||!(null===R||void 0===R?void 0:R.can(f.a.EDITAR_PROVEEDORES_REGIONAL))||(null===R||void 0===R?void 0:R.regionalId)!=e.id)))},feedback:null===(t=a.error)||void 0===t?void 0:t.message,isInvalid:!!a.error,selected:n.value,onChange:n.onChange,onBlur:n.onBlur})})}})]})]}),v?null:Object(A.jsxs)(O.a,{type:"submit",children:[H.isLoading?Object(A.jsx)(j.a,{animation:"border",size:"sm"}):null,"Guardar"]})]})})},qt=function(e){var t,n,i,c=Object(a.useState)(0),o=Object(d.a)(c,2),s=o[0],l=o[1],j=Object(r.i)().id,O=Object(r.g)(),h=Object(D.b)("queryLoader"),x=Object(m.a)(["proveedor.cargar",j],(function(){return ce.cargar(parseInt(j))}),{enabled:!!j&&!(null===(t=O.location.state)||void 0===t?void 0:t.proveedor),refetchOnMount:!1,refetchOnReconnect:!1,refetchOnWindowFocus:!1,onSuccess:function(){h.close()},onError:function(e){h.open({state:"error",error:e})}}),v=(null===(n=x.data)||void 0===n?void 0:n.data)||(null===(i=O.location.state)||void 0===i?void 0:i.proveedor);Object(a.useEffect)((function(){v&&l(v.tipoId)}),[v]),Object(a.useEffect)((function(){x.isLoading&&h.open({state:"loading"})}),[x.isLoading]);return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("h1",{style:{fontSize:"1.75rem"},children:j?"Actualizacion de Proveedor":"Registro de Proveedor"}),Object(A.jsxs)(u.a.Group,{as:u.a.Row,children:[Object(A.jsx)(u.a.Label,{column:!0,sm:"auto",children:"Tipo de proveedor"}),Object(A.jsxs)(b.a,{className:"d-flex",xs:"auto",children:[Object(A.jsx)(u.a.Check,{disabled:!!j,inline:!0,type:"radio",label:"M\xe9dico",value:1,checked:1==s,onChange:function(e){e.target.checked&&!j&&l(1)}}),Object(A.jsx)(u.a.Check,{disabled:!!j,inline:!0,type:"radio",label:"Empresa",value:2,checked:2==s,onChange:function(e){e.target.checked&&!j&&l(2)}})]})]}),1==s?Object(A.jsx)(Ut,{proveedor:v,onSubmit:e.onSubmit}):2==s?Object(A.jsx)(Ft,{proveedor:v,onSubmit:e.onSubmit}):null]})},Qt=U.g().shape({municipio:U.b().label("municipio").length(1,"Debe indicar un municipio"),direccion:U.j().label("direcci\xf3n").trim().required(),ubicacion:U.e().label("ubicaci\xf3n").required(),telefono1:U.f().label("telefono 1").typeError("No es un numero v\xe1lido").emptyStringTo().required(),telefono2:U.f().label("telefono 2").emptyStringToNull().typeError("No es un numero v\xe1lido").nullable().notRequired()}),Xt=function(e){var t,n,i,c,o,s,h=Object(r.i)().idProveedor;console.log("Proveedores",h);var x=Object(r.g)(),v=Object(D.b)("queryLoader"),f=Object(a.useState)([]),g=Object(d.a)(f,2),E=g[0],R=g[1],S=Object(a.useState)([]),I=Object(d.a)(S,2),N=I[0],C=I[1],y=Object(a.useState)([]),L=Object(d.a)(y,2),T=L[0],M=L[1],G=Object(_.h)({mode:"onBlur",resolver:Object(B.a)(Qt),defaultValues:{departamento:[],provincia:[],municipio:[],ubicacion:[-17.78629,-63.18117]}}),P=G.handleSubmit,V=G.register,z=G.control,F=G.watch,U=G.setError,q=G.setValue,Q=G.formState.errors,X=Object(m.a)(["proveedor.cargar",h],(function(){return ce.cargar(parseInt(h))}),{enabled:!!h&&!(null===(t=x.location.state)||void 0===t?void 0:t.proveedor),refetchOnMount:!1,refetchOnReconnect:!1,refetchOnWindowFocus:!1,onSuccess:function(){v.close()},onError:function(e){v.open({state:"error",error:e})}}),H=Object(w.a)((function(e){var t,n;if(Array.isArray(e.ubicacion)){var a=e.ubicacion,r=Object(d.a)(a,2);t=r[0],n=r[1]}else{var i=e.ubicacion;t=i.lat,n=i.lng}return ce.actualizarInformacionDeContacto(parseInt(h),{municipioId:e.municipio[0].id,direccion:e.direccion,ubicacion:{latitud:t,longitud:n},telefono1:e.telefono1,telefono2:e.telefono2})}),{onSuccess:function(e){var t=e.data;x.replace("/clinica/proveedores/".concat(t.id))},onError:function(e){var t;if(422==(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)){var n,a=(null===(n=e.response)||void 0===n?void 0:n.data).errors;Object.keys(a).forEach((function(e){U(e,{type:"serverError",message:a[e]})}))}}}),K=(null===(n=x.location.state)||void 0===n?void 0:n.proveedor)||(null===(i=X.data)||void 0===i?void 0:i.data);Object(a.useEffect)((function(){q("direccion",(null===K||void 0===K?void 0:K.direccion)||"");var e=(null===K||void 0===K?void 0:K.ubicacion)||{latitud:-17.78629,longitud:-63.18117},t=e.latitud,n=e.longitud;q("ubicacion",[t,n]),q("telefono1",null===K||void 0===K?void 0:K.telefono1),q("telefono2",null===K||void 0===K?void 0:K.telefono2)}),[K]),Object(a.useEffect)((function(){if(K&&T.length&&N.length&&E.length){var e=T.find((function(e){return e.id==(null===K||void 0===K?void 0:K.municipioId)})),t=N.find((function(t){return t.id==(null===e||void 0===e?void 0:e.provinciaId)})),n=E.find((function(e){return e.id==(null===t||void 0===t?void 0:t.departamentoId)}));q("municipio",e?[e]:[]),q("provincia",t?[t]:[]),q("departamento",n?[n]:[])}}),[K,E,N,T]),Object(a.useEffect)((function(){X.isLoading&&v.open({state:"loading"})}),[X.isLoading]);return Object(A.jsxs)(u.a,{id:"proveedor-contacto-form",onSubmit:P(e.onSubmit||function(e){H.mutate(e)}),children:[Object(A.jsx)("h1",{style:{fontSize:"1.75rem"},children:"Informaci\xf3n de contacto"}),function(){if(H.isSuccess)return Object(A.jsx)(k.a,{variant:"success",children:"La operacion se realiz\xf3 exitosamente"});if(H.isError){var e,t,n=H.error;return Object(A.jsx)(k.a,{variant:"danger",children:n?(null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||n.message:""})}return null}(),Object(A.jsxs)(u.a.Row,{children:[Object(A.jsxs)(u.a.Group,{as:b.a,sm:4,children:[Object(A.jsx)(u.a.Label,{children:"Departamento"}),Object(A.jsx)(_.a,{name:"departamento",control:z,render:function(e){var t,n=e.field,a=e.fieldState;return Object(A.jsx)(p.a,{id:"contacto-form/departamentos",onLoad:function(e){R(e)},feedback:null===(t=a.error)||void 0===t?void 0:t.message,isInvalid:!!a.error,selected:n.value,onChange:function(e){n.onChange(e),q("provincia",[]),q("municipio",[])},onBlur:n.onBlur})}})]}),Object(A.jsxs)(u.a.Group,{as:b.a,sm:4,children:[Object(A.jsx)(u.a.Label,{children:"Provincia"}),Object(A.jsx)(_.a,{name:"provincia",control:z,render:function(e){var t,n=e.field,a=e.fieldState;return Object(A.jsx)(p.g,{id:"contacto-form/provincias",onLoad:function(e){C(e)},filterBy:function(e){var t=F("departamento");return!!t.length&&e.departamentoId==t[0].id},feedback:null===(t=a.error)||void 0===t?void 0:t.message,isInvalid:!!a.error,selected:n.value,onChange:function(e){n.onChange(e),q("municipio",[])},onBlur:n.onBlur})}})]}),Object(A.jsxs)(u.a.Group,{as:b.a,sm:4,children:[Object(A.jsx)(u.a.Label,{children:"Municipio"}),Object(A.jsx)(_.a,{name:"municipio",control:z,render:function(e){var t,n=e.field,a=e.fieldState;return Object(A.jsx)(p.c,{id:"contacto-form/municipios",onLoad:function(e){M(e)},filterBy:function(e){var t=F("provincia");return!!t.length&&e.provinciaId==t[0].id},feedback:null===(t=a.error)||void 0===t?void 0:t.message,isInvalid:!!a.error,selected:n.value,onChange:n.onChange,onBlur:n.onBlur})}})]})]}),Object(A.jsx)(u.a.Row,{children:Object(A.jsxs)(u.a.Group,{as:b.a,children:[Object(A.jsx)(u.a.Label,{children:"Direccion"}),Object(A.jsx)(u.a.Control,Object(l.a)({as:"textarea",isInvalid:!!Q.direccion},V("direccion"))),Object(A.jsx)(u.a.Control.Feedback,{type:"invalid",children:null===(c=Q.direccion)||void 0===c?void 0:c.message})]})}),Object(A.jsx)(u.a.Row,{children:Object(A.jsxs)(u.a.Group,{as:b.a,children:[Object(A.jsx)(u.a.Label,{children:"Ubicaci\xf3n"}),Object(A.jsx)(_.a,{name:"ubicacion",control:z,render:function(e){var t,n=e.field,a=e.fieldState;return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(p.b,{isInvalid:!!a.error,center:n.value||[-17.78629,-63.18117],value:n.value,onChange:n.onChange}),Object(A.jsx)(u.a.Control.Feedback,{type:"invalid",children:null===(t=a.error)||void 0===t?void 0:t.message})]})}})]})}),Object(A.jsxs)(u.a.Row,{children:[Object(A.jsxs)(u.a.Group,{as:b.a,sm:4,children:[Object(A.jsx)(u.a.Label,{children:"Tel\xe9fono 1"}),Object(A.jsx)(u.a.Control,Object(l.a)({isInvalid:!!Q.telefono1},V("telefono1"))),Object(A.jsx)(u.a.Control.Feedback,{type:"invalid",children:null===(o=Q.telefono1)||void 0===o?void 0:o.message})]}),Object(A.jsxs)(u.a.Group,{as:b.a,sm:4,children:[Object(A.jsx)(u.a.Label,{children:"Tel\xe9fono 2"}),Object(A.jsx)(u.a.Control,Object(l.a)({isInvalid:!!Q.telefono2},V("telefono2"))),Object(A.jsx)(u.a.Control.Feedback,{type:"invalid",children:null===(s=Q.telefono2)||void 0===s?void 0:s.message})]})]}),e.onSubmit?null:Object(A.jsxs)(O.a,{type:"submit",children:[H.isLoading?Object(A.jsx)(j.a,{className:"mr-2",animation:"border",size:"sm"}):null,Object(A.jsx)("span",{className:"align-middle",children:"Guardar"})]})]})},Ht=function(e){return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(qt,{onSubmit:function(t){e.onSubmit(t),e.nextStep()}}),Object(A.jsx)(u.a.Row,{children:Object(A.jsx)(b.a,{className:"ml-auto",xs:"auto",children:Object(A.jsx)(O.a,{type:"submit",form:"proveedor-form",children:"Siguiente"})})})]})},Kt=function(e){return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(Xt,{onSubmit:function(t){e.onSubmit(t),e.nextStep()}}),Object(A.jsxs)(u.a.Row,{children:[Object(A.jsx)(b.a,{xs:"auto",children:Object(A.jsx)(O.a,{onClick:e.previousStep,children:"Anterior"})}),Object(A.jsx)(b.a,{className:"ml-auto",xs:"auto",children:Object(A.jsx)(O.a,{variant:"link",onClick:e.nextStep,children:"Omitir"})}),Object(A.jsx)(b.a,{xs:"auto",children:Object(A.jsx)(O.a,{type:"submit",form:"proveedor-contacto-form",children:"Siguiente"})})]})]})},Wt=function(e){return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(wt,{onSubmit:function(t){e.onSubmit(t),e.nextStep()}}),Object(A.jsxs)(u.a.Row,{children:[Object(A.jsx)(b.a,{xs:"auto",children:Object(A.jsx)(O.a,{onClick:e.previousStep,children:"Anterior"})}),Object(A.jsx)(b.a,{className:"ml-auto",xs:"auto",children:Object(A.jsx)(O.a,{type:"submit",form:"proveedor-contrato-form",children:"Siguiente"})})]})]})},Jt=function(e){var t,n=e.generalInfo,a=e.contactInfo,i=e.contractInfo,c=Object(J.a)(e,["generalInfo","contactInfo","contractInfo"]),o=Object(r.g)(),s=Object(T.b)();var l=Object(w.a)((function(){var e,t,r,c=1==n.tipo?{tipoId:n.tipo,nit:n.nit,ci:n.ci,ciComplemento:n.ciComplemento,apellidoPaterno:n.apellidoPaterno,apellidoMaterno:n.apellidoMaterno,nombres:n.nombres,especialidadId:n.especialidad[0].id,regionalId:n.regional[0].id}:{tipoId:n.tipo,nit:n.nit,nombre:n.nombre,regionalId:n.regional[0].id};if(a){var o,s;if(Array.isArray(a.ubicacion)){var l=a.ubicacion,j=Object(d.a)(l,2);o=j[0],s=j[1]}else{var u=a.ubicacion;o=u.lat,s=u.lng}r={municipioId:a.municipio[0].id,direccion:a.direccion,ubicacion:{latitud:o,longitud:s},telefono1:a.telefono1,telefono2:a.telefono2}}var b={inicio:i.inicio.toISOString().split("T")[0],fin:null===(e=i.fin)||void 0===e||null===(t=e.toISOString())||void 0===t?void 0:t.split("T")[0],prestacionIds:i.prestaciones.map((function(e){return e.prestacion.id}))};return ce.registrar({general:c,contacto:r,contrato:b})}),{onSuccess:function(e){var t=e.data;s.invalidateQueries("proveedores.buscar"),o.push("/clinica/proveedores/".concat(t.id))}});return n&&i?Object(A.jsxs)("div",{children:[Object(A.jsxs)("div",{children:[Object(A.jsx)("h2",{children:"Informacion general"}),Object(A.jsx)(x.a,{children:Object(A.jsxs)("tbody",{children:[Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{scope:"row",children:"Tipo de proveedor"}),Object(A.jsx)("td",{children:1==n.tipo?"M\xe9dico":2==n.tipo?"Empresa":null})]}),Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{scope:"row",style:{width:"1px"},children:"NIT"}),Object(A.jsx)("td",{children:n.nit})]}),1==n.tipo?Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{scope:"row",style:{width:1},children:"Carnet de identidad"}),Object(A.jsx)("td",{children:n.ci+(n.ciComplemento?"-".concat(n.ciComplemento):"")})]}),Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{scope:"row",style:{width:1},children:"Nombre"}),Object(A.jsx)("td",{children:(n.apellidoPaterno?n.apellidoPaterno+" ":"")+(n.apellidoMaterno?n.apellidoMaterno+" ":"")+n.nombres})]}),Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{scope:"row",children:"Especialidad"}),Object(A.jsx)("td",{children:null===n||void 0===n?void 0:n.especialidad[0].nombre})]})]}):2==(null===n||void 0===n?void 0:n.tipo)?Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{scope:"row",style:{width:1},children:"Nombre"}),Object(A.jsx)("td",{children:null===n||void 0===n?void 0:n.nombre})]}):null,Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{scope:"row",children:"Regional"}),Object(A.jsx)("td",{children:n.regional[0].nombre})]})]})}),Object(A.jsx)("h2",{children:"Informacion de contacto"}),a?Object(A.jsx)(x.a,{children:Object(A.jsxs)("tbody",{children:[Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{scope:"row",children:"Municipio"}),Object(A.jsx)("td",{children:a.municipio[0].nombre})]}),Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{scope:"row",children:"Direccion"}),Object(A.jsx)("td",{children:a.direccion})]}),Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{scope:"row",children:"Ubicaci\xf3n"}),Object(A.jsx)("td",{children:Array.isArray(a.ubicacion)?"".concat(a.ubicacion[0],", ").concat(a.ubicacion[1]):"".concat(a.ubicacion.lat,", ").concat(a.ubicacion.lng)})]}),Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{children:"Tel\xe9fono 1"}),Object(A.jsx)("td",{children:a.telefono1})]}),Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{children:"Telefono 2"}),Object(A.jsx)("td",{children:a.telefono2})]})]})}):"Omitida",Object(A.jsx)("h2",{children:"Contrato"}),Object(A.jsx)(x.a,{children:Object(A.jsxs)("tbody",{children:[Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{scope:"row",children:"Inicio"}),Object(A.jsx)("td",{children:i.inicio.toISOString().split("T")[0]})]}),Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{scope:"row",children:"Fin"}),Object(A.jsx)("td",{children:null===(t=i.fin)||void 0===t?void 0:t.toISOString().split("T")[0]})]}),Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{scope:"row",children:"Prestaciones"}),Object(A.jsx)("td",{children:Object(A.jsx)("ul",{children:i.prestaciones.map((function(e){return Object(A.jsx)("li",{children:e.prestacion.nombre})}))})})]})]})})]}),Object(A.jsxs)(u.a.Row,{children:[Object(A.jsx)(b.a,{xs:"auto",children:Object(A.jsx)(O.a,{onClick:c.previousStep,children:"Anterior"})}),Object(A.jsx)(b.a,{className:"ml-auto",xs:"auto",children:Object(A.jsxs)(O.a,{onClick:function(){l.mutate()},children:[l.isLoading?Object(A.jsx)(j.a,{animation:"border",size:"sm"}):null,"Guardar"]})})]})]}):null},$t=function(){var e=Object(a.useState)(),t=Object(d.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)(),c=Object(d.a)(i,2),o=c[0],s=c[1],l=Object(a.useState)(),j=Object(d.a)(l,2),u=j[0],b=j[1];return Object(A.jsxs)(zt.a,{children:[Object(A.jsx)(Ht,{onSubmit:function(e){r(e)}}),Object(A.jsx)(Kt,{onSubmit:function(e){s(e)}}),Object(A.jsx)(Wt,{onSubmit:function(e){b(e)}}),Object(A.jsx)(Jt,{generalInfo:n,contactInfo:o,contractInfo:u})]})},Zt=n(620),Yt=function(){var e=Object(r.j)().url,t=Object(f.d)(),n=Object(a.useMemo)((function(){var n=[];return P.index(t)&&n.push({id:"lista-mora",path:"".concat(e,"/lista-mora"),title:"Lista de mora",icon:Object(A.jsx)(H,{})}),pe.index(t)&&n.push({id:"atencion-externa",path:"".concat(e,"/atencion-externa"),title:"Atenci\xf3n externa",icon:Object(A.jsx)(s.a,{})}),rt.index(t)&&n.push({id:"medicos",path:"".concat(e,"/medicos"),title:"Medicos",icon:Object(A.jsx)(c.p,{})}),ut.index(t)&&n.push({id:"proveedores",path:"".concat(e,"/proveedores"),title:"Proveedores",icon:Object(A.jsx)(c.h,{})}),n.push({id:"especialidades",path:"".concat(e,"/especialidades"),title:"Especialidades",icon:Object(A.jsx)(o.a,{})},{id:"prestaciones",path:"".concat(e,"/prestaciones"),title:"Prestaciones",icon:Object(A.jsx)(c.j,{})}),n}),[t]);return Object(A.jsxs)(i.a,{sidebar:{header:Object(A.jsx)("div",{className:"d-flex justify-content-center",children:Object(A.jsx)(Zt.a,{src:"/logo-lg.png"})}),items:n},children:[Object(A.jsxs)(r.d,{children:[Object(A.jsx)(f.c,{exact:!0,path:"".concat(e,"/lista-mora/agregar"),authorize:P.index,children:Object(A.jsx)(Q,{})}),Object(A.jsx)(r.b,{path:"".concat(e,"/lista-mora"),children:Object(A.jsx)(z,{})}),Object(A.jsx)(f.c,{exact:!0,path:"".concat(e,"/atencion-externa"),authorize:pe.index,children:Object(A.jsx)(fe,{})}),Object(A.jsx)(f.c,{exact:!0,path:"".concat(e,"/atencion-externa/registrar"),authorize:pe.register,children:Object(A.jsx)(Ge,{})}),Object(A.jsx)(f.c,{exact:!0,path:"".concat(e,"/medicos"),authorize:rt.index,children:Object(A.jsx)(st,{})}),Object(A.jsx)(f.c,{exact:!0,path:["".concat(e,"/medicos/registrar"),"".concat(e,"/medicos/:id/editar")],authorize:function(t,n){return n=="".concat(e,"/medicos/registrar")?rt.register(t):rt.edit(t)},children:Object(A.jsx)(jt,{})}),Object(A.jsx)(f.c,{exact:!0,path:"".concat(e,"/medicos/:id"),authorize:rt.view,children:Object(A.jsx)(lt,{})}),Object(A.jsx)(f.c,{exact:!0,path:"".concat(e,"/proveedores"),authorize:ut.index,children:Object(A.jsx)(ht,{})}),Object(A.jsx)(f.c,{exact:!0,path:"".concat(e,"/proveedores/registrar"),authorize:ut.register,children:Object(A.jsx)($t,{})}),Object(A.jsx)(f.c,{exact:!0,path:"".concat(e,"/proveedores/:id"),authorize:ut.view,children:Object(A.jsx)(Pt,{})}),Object(A.jsx)(f.c,{exact:!0,path:"".concat(e,"/proveedores/:id/editar"),authorize:ut.edit,children:Object(A.jsx)(qt,{})}),Object(A.jsx)(f.c,{exact:!0,path:"".concat(e,"/proveedores/:idProveedor/editar-contacto"),authorize:function(e){return ut.register(e)||ut.edit(e)},children:Object(A.jsx)(Xt,{})}),Object(A.jsx)(f.c,{exact:!0,path:"".concat(e,"/proveedores/:idProveedor/contratos/registrar"),authorize:St.register,children:Object(A.jsx)(wt,{})}),Object(A.jsx)(f.c,{exact:!0,path:"".concat(e,"/proveedores/:idProveedor/contratos/:id"),authorize:ut.view,children:Object(A.jsx)(At,{})}),Object(A.jsx)(r.b,{path:"".concat(e,"/especialidades"),children:Object(A.jsx)(Xe,{})}),Object(A.jsx)(r.b,{path:"".concat(e,"/prestaciones"),children:Object(A.jsx)(tt,{})})]}),Object(A.jsx)(r.b,{exact:!0,path:["".concat(e,"/prestaciones/registrar"),"".concat(e,"/prestaciones/:id/editar")],children:Object(A.jsx)(at,{})}),Object(A.jsx)(r.b,{exact:!0,path:["".concat(e,"/especialidades/registrar"),"".concat(e,"/especialidades/:id/editar")],children:Object(A.jsx)(Ke,{})})]})};t.default=Yt}}]);
//# sourceMappingURL=6.40b99d3d.chunk.js.map